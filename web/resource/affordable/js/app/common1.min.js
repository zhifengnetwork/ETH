function resizeView() {
        var e = document.documentElement.clientHeight,
            t = $(".footer").length > 0 ? $(".footer").css("height") : 0,
            n = $(".left-menu-content").length > 0 ? $(".left-menu-content").css("height") : 0,
            a = $(".footer").length > 0 ? $(".footer").width() : 0,
            i = $(".right-content").length > 0 ? $(".right-content").width() : 0;
        2 == $(".left-menu, .right-content").length && a != i - 1 && ($(".footer").length > 0 ? $(".footer").hide() : $(".footer").show()), $(".main-panel-body,.panel-cut").css("min-height", e - 100), $(".caret-wxapp .panel-app").css("min-height", e - 95), parseInt(n) > e - 50 ? $(".skin-black .right-content>.content").css("min-height", parseInt(n) - parseInt(t) - 30 + "px") : $(".skin-black .right-content>.content").css("min-height", e - parseInt(t) - 93 + "px"), $(".link-group").each(function() {
            var e = $(this).children("a").length;
            $(this).css("min-width", 100 * e + 10)
        })
    }! function(e) {
        "use strict";

        function t(e, t) {
            return t = t || Error,
                function() {
                    var n, a, i = arguments,
                        s = i[0],
                        o = "[" + (e ? e + ":" : "") + s + "] ";
                    for (o += i[1].replace(/\{\d+\}/g, function(e) {
                        var t = +e.slice(1, -1) + 2;
                        return t < i.length ? ve(i[t]) : e
                    }), o += "\nhttp://errors.angularjs.org/1.5.6/" + (e ? e + "/" : "") + s, a = 2, n = "?"; a < i.length; a++, n = "&") o += n + "p" + (a - 2) + "=" + encodeURIComponent(ve(i[a]));
                    return new t(o)
                }
        }

        function n(e) {
            if (null == e || C(e)) return !1;
            if (Aa(e) || w(e) || ba && e instanceof ba) return !0;
            var t = "length" in Object(e) && e.length;
            return x(t) && (t >= 0 && (t - 1 in e || e instanceof Array) || "function" == typeof e.item)
        }

        function a(e, t, i) {
            var s, o;
            if (e)
                if (S(e))
                    for (s in e) "prototype" == s || "length" == s || "name" == s || e.hasOwnProperty && !e.hasOwnProperty(s) || t.call(i, e[s], s, e);
                else if (Aa(e) || n(e)) {
                var r = "object" != typeof e;
                for (s = 0, o = e.length; s < o; s++)(r || s in e) && t.call(i, e[s], s, e)
            } else if (e.forEach && e.forEach !== a) e.forEach(t, i, e);
            else if ($(e))
                for (s in e) t.call(i, e[s], s, e);
            else if ("function" == typeof e.hasOwnProperty)
                for (s in e) e.hasOwnProperty(s) && t.call(i, e[s], s, e);
            else
                for (s in e) fa.call(e, s) && t.call(i, e[s], s, e);
            return e
        }

        function i(e, t, n) {
            for (var a = Object.keys(e).sort(), i = 0; i < a.length; i++) t.call(n, e[a[i]], a[i]);
            return a
        }

        function s(e) {
            return function(t, n) {
                e(n, t)
            }
        }

        function o() {
            return ++Ma
        }

        function r(e, t) {
            t ? e.$$hashKey = t : delete e.$$hashKey
        }

        function l(e, t, n) {
            for (var a = e.$$hashKey, i = 0, s = t.length; i < s; ++i) {
                var o = t[i];
                if (y(o) || S(o))
                    for (var c = Object.keys(o), u = 0, d = c.length; u < d; u++) {
                        var p = c[u],
                            m = o[p];
                        n && y(m) ? k(m) ? e[p] = new Date(m.valueOf()) : I(m) ? e[p] = new RegExp(m) : m.nodeName ? e[p] = m.cloneNode(!0) : j(m) ? e[p] = m.clone() : (y(e[p]) || (e[p] = Aa(m) ? [] : {}), l(e[p], [m], !0)) : e[p] = m
                    }
            }
            return r(e, a), e
        }

        function c(e) {
            return l(e, wa.call(arguments, 1), !1)
        }

        function u(e) {
            return l(e, wa.call(arguments, 1), !0)
        }

        function d(e) {
            return parseInt(e, 10)
        }

        function p(e, t) {
            return c(Object.create(e), t)
        }

        function m() {}

        function f(e) {
            return e
        }

        function g(e) {
            return function() {
                return e
            }
        }

        function h(e) {
            return S(e.toString) && e.toString !== Sa
        }

        function v(e) {
            return void 0 === e
        }

        function b(e) {
            return void 0 !== e
        }

        function y(e) {
            return null !== e && "object" == typeof e
        }

        function $(e) {
            return null !== e && "object" == typeof e && !Ia(e)
        }

        function w(e) {
            return "string" == typeof e
        }

        function x(e) {
            return "number" == typeof e
        }

        function k(e) {
            return "[object Date]" === Sa.call(e)
        }

        function S(e) {
            return "function" == typeof e
        }

        function I(e) {
            return "[object RegExp]" === Sa.call(e)
        }

        function C(e) {
            return e && e.window === e
        }

        function _(e) {
            return e && e.$evalAsync && e.$watch
        }

        function M(e) {
            return "[object File]" === Sa.call(e)
        }

        function A(e) {
            return "[object FormData]" === Sa.call(e)
        }

        function D(e) {
            return "[object Blob]" === Sa.call(e)
        }

        function T(e) {
            return "boolean" == typeof e
        }

        function E(e) {
            return e && S(e.then)
        }

        function P(e) {
            return e && x(e.length) && Da.test(Sa.call(e))
        }

        function O(e) {
            return "[object ArrayBuffer]" === Sa.call(e)
        }

        function j(e) {
            return !(!e || !(e.nodeName || e.prop && e.attr && e.find))
        }

        function N(e) {
            var t, n = {},
                a = e.split(",");
            for (t = 0; t < a.length; t++) n[a[t]] = !0;
            return n
        }

        function L(e) {
            return ga(e.nodeName || e[0] && e[0].nodeName)
        }

        function U(e, t) {
            var n = e.indexOf(t);
            return n >= 0 && e.splice(n, 1), n
        }

        function B(e, t) {
            function n(e, t) {
                var n, a = t.$$hashKey;
                if (Aa(e))
                    for (var s = 0, o = e.length; s < o; s++) t.push(i(e[s]));
                else if ($(e))
                    for (n in e) t[n] = i(e[n]);
                else if (e && "function" == typeof e.hasOwnProperty)
                    for (n in e) e.hasOwnProperty(n) && (t[n] = i(e[n]));
                else
                    for (n in e) fa.call(e, n) && (t[n] = i(e[n]));
                return r(t, a), t
            }

            function i(e) {
                if (!y(e)) return e;
                var t = o.indexOf(e);
                if (-1 !== t) return l[t];
                if (C(e) || _(e)) throw Ca("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
                var a = !1,
                    i = s(e);
                return void 0 === i && (i = Aa(e) ? [] : Object.create(Ia(e)), a = !0), o.push(e), l.push(i), a ? n(e, i) : i
            }

            function s(e) {
                switch (Sa.call(e)) {
                    case "[object Int8Array]":
                    case "[object Int16Array]":
                    case "[object Int32Array]":
                    case "[object Float32Array]":
                    case "[object Float64Array]":
                    case "[object Uint8Array]":
                    case "[object Uint8ClampedArray]":
                    case "[object Uint16Array]":
                    case "[object Uint32Array]":
                        return new e.constructor(i(e.buffer));
                    case "[object ArrayBuffer]":
                        if (!e.slice) {
                            var t = new ArrayBuffer(e.byteLength);
                            return new Uint8Array(t).set(new Uint8Array(e)), t
                        }
                        return e.slice(0);
                    case "[object Boolean]":
                    case "[object Number]":
                    case "[object String]":
                    case "[object Date]":
                        return new e.constructor(e.valueOf());
                    case "[object RegExp]":
                        var n = new RegExp(e.source, e.toString().match(/[^\/]*$/)[0]);
                        return n.lastIndex = e.lastIndex, n;
                    case "[object Blob]":
                        return new e.constructor([e], {
                            type: e.type
                        })
                }
                if (S(e.cloneNode)) return e.cloneNode(!0)
            }
            var o = [],
                l = [];
            if (t) {
                if (P(t) || O(t)) throw Ca("cpta", "Can't copy! TypedArray destination cannot be mutated.");
                if (e === t) throw Ca("cpi", "Can't copy! Source and destination are identical.");
                return Aa(t) ? t.length = 0 : a(t, function(e, n) {
                    "$$hashKey" !== n && delete t[n]
                }), o.push(e), l.push(t), n(e, t)
            }
            return i(e)
        }

        function H(e, t) {
            if (Aa(e)) {
                t = t || [];
                for (var n = 0, a = e.length; n < a; n++) t[n] = e[n]
            } else if (y(e)) {
                t = t || {};
                for (var i in e) "$" === i.charAt(0) && "$" === i.charAt(1) || (t[i] = e[i])
            }
            return t || e
        }

        function R(e, t) {
            if (e === t) return !0;
            if (null === e || null === t) return !1;
            if (e !== e && t !== t) return !0;
            var n, a, i, s = typeof e;
            if (s == typeof t && "object" == s) {
                if (!Aa(e)) {
                    if (k(e)) return !!k(t) && R(e.getTime(), t.getTime());
                    if (I(e)) return !!I(t) && e.toString() == t.toString();
                    if (_(e) || _(t) || C(e) || C(t) || Aa(t) || k(t) || I(t)) return !1;
                    i = fe();
                    for (a in e)
                        if ("$" !== a.charAt(0) && !S(e[a])) {
                            if (!R(e[a], t[a])) return !1;
                            i[a] = !0
                        }
                    for (a in t)
                        if (!(a in i) && "$" !== a.charAt(0) && b(t[a]) && !S(t[a])) return !1;
                    return !0
                }
                if (!Aa(t)) return !1;
                if ((n = e.length) == t.length) {
                    for (a = 0; a < n; a++)
                        if (!R(e[a], t[a])) return !1;
                    return !0
                }
            }
            return !1
        }

        function V(e, t, n) {
            return e.concat(wa.call(t, n))
        }

        function F(e, t) {
            return wa.call(e, t || 0)
        }

        function q(e, t) {
            var n = arguments.length > 2 ? F(arguments, 2) : [];
            return !S(t) || t instanceof RegExp ? t : n.length ? function() {
                return arguments.length ? t.apply(e, V(n, arguments, 0)) : t.apply(e, n)
            } : function() {
                return arguments.length ? t.apply(e, arguments) : t.call(e)
            }
        }

        function z(t, n) {
            var a = n;
            return "string" == typeof t && "$" === t.charAt(0) && "$" === t.charAt(1) ? a = void 0 : C(n) ? a = "$WINDOW" : n && e.document === n ? a = "$DOCUMENT" : _(n) && (a = "$SCOPE"), a
        }

        function W(e, t) {
            if (!v(e)) return x(t) || (t = t ? 2 : null), JSON.stringify(e, z, t)
        }

        function G(e) {
            return w(e) ? JSON.parse(e) : e
        }

        function Y(e, t) {
            e = e.replace(ja, "");
            var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
            return isNaN(n) ? t : n
        }

        function K(e, t) {
            return (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t), e
        }

        function Z(e, t, n) {
            n = n ? -1 : 1;
            var a = e.getTimezoneOffset();
            return K(e, n * (Y(t, a) - a))
        }

        function Q(e) {
            e = ba(e).clone();
            try {
                e.empty()
            } catch (e) {}
            var t = ba("<div>").append(e).html();
            try {
                return e[0].nodeType === Ha ? ga(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(e, t) {
                    return "<" + ga(t)
                })
            } catch (e) {
                return ga(t)
            }
        }

        function J(e) {
            try {
                return decodeURIComponent(e)
            } catch (e) {}
        }

        function X(e) {
            var t = {};
            return a((e || "").split("&"), function(e) {
                var n, a, i;
                e && (a = e = e.replace(/\+/g, "%20"), -1 !== (n = e.indexOf("=")) && (a = e.substring(0, n), i = e.substring(n + 1)), b(a = J(a)) && (i = !b(i) || J(i), fa.call(t, a) ? Aa(t[a]) ? t[a].push(i) : t[a] = [t[a], i] : t[a] = i))
            }), t
        }

        function ee(e) {
            var t = [];
            return a(e, function(e, n) {
                Aa(e) ? a(e, function(e) {
                    t.push(ne(n, !0) + (!0 === e ? "" : "=" + ne(e, !0)))
                }) : t.push(ne(n, !0) + (!0 === e ? "" : "=" + ne(e, !0)))
            }), t.length ? t.join("&") : ""
        }

        function te(e) {
            return ne(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
        }

        function ne(e, t) {
            return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+")
        }

        function ae(e, t) {
            var n, a, i = Na.length;
            for (a = 0; a < i; ++a)
                if (n = Na[a] + t, w(n = e.getAttribute(n))) return n;
            return null
        }

        function ie(e, t) {
            var n, i, s = {};
            a(Na, function(t) {
                var a = t + "app";
                !n && e.hasAttribute && e.hasAttribute(a) && (n = e, i = e.getAttribute(a))
            }), a(Na, function(t) {
                var a, s = t + "app";
                !n && (a = e.querySelector("[" + s.replace(":", "\\:") + "]")) && (n = a, i = a.getAttribute(s))
            }), n && (s.strictDi = null !== ae(n, "strict-di"), t(n, i ? [i] : [], s))
        }

        function se(t, n, i) {
            y(i) || (i = {}), i = c({
                strictDi: !1
            }, i);
            var s = function() {
                    if ((t = ba(t)).injector()) {
                        var a = t[0] === e.document ? "document" : Q(t);
                        throw Ca("btstrpd", "App already bootstrapped with this element '{0}'", a.replace(/</, "&lt;").replace(/>/, "&gt;"))
                    }(n = n || []).unshift(["$provide",
                        function(e) {
                            e.value("$rootElement", t)
                        }
                    ]), i.debugInfoEnabled && n.push(["$compileProvider",
                        function(e) {
                            e.debugInfoEnabled(!0)
                        }
                    ]), n.unshift("ng");
                    var s = Je(n, i.strictDi);
                    return s.invoke(["$rootScope", "$rootElement", "$compile", "$injector",
                        function(e, t, n, a) {
                            e.$apply(function() {
                                t.data("$injector", a), n(t)(e)
                            })
                        }
                    ]), s
                },
                o = /^NG_ENABLE_DEBUG_INFO!/,
                r = /^NG_DEFER_BOOTSTRAP!/;
            if (e && o.test(e.name) && (i.debugInfoEnabled = !0, e.name = e.name.replace(o, "")), e && !r.test(e.name)) return s();
            e.name = e.name.replace(r, ""), _a.resumeBootstrap = function(e) {
                return a(e, function(e) {
                    n.push(e)
                }), s()
            }, S(_a.resumeDeferredBootstrap) && _a.resumeDeferredBootstrap()
        }

        function oe() {
            e.name = "NG_ENABLE_DEBUG_INFO!" + e.name, e.location.reload()
        }

        function re(e) {
            var t = _a.element(e).injector();
            if (!t) throw Ca("test", "no injector found for element argument to getTestability");
            return t.get("$$testability")
        }

        function le(e, t) {
            return t = t || "_", e.replace(La, function(e, n) {
                return (n ? t : "") + e.toLowerCase()
            })
        }

        function ce(e, t, n) {
            if (!e) throw Ca("areq", "Argument '{0}' is {1}", t || "?", n || "required");
            return e
        }

        function ue(e, t, n) {
            return n && Aa(e) && (e = e[e.length - 1]), ce(S(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)), e
        }

        function de(e, t) {
            if ("hasOwnProperty" === e) throw Ca("badname", "hasOwnProperty is not a valid {0} name", t)
        }

        function pe(e, t, n) {
            if (!t) return e;
            for (var a, i = t.split("."), s = e, o = i.length, r = 0; r < o; r++) a = i[r], e && (e = (s = e)[a]);
            return !n && S(e) ? q(s, e) : e
        }

        function me(e) {
            for (var t, n = e[0], a = e[e.length - 1], i = 1; n !== a && (n = n.nextSibling); i++)(t || e[i] !== n) && (t || (t = ba(wa.call(e, 0, i))), t.push(n));
            return t || e
        }

        function fe() {
            return Object.create(null)
        }

        function ge(e) {
            function n(e, t, n) {
                return e[t] || (e[t] = n())
            }
            var a = t("$injector"),
                i = t("ng"),
                s = n(e, "angular", Object);
            return s.$$minErr = s.$$minErr || t, n(s, "module", function() {
                var e = {};
                return function(t, s, o) {
                    return function(e, t) {
                        if ("hasOwnProperty" === e) throw i("badname", "hasOwnProperty is not a valid {0} name", t)
                    }(t, "module"), s && e.hasOwnProperty(t) && (e[t] = null), n(e, t, function() {
                        function e(e, t, n, a) {
                            return a || (a = i),
                                function() {
                                    return a[n || "push"]([e, t, arguments]), u
                                }
                        }

                        function n(e, n) {
                            return function(a, s) {
                                return s && S(s) && (s.$$moduleName = t), i.push([e, n, arguments]), u
                            }
                        }
                        if (!s) throw a("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", t);
                        var i = [],
                            r = [],
                            l = [],
                            c = e("$injector", "invoke", "push", r),
                            u = {
                                _invokeQueue: i,
                                _configBlocks: r,
                                _runBlocks: l,
                                requires: s,
                                name: t,
                                provider: n("$provide", "provider"),
                                factory: n("$provide", "factory"),
                                service: n("$provide", "service"),
                                value: e("$provide", "value"),
                                constant: e("$provide", "constant", "unshift"),
                                decorator: n("$provide", "decorator"),
                                animation: n("$animateProvider", "register"),
                                filter: n("$filterProvider", "register"),
                                controller: n("$controllerProvider", "register"),
                                directive: n("$compileProvider", "directive"),
                                component: n("$compileProvider", "component"),
                                config: c,
                                run: function(e) {
                                    return l.push(e), this
                                }
                            };
                        return o && c(o), u
                    })
                }
            })
        }

        function he(e) {
            var t = [];
            return JSON.stringify(e, function(e, n) {
                if (n = z(e, n), y(n)) {
                    if (t.indexOf(n) >= 0) return "...";
                    t.push(n)
                }
                return n
            })
        }

        function ve(e) {
            return "function" == typeof e ? e.toString().replace(/ \{[\s\S]*$/, "") : v(e) ? "undefined" : "string" != typeof e ? he(e) : e
        }

        function be() {
            return ++Wa
        }

        function ye(e) {
            return e.replace(Ka, function(e, t, n, a) {
                return a ? n.toUpperCase() : n
            }).replace(Za, "Moz$1")
        }

        function $e(e) {
            return !ei.test(e)
        }

        function we(e) {
            var t = e.nodeType;
            return t === Ba || !t || t === Va
        }

        function xe(e, t) {
            var n, i, s, o, r = t.createDocumentFragment(),
                l = [];
            if ($e(e)) l.push(t.createTextNode(e));
            else {
                for (n = n || r.appendChild(t.createElement("div")), i = (ti.exec(e) || ["", ""])[1].toLowerCase(), s = ai[i] || ai._default, n.innerHTML = s[1] + e.replace(ni, "<$1></$2>") + s[2], o = s[0]; o--;) n = n.lastChild;
                l = V(l, n.childNodes), (n = r.firstChild).textContent = ""
            }
            return r.textContent = "", r.innerHTML = "", a(l, function(e) {
                r.appendChild(e)
            }), r
        }

        function ke(t, n) {
            n = n || e.document;
            var a;
            return (a = Xa.exec(t)) ? [n.createElement(a[1])] : (a = xe(t, n)) ? a.childNodes : []
        }

        function Se(e, t) {
            var n = e.parentNode;
            n && n.replaceChild(t, e), t.appendChild(e)
        }

        function Ie(e) {
            if (e instanceof Ie) return e;
            var t;
            if (w(e) && (e = Ta(e), t = !0), !(this instanceof Ie)) {
                if (t && "<" != e.charAt(0)) throw Ja("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
                return new Ie(e)
            }
            t ? je(this, ke(e)) : je(this, e)
        }

        function Ce(e) {
            return e.cloneNode(!0)
        }

        function _e(e, t) {
            if (t || Ae(e), e.querySelectorAll)
                for (var n = e.querySelectorAll("*"), a = 0, i = n.length; a < i; a++) Ae(n[a])
        }

        function Me(e, t, n, i) {
            if (b(i)) throw Ja("offargs", "jqLite#off() does not support the `selector` argument");
            var s = De(e),
                o = s && s.events,
                r = s && s.handle;
            if (r)
                if (t) {
                    var l = function(t) {
                        var a = o[t];
                        b(n) && U(a || [], n), b(n) && a && a.length > 0 || (Ya(e, t, r), delete o[t])
                    };
                    a(t.split(" "), function(e) {
                        l(e), Qa[e] && l(Qa[e])
                    })
                } else
                    for (t in o) "$destroy" !== t && Ya(e, t, r), delete o[t]
        }

        function Ae(e, t) {
            var n = e.ng339,
                a = n && za[n];
            if (a) {
                if (t) return void delete a.data[t];
                a.handle && (a.events.$destroy && a.handle({}, "$destroy"), Me(e)), delete za[n], e.ng339 = void 0
            }
        }

        function De(e, t) {
            var n = e.ng339,
                a = n && za[n];
            return t && !a && (e.ng339 = n = be(), a = za[n] = {
                events: {},
                data: {},
                handle: void 0
            }), a
        }

        function Te(e, t, n) {
            if (we(e)) {
                var a = b(n),
                    i = !a && t && !y(t),
                    s = !t,
                    o = De(e, !i),
                    r = o && o.data;
                if (a) r[t] = n;
                else {
                    if (s) return r;
                    if (i) return r && r[t];
                    c(r, t)
                }
            }
        }

        function Ee(e, t) {
            return !!e.getAttribute && (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") > -1
        }

        function Pe(e, t) {
            t && e.setAttribute && a(t.split(" "), function(t) {
                e.setAttribute("class", Ta((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + Ta(t) + " ", " ")))
            })
        }

        function Oe(e, t) {
            if (t && e.setAttribute) {
                var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
                a(t.split(" "), function(e) {
                    e = Ta(e), -1 === n.indexOf(" " + e + " ") && (n += e + " ")
                }), e.setAttribute("class", Ta(n))
            }
        }

        function je(e, t) {
            if (t)
                if (t.nodeType) e[e.length++] = t;
                else {
                    var n = t.length;
                    if ("number" == typeof n && t.window !== t) {
                        if (n)
                            for (var a = 0; a < n; a++) e[e.length++] = t[a]
                    } else e[e.length++] = t
                }
        }

        function Ne(e, t) {
            return Le(e, "$" + (t || "ngController") + "Controller")
        }

        function Le(e, t, n) {
            e.nodeType == Va && (e = e.documentElement);
            for (var a = Aa(t) ? t : [t]; e;) {
                for (var i = 0, s = a.length; i < s; i++)
                    if (b(n = ba.data(e, a[i]))) return n;
                e = e.parentNode || e.nodeType === Fa && e.host
            }
        }

        function Ue(e) {
            for (_e(e, !0); e.firstChild;) e.removeChild(e.firstChild)
        }

        function Be(e, t) {
            t || _e(e);
            var n = e.parentNode;
            n && n.removeChild(e)
        }

        function He(t, n) {
            "complete" === (n = n || e).document.readyState ? n.setTimeout(t) : ba(n).on("load", t)
        }

        function Re(e, t) {
            var n = oi[t.toLowerCase()];
            return n && ri[L(e)] && n
        }

        function Ve(e) {
            return li[e]
        }

        function Fe(e, t) {
            var n = function(n, a) {
                n.isDefaultPrevented = function() {
                    return n.defaultPrevented
                };
                var i = t[a || n.type],
                    s = i ? i.length : 0;
                if (s) {
                    if (v(n.immediatePropagationStopped)) {
                        var o = n.stopImmediatePropagation;
                        n.stopImmediatePropagation = function() {
                            n.immediatePropagationStopped = !0, n.stopPropagation && n.stopPropagation(), o && o.call(n)
                        }
                    }
                    n.isImmediatePropagationStopped = function() {
                        return !0 === n.immediatePropagationStopped
                    };
                    var r = i.specialHandlerWrapper || qe;
                    s > 1 && (i = H(i));
                    for (var l = 0; l < s; l++) n.isImmediatePropagationStopped() || r(e, n, i[l])
                }
            };
            return n.elem = e, n
        }

        function qe(e, t, n) {
            n.call(e, t)
        }

        function ze(e, t, n) {
            var a = t.relatedTarget;
            a && (a === e || ii.call(e, a)) || n.call(e, t)
        }

        function We() {
            this.$get = function() {
                return c(Ie, {
                    hasClass: function(e, t) {
                        return e.attr && (e = e[0]), Ee(e, t)
                    },
                    addClass: function(e, t) {
                        return e.attr && (e = e[0]), Oe(e, t)
                    },
                    removeClass: function(e, t) {
                        return e.attr && (e = e[0]), Pe(e, t)
                    }
                })
            }
        }

        function Ge(e, t) {
            var n = e && e.$$hashKey;
            if (n) return "function" == typeof n && (n = e.$$hashKey()), n;
            var a = typeof e;
            return n = "function" == a || "object" == a && null !== e ? e.$$hashKey = a + ":" + (t || o)() : a + ":" + e
        }

        function Ye(e, t) {
            if (t) {
                var n = 0;
                this.nextUid = function() {
                    return ++n
                }
            }
            a(e, this.put, this)
        }

        function Ke(e) {
            return Function.prototype.toString.call(e) + " "
        }

        function Ze(e) {
            var t = Ke(e).replace(fi, "");
            return t.match(ui) || t.match(di)
        }

        function Qe(e) {
            var t = Ze(e);
            return t ? "function(" + (t[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
        }

        function Je(e, t) {
            function n(e) {
                return function(t, n) {
                    if (!y(t)) return e(t, n);
                    a(t, s(e))
                }
            }

            function i(e, t) {
                if (de(e, "service"), (S(t) || Aa(t)) && (t = h.instantiate(t)), !t.$get) throw gi("pget", "Provider '{0}' must define $get factory method.", e);
                return f[e + d] = t
            }

            function o(e, t) {
                return function() {
                    var n = x.invoke(t, this);
                    if (v(n)) throw gi("undef", "Provider '{0}' must return a value from $get factory method.", e);
                    return n
                }
            }

            function r(e, t, n) {
                return i(e, {
                    $get: !1 !== n ? o(e, t) : t
                })
            }

            function l(e) {
                ce(v(e) || Aa(e), "modulesToLoad", "not an array");
                var t, n = [];
                return a(e, function(e) {
                    function a(e) {
                        var t, n;
                        for (t = 0, n = e.length; t < n; t++) {
                            var a = e[t],
                                i = h.get(a[0]);
                            i[a[1]].apply(i, a[2])
                        }
                    }
                    if (!m.get(e)) {
                        m.put(e, !0);
                        try {
                            w(e) ? (t = $a(e), n = n.concat(l(t.requires)).concat(t._runBlocks), a(t._invokeQueue), a(t._configBlocks)) : S(e) ? n.push(h.invoke(e)) : Aa(e) ? n.push(h.invoke(e)) : ue(e, "module")
                        } catch (t) {
                            throw Aa(e) && (e = e[e.length - 1]), t.message && t.stack && -1 == t.stack.indexOf(t.message) && (t = t.message + "\n" + t.stack), gi("modulerr", "Failed to instantiate module {0} due to:\n{1}", e, t.stack || t.message || t)
                        }
                    }
                }), n
            }

            function c(e, n) {
                function a(t, a) {
                    if (e.hasOwnProperty(t)) {
                        if (e[t] === u) throw gi("cdep", "Circular dependency found: {0}", t + " <- " + p.join(" <- "));
                        return e[t]
                    }
                    try {
                        return p.unshift(t), e[t] = u, e[t] = n(t, a)
                    } catch (n) {
                        throw e[t] === u && delete e[t], n
                    } finally {
                        p.shift()
                    }
                }

                function i(e, n, i) {
                    for (var s = [], o = Je.$$annotate(e, t, i), r = 0, l = o.length; r < l; r++) {
                        var c = o[r];
                        if ("string" != typeof c) throw gi("itkn", "Incorrect injection token! Expected service name as string, got {0}", c);
                        s.push(n && n.hasOwnProperty(c) ? n[c] : a(c, i))
                    }
                    return s
                }

                function s(e) {
                    return !(va <= 11) && ("function" == typeof e && /^(?:class\s|constructor\()/.test(Ke(e)))
                }
                return {
                    invoke: function(e, t, n, a) {
                        "string" == typeof n && (a = n, n = null);
                        var o = i(e, n, a);
                        return Aa(e) && (e = e[e.length - 1]), s(e) ? (o.unshift(null), new(Function.prototype.bind.apply(e, o))) : e.apply(t, o)
                    },
                    instantiate: function(e, t, n) {
                        var a = Aa(e) ? e[e.length - 1] : e,
                            s = i(e, t, n);
                        return s.unshift(null), new(Function.prototype.bind.apply(a, s))
                    },
                    get: a,
                    annotate: Je.$$annotate,
                    has: function(t) {
                        return f.hasOwnProperty(t + d) || e.hasOwnProperty(t)
                    }
                }
            }
            t = !0 === t;
            var u = {},
                d = "Provider",
                p = [],
                m = new Ye([], !0),
                f = {
                    $provide: {
                        provider: n(i),
                        factory: n(r),
                        service: n(function(e, t) {
                            return r(e, ["$injector",
                                function(e) {
                                    return e.instantiate(t)
                                }
                            ])
                        }),
                        value: n(function(e, t) {
                            return r(e, g(t), !1)
                        }),
                        constant: n(function(e, t) {
                            de(e, "constant"), f[e] = t, b[e] = t
                        }),
                        decorator: function(e, t) {
                            var n = h.get(e + d),
                                a = n.$get;
                            n.$get = function() {
                                var e = x.invoke(a, n);
                                return x.invoke(t, null, {
                                    $delegate: e
                                })
                            }
                        }
                    }
                },
                h = f.$injector = c(f, function(e, t) {
                    throw _a.isString(t) && p.push(t), gi("unpr", "Unknown provider: {0}", p.join(" <- "))
                }),
                b = {},
                $ = c(b, function(e, t) {
                    var n = h.get(e + d, t);
                    return x.invoke(n.$get, n, void 0, e)
                }),
                x = $;
            f["$injector" + d] = {
                $get: g($)
            };
            var k = l(e);
            return x = $.get("$injector"), x.strictDi = t, a(k, function(e) {
                e && x.invoke(e)
            }), x
        }

        function Xe() {
            var e = !0;
            this.disableAutoScrolling = function() {
                e = !1
            }, this.$get = ["$window", "$location", "$rootScope",
                function(t, n, a) {
                    function i(e) {
                        var t = null;
                        return Array.prototype.some.call(e, function(e) {
                            if ("a" === L(e)) return t = e, !0
                        }), t
                    }

                    function s() {
                        var e = r.yOffset;
                        if (S(e)) e = e();
                        else if (j(e)) {
                            var n = e[0];
                            e = "fixed" !== t.getComputedStyle(n).position ? 0 : n.getBoundingClientRect().bottom
                        } else x(e) || (e = 0);
                        return e
                    }

                    function o(e) {
                        if (e) {
                            e.scrollIntoView();
                            var n = s();
                            if (n) {
                                var a = e.getBoundingClientRect().top;
                                t.scrollBy(0, a - n)
                            }
                        } else t.scrollTo(0, 0)
                    }

                    function r(e) {
                        var t;
                        (e = w(e) ? e : n.hash()) ? (t = l.getElementById(e)) ? o(t): (t = i(l.getElementsByName(e))) ? o(t) : "top" === e && o(null): o(null)
                    }
                    var l = t.document;
                    return e && a.$watch(function() {
                        return n.hash()
                    }, function(e, t) {
                        e === t && "" === e || He(function() {
                            a.$evalAsync(r)
                        })
                    }), r
                }
            ]
        }

        function et(e, t) {
            return e || t ? e ? t ? (Aa(e) && (e = e.join(" ")), Aa(t) && (t = t.join(" ")), e + " " + t) : e : t : ""
        }

        function tt(e) {
            for (var t = 0; t < e.length; t++) {
                var n = e[t];
                if (n.nodeType === vi) return n
            }
        }

        function nt(e) {
            w(e) && (e = e.split(" "));
            var t = fe();
            return a(e, function(e) {
                e.length && (t[e] = !0)
            }), t
        }

        function at(e) {
            return y(e) ? e : {}
        }

        function it(e, t, n, i) {
            function s(e) {
                try {
                    e.apply(null, F(arguments, 1))
                } finally {
                    if (0 == --b)
                        for (; y.length;) try {
                            y.pop()()
                        } catch (e) {
                            n.error(e)
                        }
                }
            }

            function o(e) {
                var t = e.indexOf("#");
                return -1 === t ? "" : e.substr(t)
            }

            function r() {
                S = null, l(), c()
            }

            function l() {
                $ = I(), R($ = v($) ? null : $, M) && ($ = M), M = $
            }

            function c() {
                x === u.url() && w === $ || (x = u.url(), w = $, a(C, function(e) {
                    e(u.url(), $)
                }))
            }
            var u = this,
                d = e.location,
                p = e.history,
                f = e.setTimeout,
                g = e.clearTimeout,
                h = {};
            u.isMock = !1;
            var b = 0,
                y = [];
            u.$$completeOutstandingRequest = s, u.$$incOutstandingRequestCount = function() {
                b++
            }, u.notifyWhenNoOutstandingRequests = function(e) {
                0 === b ? e() : y.push(e)
            };
            var $, w, x = d.href,
                k = t.find("base"),
                S = null,
                I = i.history ? function() {
                    try {
                        return p.state
                    } catch (e) {}
                } : m;
            l(), w = $, u.url = function(t, n, a) {
                if (v(a) && (a = null), d !== e.location && (d = e.location), p !== e.history && (p = e.history), t) {
                    var s = w === a;
                    if (x === t && (!i.history || s)) return u;
                    var r = x && Lt(x) === Lt(t);
                    return x = t, w = a, !i.history || r && s ? (r || (S = t), n ? d.replace(t) : r ? d.hash = o(t) : d.href = t, d.href !== t && (S = t)) : (p[n ? "replaceState" : "pushState"](a, "", t), l(), w = $), S && (S = t), u
                }
                return S || d.href.replace(/%27/g, "'")
            }, u.state = function() {
                return $
            };
            var C = [],
                _ = !1,
                M = null;
            u.onUrlChange = function(t) {
                return _ || (i.history && ba(e).on("popstate", r), ba(e).on("hashchange", r), _ = !0), C.push(t), t
            }, u.$$applicationDestroyed = function() {
                ba(e).off("hashchange popstate", r)
            }, u.$$checkUrlChange = c, u.baseHref = function() {
                var e = k.attr("href");
                return e ? e.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
            }, u.defer = function(e, t) {
                var n;
                return b++, n = f(function() {
                    delete h[n], s(e)
                }, t || 0), h[n] = !0, n
            }, u.defer.cancel = function(e) {
                return !!h[e] && (delete h[e], g(e), s(m), !0)
            }
        }

        function st() {
            this.$get = ["$window", "$log", "$sniffer", "$document",
                function(e, t, n, a) {
                    return new it(e, a, t, n)
                }
            ]
        }

        function ot() {
            this.$get = function() {
                function e(e, a) {
                    function i(e) {
                        e != p && (m ? m == e && (m = e.n) : m = e, s(e.n, e.p), s(e, p), (p = e).n = null)
                    }

                    function s(e, t) {
                        e != t && (e && (e.p = t), t && (t.n = e))
                    }
                    if (e in n) throw t("$cacheFactory")("iid", "CacheId '{0}' is already taken!", e);
                    var o = 0,
                        r = c({}, a, {
                            id: e
                        }),
                        l = fe(),
                        u = a && a.capacity || Number.MAX_VALUE,
                        d = fe(),
                        p = null,
                        m = null;
                    return n[e] = {
                        put: function(e, t) {
                            if (!v(t)) return u < Number.MAX_VALUE && i(d[e] || (d[e] = {
                                key: e
                            })), e in l || o++, l[e] = t, o > u && this.remove(m.key), t
                        },
                        get: function(e) {
                            if (u < Number.MAX_VALUE) {
                                var t = d[e];
                                if (!t) return;
                                i(t)
                            }
                            return l[e]
                        },
                        remove: function(e) {
                            if (u < Number.MAX_VALUE) {
                                var t = d[e];
                                if (!t) return;
                                t == p && (p = t.p), t == m && (m = t.n), s(t.n, t.p), delete d[e]
                            }
                            e in l && (delete l[e], o--)
                        },
                        removeAll: function() {
                            l = fe(), o = 0, d = fe(), p = m = null
                        },
                        destroy: function() {
                            l = null, r = null, d = null, delete n[e]
                        },
                        info: function() {
                            return c({}, r, {
                                size: o
                            })
                        }
                    }
                }
                var n = {};
                return e.info = function() {
                    var e = {};
                    return a(n, function(t, n) {
                        e[n] = t.info()
                    }), e
                }, e.get = function(e) {
                    return n[e]
                }, e
            }
        }

        function rt() {
            this.$get = ["$cacheFactory",
                function(e) {
                    return e("templates")
                }
            ]
        }

        function lt(t, n) {
            function i(e, t, n) {
                var i = /^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,
                    s = fe();
                return a(e, function(e, a) {
                    if (e in C) s[a] = C[e];
                    else {
                        var o = e.match(i);
                        if (!o) throw Si("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", t, a, e, n ? "controller bindings definition" : "isolate scope definition");
                        s[a] = {
                            mode: o[1][0],
                            collection: "*" === o[2],
                            optional: "?" === o[3],
                            attrName: o[4] || a
                        }, o[4] && (C[e] = s[a])
                    }
                }), s
            }

            function o(e, t) {
                var n = {
                    isolateScope: null,
                    bindToController: null
                };
                if (y(e.scope) && (!0 === e.bindToController ? (n.bindToController = i(e.scope, t, !0), n.isolateScope = {}) : n.isolateScope = i(e.scope, t, !1)), y(e.bindToController) && (n.bindToController = i(e.bindToController, t, !0)), y(n.bindToController)) {
                    var a = e.controller,
                        s = e.controllerAs;
                    if (!a) throw Si("noctrl", "Cannot bind to controller without directive '{0}'s controller.", t);
                    if (!mt(a, s)) throw Si("noident", "Cannot bind to controller without identifier for directive '{0}'.", t)
                }
                return n
            }

            function r(e) {
                var t = e.charAt(0);
                if (!t || t !== ga(t)) throw Si("baddir", "Directive/Component name '{0}' is invalid. The first character must be a lowercase letter", e);
                if (e !== e.trim()) throw Si("baddir", "Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces", e)
            }

            function l(e) {
                var t = e.require || e.controller && e.name;
                return !Aa(t) && y(t) && a(t, function(e, n) {
                    var a = e.match(k);
                    e.substring(a[0].length) || (t[n] = a[0] + n)
                }), t
            }
            var u = {},
                d = "Directive",
                h = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/,
                $ = /(([\w\-]+)(?:\:([^;]+))?;?)/,
                x = N("ngSrc,ngSrcset,src,srcset"),
                k = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/,
                I = /^(on[a-z]+|formaction)$/,
                C = fe();
            this.directive = function e(n, i) {
                return de(n, "directive"), w(n) ? (r(n), ce(i, "directiveFactory"), u.hasOwnProperty(n) || (u[n] = [], t.factory(n + d, ["$injector", "$exceptionHandler",
                    function(e, t) {
                        var i = [];
                        return a(u[n], function(a, s) {
                            try {
                                var o = e.invoke(a);
                                S(o) ? o = {
                                    compile: g(o)
                                } : !o.compile && o.link && (o.compile = g(o.link)), o.priority = o.priority || 0, o.index = s, o.name = o.name || n, o.require = l(o), o.restrict = o.restrict || "EA", o.$$moduleName = a.$$moduleName, i.push(o)
                            } catch (e) {
                                t(e)
                            }
                        }), i
                    }
                ])), u[n].push(i)) : a(n, s(e)), this
            }, this.component = function(e, t) {
                function n(e) {
                    function n(t) {
                        return S(t) || Aa(t) ? function(n, a) {
                            return e.invoke(t, this, {
                                $element: n,
                                $attrs: a
                            })
                        } : t
                    }
                    var s = t.template || t.templateUrl ? t.template : "",
                        o = {
                            controller: i,
                            controllerAs: mt(t.controller) || t.controllerAs || "$ctrl",
                            template: n(s),
                            templateUrl: n(t.templateUrl),
                            transclude: t.transclude,
                            scope: {},
                            bindToController: t.bindings || {},
                            restrict: "E",
                            require: t.require
                        };
                    return a(t, function(e, t) {
                        "$" === t.charAt(0) && (o[t] = e)
                    }), o
                }
                var i = t.controller || function() {};
                return a(t, function(e, t) {
                    "$" === t.charAt(0) && (n[t] = e, S(i) && (i[t] = e))
                }), n.$inject = ["$injector"], this.directive(e, n)
            }, this.aHrefSanitizationWhitelist = function(e) {
                return b(e) ? (n.aHrefSanitizationWhitelist(e), this) : n.aHrefSanitizationWhitelist()
            }, this.imgSrcSanitizationWhitelist = function(e) {
                return b(e) ? (n.imgSrcSanitizationWhitelist(e), this) : n.imgSrcSanitizationWhitelist()
            };
            var M = !0;
            this.debugInfoEnabled = function(e) {
                return b(e) ? (M = e, this) : M
            };
            var A = 10;
            this.onChangesTtl = function(e) {
                return arguments.length ? (A = e, this) : A
            }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri",
                function(t, n, i, s, r, l, g, C, D, E) {
                    function P() {
                        try {
                            if (!--xe) throw be = void 0, Si("infchng", "{0} $onChanges() iterations reached. Aborting!\n", A);
                            g.$apply(function() {
                                for (var e = 0, t = be.length; e < t; ++e) be[e]();
                                be = void 0
                            })
                        } finally {
                            xe++
                        }
                    }

                    function O(e, t) {
                        if (t) {
                            var n, a, i, s = Object.keys(t);
                            for (n = 0, a = s.length; n < a; n++) this[i = s[n]] = t[i]
                        } else this.$attr = {};
                        this.$$element = e
                    }

                    function j(e, t, n) {
                        we.innerHTML = "<span " + t + ">";
                        var a = we.firstChild.attributes,
                            i = a[0];
                        a.removeNamedItem(i.name), i.value = n, e.attributes.setNamedItem(i)
                    }

                    function N(e, t) {
                        try {
                            e.addClass(t)
                        } catch (e) {}
                    }

                    function B(t, n, a, i, s) {
                        t instanceof ba || (t = ba(t));
                        for (var o = /\S+/, r = 0, l = t.length; r < l; r++) {
                            var c = t[r];
                            c.nodeType === Ha && c.nodeValue.match(o) && Se(c, t[r] = e.document.createElement("span"))
                        }
                        var u = V(t, n, t, a, i, s);
                        B.$$addScopeClass(t);
                        var d = null;
                        return function(e, n, a) {
                            ce(e, "scope"), s && s.needsNewScope && (e = e.$parent.$new());
                            var i = (a = a || {}).parentBoundTranscludeFn,
                                o = a.transcludeControllers,
                                r = a.futureParentElement;
                            i && i.$$boundTransclude && (i = i.$$boundTransclude), d || (d = H(r));
                            var l;
                            if (l = "html" !== d ? ba(ue(d, ba("<div>").append(t).html())) : n ? si.clone.call(t) : t, o)
                                for (var c in o) l.data("$" + c + "Controller", o[c].instance);
                            return B.$$addScopeInfo(l, e), n && n(l, e), u && u(e, l, l, i), l
                        }
                    }

                    function H(e) {
                        var t = e && e[0];
                        return t && "foreignobject" !== L(t) && Sa.call(t).match(/SVG/) ? "svg" : "html"
                    }

                    function V(e, t, n, a, i, s) {
                        for (var o, r, l, c, u, d, p, m = [], f = 0; f < e.length; f++) o = new O, (l = (r = W(e[f], [], o, 0 === f ? a : void 0, i)).length ? Z(r, e[f], o, t, n, null, [], [], s) : null) && l.scope && B.$$addScopeClass(o.$$element), u = l && l.terminal || !(c = e[f].childNodes) || !c.length ? null : V(c, l ? (l.transcludeOnThisElement || !l.templateOnThisElement) && l.transclude : t), (l || u) && (m.push(f, l, u), d = !0, p = p || l), s = null;
                        return d ? function(e, n, a, i) {
                            var s, o, r, l, c, u, d, f;
                            if (p) {
                                var g = n.length;
                                for (f = new Array(g), c = 0; c < m.length; c += 3) f[d = m[c]] = n[d]
                            } else f = n;
                            for (c = 0, u = m.length; c < u;) r = f[m[c++]], s = m[c++], o = m[c++], s ? (s.scope ? (l = e.$new(), B.$$addScopeInfo(ba(r), l)) : l = e, s(o, l, r, a, s.transcludeOnThisElement ? z(e, s.transclude, i) : !s.templateOnThisElement && i ? i : !i && t ? z(e, t) : null)) : o && o(e, r.childNodes, void 0, i)
                        } : null
                    }

                    function z(e, t, n) {
                        function a(a, i, s, o, r) {
                            return a || ((a = e.$new(!1, r)).$$transcluded = !0), t(a, i, {
                                parentBoundTranscludeFn: n,
                                transcludeControllers: s,
                                futureParentElement: o
                            })
                        }
                        var i = a.$$slots = fe();
                        for (var s in t.$$slots) t.$$slots[s] ? i[s] = z(e, t.$$slots[s], n) : i[s] = null;
                        return a
                    }

                    function W(e, t, n, a, i) {
                        var s, o, r = e.nodeType,
                            l = n.$attr;
                        switch (r) {
                            case Ba:
                                te(t, ut(L(e)), "E", a, i);
                                for (var c, u, d, p, m, f, g = e.attributes, v = 0, b = g && g.length; v < b; v++) {
                                    var x = !1,
                                        k = !1;
                                    u = (c = g[v]).name, m = Ta(c.value), p = ut(u), (f = Me.test(p)) && (u = u.replace(Ci, "").substr(8).replace(/_(.)/g, function(e, t) {
                                        return t.toUpperCase()
                                    }));
                                    var S = p.match(Ae);
                                    S && ne(S[1]) && (x = u, k = u.substr(0, u.length - 5) + "end", u = u.substr(0, u.length - 6)), l[d = ut(u.toLowerCase())] = u, !f && n.hasOwnProperty(d) || (n[d] = m, Re(e, d) && (n[d] = !0)), pe(e, t, m, d, f), te(t, d, "A", a, i, x, k)
                                }
                                if (o = e.className, y(o) && (o = o.animVal), w(o) && "" !== o)
                                    for (; s = $.exec(o);) te(t, d = ut(s[2]), "C", a, i) && (n[d] = Ta(s[3])), o = o.substr(s.index + s[0].length);
                                break;
                            case Ha:
                                if (11 === va)
                                    for (; e.parentNode && e.nextSibling && e.nextSibling.nodeType === Ha;) e.nodeValue = e.nodeValue + e.nextSibling.nodeValue, e.parentNode.removeChild(e.nextSibling);
                                re(t, e.nodeValue);
                                break;
                            case Ra:
                                try {
                                    (s = h.exec(e.nodeValue)) && te(t, d = ut(s[1]), "M", a, i) && (n[d] = Ta(s[2]))
                                } catch (e) {}
                        }
                        return t.sort(se), t
                    }

                    function G(e, t, n) {
                        var a = [],
                            i = 0;
                        if (t && e.hasAttribute && e.hasAttribute(t))
                            do {
                                if (!e) throw Si("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", t, n);
                                e.nodeType == Ba && (e.hasAttribute(t) && i++, e.hasAttribute(n) && i--), a.push(e), e = e.nextSibling
                            } while (i > 0);
                        else a.push(e);
                        return ba(a)
                    }

                    function Y(e, t, n) {
                        return function(a, i, s, o, r) {
                            return i = G(i[0], t, n), e(a, i, s, o, r)
                        }
                    }

                    function K(e, t, n, a, i, s) {
                        var o;
                        return e ? B(t, n, a, i, s) : function() {
                            return o || (o = B(t, n, a, i, s), t = n = s = null), o.apply(this, arguments)
                        }
                    }

                    function Z(e, t, n, s, o, r, l, u, d) {
                        function p(e, t, n, a) {
                            e && (n && (e = Y(e, n, a)), e.require = f.require, e.directiveName = g, (I === f || f.$$isolateScope) && (e = ge(e, {
                                isolateScope: !0
                            })), l.push(e)), t && (n && (t = Y(t, n, a)), t.require = f.require, t.directiveName = g, (I === f || f.$$isolateScope) && (t = ge(t, {
                                isolateScope: !0
                            })), u.push(t))
                        }

                        function m(e, i, s, o, r) {
                            var d, p, m, f, g, h, b, $, w, M;
                            t === s ? (w = n, $ = n.$$element) : w = new O($ = ba(s), n), g = i, I ? f = i.$new(!0) : x && (g = i.$parent), r && ((b = function(e, t, n, a) {
                                var i;
                                if (_(e) || (a = n, n = t, t = e, e = void 0), T && (i = h), n || (n = T ? $.parent() : $), !a) return r(e, t, i, n, N);
                                var s = r.$$slots[a];
                                if (s) return s(e, t, i, n, N);
                                if (v(s)) throw Si("noslot", 'No parent directive that requires a transclusion with slot name "{0}". Element: {1}', a, Q($))
                            }).$$boundTransclude = r, b.isSlotFilled = function(e) {
                                return !!r.$$slots[e]
                            }), k && (h = X($, w, b, k, f, i, I)), I && (B.$$addScopeInfo($, f, !0, !(C && (C === I || C === I.$$originalDirective))), B.$$addScopeClass($, !0), f.$$isolateBindings = I.$$isolateBindings, (M = ve(i, w, f, f.$$isolateBindings, I)).removeWatches && f.$on("$destroy", M.removeWatches));
                            for (var A in h) {
                                var D = k[A],
                                    E = h[A],
                                    P = D.$$bindings.bindToController;
                                E.identifier && P ? E.bindingInfo = ve(g, w, E.instance, P, D) : E.bindingInfo = {};
                                var j = E();
                                j !== E.instance && (E.instance = j, $.data("$" + D.name + "Controller", j), E.bindingInfo.removeWatches && E.bindingInfo.removeWatches(), E.bindingInfo = ve(g, w, E.instance, P, D))
                            }
                            for (a(k, function(e, t) {
                                var n = e.require;
                                e.bindToController && !Aa(n) && y(n) && c(h[t].instance, J(t, n, $, h))
                            }), a(h, function(e) {
                                var t = e.instance;
                                S(t.$onChanges) && t.$onChanges(e.bindingInfo.initialChanges), S(t.$onInit) && t.$onInit(), S(t.$onDestroy) && g.$on("$destroy", function() {
                                    t.$onDestroy()
                                })
                            }), d = 0, p = l.length; d < p; d++) he(m = l[d], m.isolateScope ? f : i, $, w, m.require && J(m.directiveName, m.require, $, h), b);
                            var N = i;
                            for (I && (I.template || null === I.templateUrl) && (N = f), e && e(N, s.childNodes, void 0, r), d = u.length - 1; d >= 0; d--) he(m = u[d], m.isolateScope ? f : i, $, w, m.require && J(m.directiveName, m.require, $, h), b);
                            a(h, function(e) {
                                var t = e.instance;
                                S(t.$postLink) && t.$postLink()
                            })
                        }
                        d = d || {};
                        for (var f, g, h, b, $, w = -Number.MAX_VALUE, x = d.newScopeDirective, k = d.controllerDirectives, I = d.newIsolateScopeDirective, C = d.templateDirective, M = d.nonTlbTranscludeDirective, A = !1, D = !1, T = d.hasElementTranscludeDirective, E = n.$$element = ba(t), P = r, j = s, N = !1, U = !1, H = 0, R = e.length; H < R; H++) {
                            var V = (f = e[H]).$$start,
                                z = f.$$end;
                            if (V && (E = G(t, V, z)), h = void 0, w > f.priority) break;
                            if (($ = f.scope) && (f.templateUrl || (y($) ? (oe("new/isolated scope", I || x, f, E), I = f) : oe("new/isolated scope", I, f, E)), x = x || f), g = f.name, !N && (f.replace && (f.templateUrl || f.template) || f.transclude && !f.$$tlb)) {
                                for (var Z, te = H + 1; Z = e[te++];)
                                    if (Z.transclude && !Z.$$tlb || Z.replace && (Z.templateUrl || Z.template)) {
                                        U = !0;
                                        break
                                    }
                                N = !0
                            }
                            if (!f.templateUrl && f.controller && ($ = f.controller, k = k || fe(), oe("'" + g + "' controller", k[g], f, E), k[g] = f), $ = f.transclude)
                                if (A = !0, f.$$tlb || (oe("transclusion", M, f, E), M = f), "element" == $) T = !0, w = f.priority, h = E, E = n.$$element = ba(B.$$createComment(g, n[g])), t = E[0], me(o, F(h), t), h[0].$$parentNode = h[0].parentNode, j = K(U, h, s, w, P && P.name, {
                                    nonTlbTranscludeDirective: M
                                });
                                else {
                                    var ne = fe();
                                    if (h = ba(Ce(t)).contents(), y($)) {
                                        h = [];
                                        var se = fe(),
                                            re = fe();
                                        a($, function(e, t) {
                                            var n = "?" === e.charAt(0);
                                            e = n ? e.substring(1) : e, se[e] = t, ne[t] = null, re[t] = n
                                        }), a(E.contents(), function(e) {
                                            var t = se[ut(L(e))];
                                            t ? (re[t] = !0, ne[t] = ne[t] || [], ne[t].push(e)) : h.push(e)
                                        }), a(re, function(e, t) {
                                            if (!e) throw Si("reqslot", "Required transclusion slot `{0}` was not filled.", t)
                                        });
                                        for (var le in ne) ne[le] && (ne[le] = K(U, ne[le], s))
                                    }
                                    E.empty(), (j = K(U, h, s, void 0, void 0, {
                                        needsNewScope: f.$$isolateScope || f.$$newScope
                                    })).$$slots = ne
                                }
                            if (f.template)
                                if (D = !0, oe("template", C, f, E), C = f, $ = S(f.template) ? f.template(E, n) : f.template, $ = _e($), f.replace) {
                                    if (P = f, h = $e($) ? [] : pt(ue(f.templateNamespace, Ta($))), t = h[0], 1 != h.length || t.nodeType !== Ba) throw Si("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g, "");
                                    me(o, E, t);
                                    var ce = {
                                            $attr: {}
                                        },
                                        de = W(t, [], ce),
                                        pe = e.splice(H + 1, e.length - (H + 1));
                                    (I || x) && ee(de, I, x), e = e.concat(de).concat(pe), ae(n, ce), R = e.length
                                } else E.html($);
                            if (f.templateUrl) D = !0, oe("template", C, f, E), C = f, f.replace && (P = f), m = ie(e.splice(H, e.length - H), E, n, o, A && j, l, u, {
                                controllerDirectives: k,
                                newScopeDirective: x !== f && x,
                                newIsolateScopeDirective: I,
                                templateDirective: C,
                                nonTlbTranscludeDirective: M
                            }), R = e.length;
                            else if (f.compile) try {
                                b = f.compile(E, n, j);
                                var be = f.$$originalDirective || f;
                                S(b) ? p(null, q(be, b), V, z) : b && p(q(be, b.pre), q(be, b.post), V, z)
                            } catch (e) {
                                i(e, Q(E))
                            }
                            f.terminal && (m.terminal = !0, w = Math.max(w, f.priority))
                        }
                        return m.scope = x && !0 === x.scope, m.transcludeOnThisElement = A, m.templateOnThisElement = D, m.transclude = j, d.hasElementTranscludeDirective = T, m
                    }

                    function J(e, t, n, i) {
                        var s;
                        if (w(t)) {
                            var o = t.match(k),
                                r = t.substring(o[0].length),
                                l = o[1] || o[3],
                                c = "?" === o[2];
                            if ("^^" === l ? n = n.parent() : (s = i && i[r], s = s && s.instance), !s) {
                                var u = "$" + r + "Controller";
                                s = l ? n.inheritedData(u) : n.data(u)
                            }
                            if (!s && !c) throw Si("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", r, e)
                        } else if (Aa(t)) {
                            s = [];
                            for (var d = 0, p = t.length; d < p; d++) s[d] = J(e, t[d], n, i)
                        } else y(t) && (s = {}, a(t, function(t, a) {
                            s[a] = J(e, t, n, i)
                        }));
                        return s || null
                    }

                    function X(e, t, n, a, i, s, o) {
                        var r = fe();
                        for (var c in a) {
                            var u = a[c],
                                d = {
                                    $scope: u === o || u.$$isolateScope ? i : s,
                                    $element: e,
                                    $attrs: t,
                                    $transclude: n
                                },
                                p = u.controller;
                            "@" == p && (p = t[u.name]);
                            var m = l(p, d, !0, u.controllerAs);
                            r[u.name] = m, e.data("$" + u.name + "Controller", m.instance)
                        }
                        return r
                    }

                    function ee(e, t, n) {
                        for (var a = 0, i = e.length; a < i; a++) e[a] = p(e[a], {
                            $$isolateScope: t,
                            $$newScope: n
                        })
                    }

                    function te(e, n, a, s, r, l, c) {
                        if (n === r) return null;
                        var m = null;
                        if (u.hasOwnProperty(n))
                            for (var f, g = t.get(n + d), h = 0, b = g.length; h < b; h++) try {
                                if (f = g[h], (v(s) || s > f.priority) && -1 != f.restrict.indexOf(a)) {
                                    if (l && (f = p(f, {
                                        $$start: l,
                                        $$end: c
                                    })), !f.$$bindings) {
                                        var $ = f.$$bindings = o(f, f.name);
                                        y($.isolateScope) && (f.$$isolateBindings = $.isolateScope)
                                    }
                                    e.push(f), m = f
                                }
                            } catch (e) {
                                i(e)
                            }
                        return m
                    }

                    function ne(e) {
                        if (u.hasOwnProperty(e))
                            for (var n = t.get(e + d), a = 0, i = n.length; a < i; a++)
                                if (n[a].multiElement) return !0;
                        return !1
                    }

                    function ae(e, t) {
                        var n = t.$attr,
                            i = e.$attr,
                            s = e.$$element;
                        a(e, function(a, i) {
                            "$" != i.charAt(0) && (t[i] && t[i] !== a && (a += ("style" === i ? ";" : " ") + t[i]), e.$set(i, a, !0, n[i]))
                        }), a(t, function(t, a) {
                            "class" == a ? (N(s, t), e.class = (e.class ? e.class + " " : "") + t) : "style" == a ? (s.attr("style", s.attr("style") + ";" + t), e.style = (e.style ? e.style + ";" : "") + t) : "$" == a.charAt(0) || e.hasOwnProperty(a) || (e[a] = t, i[a] = n[a])
                        })
                    }

                    function ie(e, t, n, i, o, r, l, c) {
                        var u, d, m = [],
                            f = t[0],
                            g = e.shift(),
                            h = p(g, {
                                templateUrl: null,
                                transclude: null,
                                replace: null,
                                $$originalDirective: g
                            }),
                            v = S(g.templateUrl) ? g.templateUrl(t, n) : g.templateUrl,
                            b = g.templateNamespace;
                        return t.empty(), s(v).then(function(s) {
                                var p, $, w, x;
                                if (s = _e(s), g.replace) {
                                    if (w = $e(s) ? [] : pt(ue(b, Ta(s))), p = w[0], 1 != w.length || p.nodeType !== Ba) throw Si("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g.name, v);
                                    $ = {
                                        $attr: {}
                                    }, me(i, t, p);
                                    var k = W(p, [], $);
                                    y(g.scope) && ee(k, !0), e = k.concat(e), ae(n, $)
                                } else p = f, t.html(s);
                                for (e.unshift(h), u = Z(e, p, n, o, t, g, r, l, c), a(i, function(e, n) {
                                    e == p && (i[n] = t[0])
                                }), d = V(t[0].childNodes, o); m.length;) {
                                    var S = m.shift(),
                                        I = m.shift(),
                                        C = m.shift(),
                                        _ = m.shift(),
                                        M = t[0];
                                    if (!S.$$destroyed) {
                                        if (I !== f) {
                                            var A = I.className;
                                            c.hasElementTranscludeDirective && g.replace || (M = Ce(p)), me(C, ba(I), M), N(ba(M), A)
                                        }
                                        x = u.transcludeOnThisElement ? z(S, u.transclude, _) : _, u(d, S, M, i, x)
                                    }
                                }
                                m = null
                            }),
                            function(e, t, n, a, i) {
                                var s = i;
                                t.$$destroyed || (m ? m.push(t, n, a, s) : (u.transcludeOnThisElement && (s = z(t, u.transclude, i)), u(d, t, n, a, s)))
                            }
                    }

                    function se(e, t) {
                        var n = t.priority - e.priority;
                        return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index
                    }

                    function oe(e, t, n, a) {
                        function i(e) {
                            return e ? " (module: " + e + ")" : ""
                        }
                        if (t) throw Si("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", t.name, i(t.$$moduleName), n.name, i(n.$$moduleName), e, Q(a))
                    }

                    function re(e, t) {
                        var a = n(t, !0);
                        a && e.push({
                            priority: 0,
                            compile: function(e) {
                                var t = e.parent(),
                                    n = !!t.length;
                                return n && B.$$addBindingClass(t),
                                    function(e, t) {
                                        var i = t.parent();
                                        n || B.$$addBindingClass(i), B.$$addBindingInfo(i, a.expressions), e.$watch(a, function(e) {
                                            t[0].nodeValue = e
                                        })
                                    }
                            }
                        })
                    }

                    function ue(t, n) {
                        switch (t = ga(t || "html")) {
                            case "svg":
                            case "math":
                                var a = e.document.createElement("div");
                                return a.innerHTML = "<" + t + ">" + n + "</" + t + ">", a.childNodes[0].childNodes;
                            default:
                                return n
                        }
                    }

                    function de(e, t) {
                        if ("srcdoc" == t) return C.HTML;
                        var n = L(e);
                        return "xlinkHref" == t || "form" == n && "action" == t || "img" != n && ("src" == t || "ngSrc" == t) ? C.RESOURCE_URL : void 0
                    }

                    function pe(e, t, a, i, s) {
                        var o = de(e, i);
                        s = x[i] || s;
                        var r = n(a, !0, o, s);
                        if (r) {
                            if ("multiple" === i && "select" === L(e)) throw Si("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", Q(e));
                            t.push({
                                priority: 100,
                                compile: function() {
                                    return {
                                        pre: function(e, t, l) {
                                            var c = l.$$observers || (l.$$observers = fe());
                                            if (I.test(i)) throw Si("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                            var u = l[i];
                                            u !== a && (r = u && n(u, !0, o, s), a = u), r && (l[i] = r(e), (c[i] || (c[i] = [])).$$inter = !0, (l.$$observers && l.$$observers[i].$$scope || e).$watch(r, function(e, t) {
                                                "class" === i && e != t ? l.$updateClass(e, t) : l.$set(i, e)
                                            }))
                                        }
                                    }
                                }
                            })
                        }
                    }

                    function me(t, n, a) {
                        var i, s, o = n[0],
                            r = n.length,
                            l = o.parentNode;
                        if (t)
                            for (i = 0, s = t.length; i < s; i++)
                                if (t[i] == o) {
                                    t[i++] = a;
                                    for (var c = i, u = c + r - 1, d = t.length; c < d; c++, u++) u < d ? t[c] = t[u] : delete t[c];
                                    t.length -= r - 1, t.context === o && (t.context = a);
                                    break
                                }
                        l && l.replaceChild(a, o);
                        var p = e.document.createDocumentFragment();
                        for (i = 0; i < r; i++) p.appendChild(n[i]);
                        for (ba.hasData(o) && (ba.data(a, ba.data(o)), ba(o).off("$destroy")), ba.cleanData(p.querySelectorAll("*")), i = 1; i < r; i++) delete n[i];
                        n[0] = a, n.length = 1
                    }

                    function ge(e, t) {
                        return c(function() {
                            return e.apply(null, arguments)
                        }, e, t)
                    }

                    function he(e, t, n, a, s, o) {
                        try {
                            e(t, n, a, s, o)
                        } catch (e) {
                            i(e, Q(n))
                        }
                    }

                    function ve(e, t, i, s, o) {
                        function l(t, n, a) {
                            S(i.$onChanges) && n !== a && (be || (e.$$postDigest(P), be = []), u || (u = {}, be.push(c)), u[t] && (a = u[t].previousValue), u[t] = new ct(a, n))
                        }

                        function c() {
                            i.$onChanges(u), u = void 0
                        }
                        var u, d = [],
                            p = {};
                        return a(s, function(a, s) {
                            var c, u, f, g, h, v = a.attrName,
                                b = a.optional;
                            switch (a.mode) {
                                case "@":
                                    b || fa.call(t, v) || (i[s] = t[v] = void 0), t.$observe(v, function(e) {
                                        if (w(e) || T(e)) {
                                            var t = i[s];
                                            l(s, e, t), i[s] = e
                                        }
                                    }), t.$$observers[v].$$scope = e, w(c = t[v]) ? i[s] = n(c)(e) : T(c) && (i[s] = c), p[s] = new ct(Ii, i[s]);
                                    break;
                                case "=":
                                    if (!fa.call(t, v)) {
                                        if (b) break;
                                        t[v] = void 0
                                    }
                                    if (b && !t[v]) break;
                                    u = r(t[v]), g = u.literal ? R : function(e, t) {
                                        return e === t || e !== e && t !== t
                                    }, f = u.assign || function() {
                                        throw c = i[s] = u(e), Si("nonassign", "Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!", t[v], v, o.name)
                                    }, c = i[s] = u(e);
                                    var y = function(t) {
                                        return g(t, i[s]) || (g(t, c) ? f(e, t = i[s]) : i[s] = t), c = t
                                    };
                                    y.$stateful = !0, h = a.collection ? e.$watchCollection(t[v], y) : e.$watch(r(t[v], y), null, u.literal), d.push(h);
                                    break;
                                case "<":
                                    if (!fa.call(t, v)) {
                                        if (b) break;
                                        t[v] = void 0
                                    }
                                    if (b && !t[v]) break;
                                    u = r(t[v]);
                                    var $ = i[s] = u(e);
                                    p[s] = new ct(Ii, i[s]), h = e.$watch(u, function(e, t) {
                                        if (t === e) {
                                            if (t === $) return;
                                            t = $
                                        }
                                        l(s, e, t), i[s] = e
                                    }, u.literal), d.push(h);
                                    break;
                                case "&":
                                    if ((u = t.hasOwnProperty(v) ? r(t[v]) : m) === m && b) break;
                                    i[s] = function(t) {
                                        return u(e, t)
                                    }
                            }
                        }), {
                            initialChanges: p,
                            removeWatches: d.length && function() {
                                for (var e = 0, t = d.length; e < t; ++e) d[e]()
                            }
                        }
                    }
                    var be, ye = /^\w/,
                        we = e.document.createElement("div"),
                        xe = A;
                    O.prototype = {
                        $normalize: ut,
                        $addClass: function(e) {
                            e && e.length > 0 && D.addClass(this.$$element, e)
                        },
                        $removeClass: function(e) {
                            e && e.length > 0 && D.removeClass(this.$$element, e)
                        },
                        $updateClass: function(e, t) {
                            var n = dt(e, t);
                            n && n.length && D.addClass(this.$$element, n);
                            var a = dt(t, e);
                            a && a.length && D.removeClass(this.$$element, a)
                        },
                        $set: function(e, t, n, s) {
                            var o, r = Re(this.$$element[0], e),
                                l = Ve(e),
                                c = e;
                            if (r ? (this.$$element.prop(e, t), s = r) : l && (this[l] = t, c = l), this[e] = t, s ? this.$attr[e] = s : (s = this.$attr[e]) || (this.$attr[e] = s = le(e, "-")), "a" === (o = L(this.$$element)) && ("href" === e || "xlinkHref" === e) || "img" === o && "src" === e) this[e] = t = E(t, "src" === e);
                            else if ("img" === o && "srcset" === e && b(t)) {
                                for (var u = "", d = Ta(t), p = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, m = /\s/.test(d) ? p : /(,)/, f = d.split(m), g = Math.floor(f.length / 2), h = 0; h < g; h++) {
                                    var y = 2 * h;
                                    u += E(Ta(f[y]), !0), u += " " + Ta(f[y + 1])
                                }
                                var $ = Ta(f[2 * h]).split(/\s/);
                                u += E(Ta($[0]), !0), 2 === $.length && (u += " " + Ta($[1])), this[e] = t = u
                            }!1 !== n && (null === t || v(t) ? this.$$element.removeAttr(s) : ye.test(s) ? this.$$element.attr(s, t) : j(this.$$element[0], s, t));
                            var w = this.$$observers;
                            w && a(w[c], function(e) {
                                try {
                                    e(t)
                                } catch (e) {
                                    i(e)
                                }
                            })
                        },
                        $observe: function(e, t) {
                            var n = this,
                                a = n.$$observers || (n.$$observers = fe()),
                                i = a[e] || (a[e] = []);
                            return i.push(t), g.$evalAsync(function() {
                                    i.$$inter || !n.hasOwnProperty(e) || v(n[e]) || t(n[e])
                                }),
                                function() {
                                    U(i, t)
                                }
                        }
                    };
                    var ke = n.startSymbol(),
                        Ie = n.endSymbol(),
                        _e = "{{" == ke && "}}" == Ie ? f : function(e) {
                            return e.replace(/\{\{/g, ke).replace(/}}/g, Ie)
                        },
                        Me = /^ngAttr[A-Z]/,
                        Ae = /^(.+)Start$/;
                    return B.$$addBindingInfo = M ? function(e, t) {
                        var n = e.data("$binding") || [];
                        Aa(t) ? n = n.concat(t) : n.push(t), e.data("$binding", n)
                    } : m, B.$$addBindingClass = M ? function(e) {
                        N(e, "ng-binding")
                    } : m, B.$$addScopeInfo = M ? function(e, t, n, a) {
                        var i = n ? a ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                        e.data(i, t)
                    } : m, B.$$addScopeClass = M ? function(e, t) {
                        N(e, t ? "ng-isolate-scope" : "ng-scope")
                    } : m, B.$$createComment = function(t, n) {
                        var a = "";
                        return M && (a = " " + (t || "") + ": ", n && (a += n + " ")), e.document.createComment(a)
                    }, B
                }
            ]
        }

        function ct(e, t) {
            this.previousValue = e, this.currentValue = t
        }

        function ut(e) {
            return ye(e.replace(Ci, ""))
        }

        function dt(e, t) {
            var n = "",
                a = e.split(/\s+/),
                i = t.split(/\s+/);
            e: for (var s = 0; s < a.length; s++) {
                for (var o = a[s], r = 0; r < i.length; r++)
                    if (o == i[r]) continue e;
                n += (n.length > 0 ? " " : "") + o
            }
            return n
        }

        function pt(e) {
            var t = (e = ba(e)).length;
            if (t <= 1) return e;
            for (; t--;) e[t].nodeType === Ra && xa.call(e, t, 1);
            return e
        }

        function mt(e, t) {
            if (t && w(t)) return t;
            if (w(e)) {
                var n = Mi.exec(e);
                if (n) return n[3]
            }
        }

        function ft() {
            var e = {},
                n = !1;
            this.has = function(t) {
                return e.hasOwnProperty(t)
            }, this.register = function(t, n) {
                de(t, "controller"), y(t) ? c(e, t) : e[t] = n
            }, this.allowGlobals = function() {
                n = !0
            }, this.$get = ["$injector", "$window",
                function(a, i) {
                    function s(e, n, a, i) {
                        if (!e || !y(e.$scope)) throw t("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", i, n);
                        e.$scope[n] = a
                    }
                    return function(t, o, r, l) {
                        var u, d, p, m;
                        if (r = !0 === r, l && w(l) && (m = l), w(t)) {
                            if (!(d = t.match(Mi))) throw _i("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", t);
                            p = d[1], m = m || d[3], ue(t = e.hasOwnProperty(p) ? e[p] : pe(o.$scope, p, !0) || (n ? pe(i, p, !0) : void 0), p, !0)
                        }
                        if (r) {
                            var f = (Aa(t) ? t[t.length - 1] : t).prototype;
                            u = Object.create(f || null), m && s(o, m, u, p || t.name);
                            return c(function() {
                                var e = a.invoke(t, u, o, p);
                                return e !== u && (y(e) || S(e)) && (u = e, m && s(o, m, u, p || t.name)), u
                            }, {
                                instance: u,
                                identifier: m
                            })
                        }
                        return u = a.instantiate(t, o, p), m && s(o, m, u, p || t.name), u
                    }
                }
            ]
        }

        function gt() {
            this.$get = ["$window",
                function(e) {
                    return ba(e.document)
                }
            ]
        }

        function ht() {
            this.$get = ["$log",
                function(e) {
                    return function(t, n) {
                        e.error.apply(e, arguments)
                    }
                }
            ]
        }

        function vt(e) {
            return y(e) ? k(e) ? e.toISOString() : W(e) : e
        }

        function bt() {
            this.$get = function() {
                return function(e) {
                    if (!e) return "";
                    var t = [];
                    return i(e, function(e, n) {
                        null === e || v(e) || (Aa(e) ? a(e, function(e) {
                            t.push(ne(n) + "=" + ne(vt(e)))
                        }) : t.push(ne(n) + "=" + ne(vt(e))))
                    }), t.join("&")
                }
            }
        }

        function yt() {
            this.$get = function() {
                return function(e) {
                    function t(e, s, o) {
                        null === e || v(e) || (Aa(e) ? a(e, function(e, n) {
                            t(e, s + "[" + (y(e) ? n : "") + "]")
                        }) : y(e) && !k(e) ? i(e, function(e, n) {
                            t(e, s + (o ? "" : "[") + n + (o ? "" : "]"))
                        }) : n.push(ne(s) + "=" + ne(vt(e))))
                    }
                    if (!e) return "";
                    var n = [];
                    return t(e, "", !0), n.join("&")
                }
            }
        }

        function $t(e, t) {
            if (w(e)) {
                var n = e.replace(Oi, "").trim();
                if (n) {
                    var a = t("Content-Type");
                    (a && 0 === a.indexOf(Di) || wt(n)) && (e = G(n))
                }
            }
            return e
        }

        function wt(e) {
            var t = e.match(Ei);
            return t && Pi[t[0]].test(e)
        }

        function xt(e) {
            function t(e, t) {
                e && (i[e] = i[e] ? i[e] + ", " + t : t)
            }
            var n, i = fe();
            return w(e) ? a(e.split("\n"), function(e) {
                n = e.indexOf(":"), t(ga(Ta(e.substr(0, n))), Ta(e.substr(n + 1)))
            }) : y(e) && a(e, function(e, n) {
                t(ga(n), Ta(e))
            }), i
        }

        function kt(e) {
            var t;
            return function(n) {
                if (t || (t = xt(e)), n) {
                    var a = t[ga(n)];
                    return void 0 === a && (a = null), a
                }
                return t
            }
        }

        function St(e, t, n, i) {
            return S(i) ? i(e, t, n) : (a(i, function(a) {
                e = a(e, t, n)
            }), e)
        }

        function It(e) {
            return 200 <= e && e < 300
        }

        function Ct() {
            var e = this.defaults = {
                    transformResponse: [$t],
                    transformRequest: [
                        function(e) {
                            return !y(e) || M(e) || D(e) || A(e) ? e : W(e)
                        }
                    ],
                    headers: {
                        common: {
                            Accept: "application/json, text/plain, */*"
                        },
                        post: H(Ti),
                        put: H(Ti),
                        patch: H(Ti)
                    },
                    xsrfCookieName: "XSRF-TOKEN",
                    xsrfHeaderName: "X-XSRF-TOKEN",
                    paramSerializer: "$httpParamSerializer"
                },
                n = !1;
            this.useApplyAsync = function(e) {
                return b(e) ? (n = !!e, this) : n
            };
            var i = !0;
            this.useLegacyPromiseExtensions = function(e) {
                return b(e) ? (i = !!e, this) : i
            };
            var s = this.interceptors = [];
            this.$get = ["$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector",
                function(o, r, l, u, d, p) {
                    function m(n) {
                        function s(e) {
                            var t = c({}, e);
                            return t.data = St(e.data, e.headers, e.status, r.transformResponse), It(e.status) ? t : d.reject(t)
                        }

                        function o(e, t) {
                            var n, i = {};
                            return a(e, function(e, a) {
                                S(e) ? null != (n = e(t)) && (i[a] = n) : i[a] = e
                            }), i
                        }
                        if (!y(n)) throw t("$http")("badreq", "Http request configuration must be an object.  Received: {0}", n);
                        if (!w(n.url)) throw t("$http")("badreq", "Http request configuration url must be a string.  Received: {0}", n.url);
                        var r = c({
                            method: "get",
                            transformRequest: e.transformRequest,
                            transformResponse: e.transformResponse,
                            paramSerializer: e.paramSerializer
                        }, n);
                        r.headers = function(t) {
                            var n, a, i, s = e.headers,
                                r = c({}, t.headers);
                            s = c({}, s.common, s[ga(t.method)]);
                            e: for (n in s) {
                                a = ga(n);
                                for (i in r)
                                    if (ga(i) === a) continue e;
                                r[n] = s[n]
                            }
                            return o(r, H(t))
                        }(n), r.method = ha(r.method), r.paramSerializer = w(r.paramSerializer) ? p.get(r.paramSerializer) : r.paramSerializer;
                        var l = [
                                function(t) {
                                    var n = t.headers,
                                        i = St(t.data, kt(n), void 0, t.transformRequest);
                                    return v(i) && a(n, function(e, t) {
                                        "content-type" === ga(t) && delete n[t]
                                    }), v(t.withCredentials) && !v(e.withCredentials) && (t.withCredentials = e.withCredentials), f(t, i).then(s, s)
                                },
                                void 0
                            ],
                            u = d.when(r);
                        for (a($, function(e) {
                            (e.request || e.requestError) && l.unshift(e.request, e.requestError), (e.response || e.responseError) && l.push(e.response, e.responseError)
                        }); l.length;) {
                            var m = l.shift(),
                                g = l.shift();
                            u = u.then(m, g)
                        }
                        return i ? (u.success = function(e) {
                            return ue(e, "fn"), u.then(function(t) {
                                e(t.data, t.status, t.headers, r)
                            }), u
                        }, u.error = function(e) {
                            return ue(e, "fn"), u.then(null, function(t) {
                                e(t.data, t.status, t.headers, r)
                            }), u
                        }) : (u.success = Ni("success"), u.error = Ni("error")), u
                    }

                    function f(t, i) {
                        function s(e) {
                            if (e) {
                                var t = {};
                                return a(e, function(e, a) {
                                    t[a] = function(t) {
                                        function a() {
                                            e(t)
                                        }
                                        n ? u.$applyAsync(a) : u.$$phase ? a() : u.$apply(a)
                                    }
                                }), t
                            }
                        }

                        function l(e, n, a, i) {
                            (It(n = n >= -1 ? n : 0) ? w.resolve : w.reject)({
                                data: e,
                                status: n,
                                headers: kt(a),
                                config: t,
                                statusText: i
                            })
                        }

                        function c(e) {
                            l(e.data, e.status, H(e.headers()), e.statusText)
                        }

                        function p() {
                            var e = m.pendingRequests.indexOf(t); - 1 !== e && m.pendingRequests.splice(e, 1)
                        }
                        var f, $, w = d.defer(),
                            x = w.promise,
                            k = t.headers,
                            S = g(t.url, t.paramSerializer(t.params));
                        if (m.pendingRequests.push(t), x.then(p, p), !t.cache && !e.cache || !1 === t.cache || "GET" !== t.method && "JSONP" !== t.method || (f = y(t.cache) ? t.cache : y(e.cache) ? e.cache : h), f && (b($ = f.get(S)) ? E($) ? $.then(c, c) : Aa($) ? l($[1], $[0], H($[2]), $[3]) : l($, 200, {}, "OK") : f.put(S, x)), v($)) {
                            var I = An(t.url) ? r()[t.xsrfCookieName || e.xsrfCookieName] : void 0;
                            I && (k[t.xsrfHeaderName || e.xsrfHeaderName] = I), o(t.method, S, i, function(e, t, a, i) {
                                function s() {
                                    l(t, e, a, i)
                                }
                                f && (It(e) ? f.put(S, [e, t, xt(a), i]) : f.remove(S)), n ? u.$applyAsync(s) : (s(), u.$$phase || u.$apply())
                            }, k, t.timeout, t.withCredentials, t.responseType, s(t.eventHandlers), s(t.uploadEventHandlers))
                        }
                        return x
                    }

                    function g(e, t) {
                        return t.length > 0 && (e += (-1 == e.indexOf("?") ? "?" : "&") + t), e
                    }
                    var h = l("$http");
                    e.paramSerializer = w(e.paramSerializer) ? p.get(e.paramSerializer) : e.paramSerializer;
                    var $ = [];
                    return a(s, function(e) {
                            $.unshift(w(e) ? p.get(e) : p.invoke(e))
                        }), m.pendingRequests = [],
                        function(e) {
                            a(arguments, function(e) {
                                m[e] = function(t, n) {
                                    return m(c({}, n || {}, {
                                        method: e,
                                        url: t
                                    }))
                                }
                            })
                        }("get", "delete", "head", "jsonp"),
                        function(e) {
                            a(arguments, function(e) {
                                m[e] = function(t, n, a) {
                                    return m(c({}, a || {}, {
                                        method: e,
                                        url: t,
                                        data: n
                                    }))
                                }
                            })
                        }("post", "put", "patch"), m.defaults = e, m
                }
            ]
        }

        function _t() {
            this.$get = function() {
                return function() {
                    return new e.XMLHttpRequest
                }
            }
        }

        function Mt() {
            this.$get = ["$browser", "$window", "$document", "$xhrFactory",
                function(e, t, n, a) {
                    return At(e, a, e.defer, t.angular.callbacks, n[0])
                }
            ]
        }

        function At(e, t, n, i, s) {
            function o(e, t, n) {
                var a = s.createElement("script"),
                    o = null;
                return a.type = "text/javascript", a.src = e, a.async = !0, o = function(e) {
                    Ya(a, "load", o), Ya(a, "error", o), s.body.removeChild(a), a = null;
                    var r = -1,
                        l = "unknown";
                    e && ("load" !== e.type || i[t].called || (e = {
                        type: "error"
                    }), l = e.type, r = "error" === e.type ? 404 : 200), n && n(r, l)
                }, Ga(a, "load", o), Ga(a, "error", o), s.body.appendChild(a), o
            }
            return function(s, r, l, c, u, d, p, f, g, h) {
                function y() {
                    x && x(), k && k.abort()
                }

                function $(t, a, i, s, o) {
                    b(I) && n.cancel(I), x = k = null, t(a, i, s, o), e.$$completeOutstandingRequest(m)
                }
                if (e.$$incOutstandingRequestCount(), r = r || e.url(), "jsonp" == ga(s)) {
                    var w = "_" + (i.counter++).toString(36);
                    i[w] = function(e) {
                        i[w].data = e, i[w].called = !0
                    };
                    var x = o(r.replace("JSON_CALLBACK", "angular.callbacks." + w), w, function(e, t) {
                        $(c, e, i[w].data, "", t), i[w] = m
                    })
                } else {
                    var k = t(s, r);
                    k.open(s, r, !0), a(u, function(e, t) {
                        b(e) && k.setRequestHeader(t, e)
                    }), k.onload = function() {
                        var e = k.statusText || "",
                            t = "response" in k ? k.response : k.responseText,
                            n = 1223 === k.status ? 204 : k.status;
                        0 === n && (n = t ? 200 : "file" == Mn(r).protocol ? 404 : 0), $(c, n, t, k.getAllResponseHeaders(), e)
                    };
                    var S = function() {
                        $(c, -1, null, null, "")
                    };
                    if (k.onerror = S, k.onabort = S, a(g, function(e, t) {
                        k.addEventListener(t, e)
                    }), a(h, function(e, t) {
                        k.upload.addEventListener(t, e)
                    }), p && (k.withCredentials = !0), f) try {
                        k.responseType = f
                    } catch (e) {
                        if ("json" !== f) throw e
                    }
                    k.send(v(l) ? null : l)
                } if (d > 0) var I = n(y, d);
                else E(d) && d.then(y)
            }
        }

        function Dt() {
            var e = "{{",
                t = "}}";
            this.startSymbol = function(t) {
                return t ? (e = t, this) : e
            }, this.endSymbol = function(e) {
                return e ? (t = e, this) : t
            }, this.$get = ["$parse", "$exceptionHandler", "$sce",
                function(n, a, i) {
                    function s(e) {
                        return "\\\\\\" + e
                    }

                    function o(n) {
                        return n.replace(m, e).replace(f, t)
                    }

                    function r(e) {
                        if (null == e) return "";
                        switch (typeof e) {
                            case "string":
                                break;
                            case "number":
                                e = "" + e;
                                break;
                            default:
                                e = W(e)
                        }
                        return e
                    }

                    function l(e, t, n, a) {
                        var i;
                        return i = e.$watch(function(e) {
                            return i(), a(e)
                        }, t, n)
                    }

                    function u(s, u, m, f) {
                        if (!s.length || -1 === s.indexOf(e)) {
                            var h;
                            return u || ((h = g(o(s))).exp = s, h.expressions = [], h.$$watchDelegate = l), h
                        }
                        f = !!f;
                        for (var y, $, w, x = 0, k = [], I = [], C = s.length, _ = [], M = []; x < C;) {
                            if (-1 == (y = s.indexOf(e, x)) || -1 == ($ = s.indexOf(t, y + d))) {
                                x !== C && _.push(o(s.substring(x)));
                                break
                            }
                            x !== y && _.push(o(s.substring(x, y))), w = s.substring(y + d, $), k.push(w), I.push(n(w, function(e) {
                                try {
                                    return e = D(e), f && !b(e) ? e : r(e)
                                } catch (e) {
                                    a(Li.interr(s, e))
                                }
                            })), x = $ + p, M.push(_.length), _.push("")
                        }
                        if (m && _.length > 1 && Li.throwNoconcat(s), !u || k.length) {
                            var A = function(e) {
                                    for (var t = 0, n = k.length; t < n; t++) {
                                        if (f && v(e[t])) return;
                                        _[M[t]] = e[t]
                                    }
                                    return _.join("")
                                },
                                D = function(e) {
                                    return m ? i.getTrusted(m, e) : i.valueOf(e)
                                };
                            return c(function(e) {
                                var t = 0,
                                    n = k.length,
                                    i = new Array(n);
                                try {
                                    for (; t < n; t++) i[t] = I[t](e);
                                    return A(i)
                                } catch (e) {
                                    a(Li.interr(s, e))
                                }
                            }, {
                                exp: s,
                                expressions: k,
                                $$watchDelegate: function(e, t) {
                                    var n;
                                    return e.$watchGroup(I, function(a, i) {
                                        var s = A(a);
                                        S(t) && t.call(this, s, a !== i ? n : s, e), n = s
                                    })
                                }
                            })
                        }
                    }
                    var d = e.length,
                        p = t.length,
                        m = new RegExp(e.replace(/./g, s), "g"),
                        f = new RegExp(t.replace(/./g, s), "g");
                    return u.startSymbol = function() {
                        return e
                    }, u.endSymbol = function() {
                        return t
                    }, u
                }
            ]
        }

        function Tt() {
            this.$get = ["$rootScope", "$window", "$q", "$$q", "$browser",
                function(e, t, n, a, i) {
                    function s(s, r, l, c) {
                        function u() {
                            d ? s.apply(null, p) : s(g)
                        }
                        var d = arguments.length > 4,
                            p = d ? F(arguments, 4) : [],
                            m = t.setInterval,
                            f = t.clearInterval,
                            g = 0,
                            h = b(c) && !c,
                            v = (h ? a : n).defer(),
                            y = v.promise;
                        return l = b(l) ? l : 0, y.$$intervalId = m(function() {
                            h ? i.defer(u) : e.$evalAsync(u), v.notify(g++), l > 0 && g >= l && (v.resolve(g), f(y.$$intervalId), delete o[y.$$intervalId]), h || e.$apply()
                        }, r), o[y.$$intervalId] = v, y
                    }
                    var o = {};
                    return s.cancel = function(e) {
                        return !!(e && e.$$intervalId in o) && (o[e.$$intervalId].reject("canceled"), t.clearInterval(e.$$intervalId), delete o[e.$$intervalId], !0)
                    }, s
                }
            ]
        }

        function Et(e) {
            for (var t = e.split("/"), n = t.length; n--;) t[n] = te(t[n]);
            return t.join("/")
        }

        function Pt(e, t) {
            var n = Mn(e);
            t.$$protocol = n.protocol, t.$$host = n.hostname, t.$$port = d(n.port) || Bi[n.protocol] || null
        }

        function Ot(e, t) {
            var n = "/" !== e.charAt(0);
            n && (e = "/" + e);
            var a = Mn(e);
            t.$$path = decodeURIComponent(n && "/" === a.pathname.charAt(0) ? a.pathname.substring(1) : a.pathname), t.$$search = X(a.search), t.$$hash = decodeURIComponent(a.hash), t.$$path && "/" != t.$$path.charAt(0) && (t.$$path = "/" + t.$$path)
        }

        function jt(e, t) {
            return 0 === e.lastIndexOf(t, 0)
        }

        function Nt(e, t) {
            if (jt(t, e)) return t.substr(e.length)
        }

        function Lt(e) {
            var t = e.indexOf("#");
            return -1 == t ? e : e.substr(0, t)
        }

        function Ut(e) {
            return e.replace(/(#.+)|#$/, "$1")
        }

        function Bt(e) {
            return e.substr(0, Lt(e).lastIndexOf("/") + 1)
        }

        function Ht(e) {
            return e.substring(0, e.indexOf("/", e.indexOf("//") + 2))
        }

        function Rt(e, t, n) {
            this.$$html5 = !0, n = n || "", Pt(e, this), this.$$parse = function(e) {
                var n = Nt(t, e);
                if (!w(n)) throw Hi("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', e, t);
                Ot(n, this), this.$$path || (this.$$path = "/"), this.$$compose()
            }, this.$$compose = function() {
                var e = ee(this.$$search),
                    n = this.$$hash ? "#" + te(this.$$hash) : "";
                this.$$url = Et(this.$$path) + (e ? "?" + e : "") + n, this.$$absUrl = t + this.$$url.substr(1)
            }, this.$$parseLinkUrl = function(a, i) {
                if (i && "#" === i[0]) return this.hash(i.slice(1)), !0;
                var s, o, r;
                return b(s = Nt(e, a)) ? (o = s, r = b(s = Nt(n, s)) ? t + (Nt("/", s) || s) : e + o) : b(s = Nt(t, a)) ? r = t + s : t == a + "/" && (r = t), r && this.$$parse(r), !!r
            }
        }

        function Vt(e, t, n) {
            Pt(e, this), this.$$parse = function(a) {
                var i, s = Nt(e, a) || Nt(t, a);
                v(s) || "#" !== s.charAt(0) ? this.$$html5 ? i = s : (i = "", v(s) && (e = a, this.replace())) : v(i = Nt(n, s)) && (i = s), Ot(i, this), this.$$path = function(e, t, n) {
                    var a, i = /^\/[A-Z]:(\/.*)/;
                    return jt(t, n) && (t = t.replace(n, "")), i.exec(t) ? e : (a = i.exec(e)) ? a[1] : e
                }(this.$$path, i, e), this.$$compose()
            }, this.$$compose = function() {
                var t = ee(this.$$search),
                    a = this.$$hash ? "#" + te(this.$$hash) : "";
                this.$$url = Et(this.$$path) + (t ? "?" + t : "") + a, this.$$absUrl = e + (this.$$url ? n + this.$$url : "")
            }, this.$$parseLinkUrl = function(t, n) {
                return Lt(e) == Lt(t) && (this.$$parse(t), !0)
            }
        }

        function Ft(e, t, n) {
            this.$$html5 = !0, Vt.apply(this, arguments), this.$$parseLinkUrl = function(a, i) {
                if (i && "#" === i[0]) return this.hash(i.slice(1)), !0;
                var s, o;
                return e == Lt(a) ? s = a : (o = Nt(t, a)) ? s = e + n + o : t === a + "/" && (s = t), s && this.$$parse(s), !!s
            }, this.$$compose = function() {
                var t = ee(this.$$search),
                    a = this.$$hash ? "#" + te(this.$$hash) : "";
                this.$$url = Et(this.$$path) + (t ? "?" + t : "") + a, this.$$absUrl = e + n + this.$$url
            }
        }

        function qt(e) {
            return function() {
                return this[e]
            }
        }

        function zt(e, t) {
            return function(n) {
                return v(n) ? this[e] : (this[e] = t(n), this.$$compose(), this)
            }
        }

        function Wt() {
            var e = "",
                t = {
                    enabled: !1,
                    requireBase: !0,
                    rewriteLinks: !0
                };
            this.hashPrefix = function(t) {
                return b(t) ? (e = t, this) : e
            }, this.html5Mode = function(e) {
                return T(e) ? (t.enabled = e, this) : y(e) ? (T(e.enabled) && (t.enabled = e.enabled), T(e.requireBase) && (t.requireBase = e.requireBase), T(e.rewriteLinks) && (t.rewriteLinks = e.rewriteLinks), this) : t
            }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window",
                function(n, a, i, s, o) {
                    function r(e, t, n) {
                        var i = c.url(),
                            s = c.$$state;
                        try {
                            a.url(e, t, n), c.$$state = a.state()
                        } catch (e) {
                            throw c.url(i), c.$$state = s, e
                        }
                    }

                    function l(e, t) {
                        n.$broadcast("$locationChangeSuccess", c.absUrl(), e, c.$$state, t)
                    }
                    var c, u, d, p = a.baseHref(),
                        m = a.url();
                    if (t.enabled) {
                        if (!p && t.requireBase) throw Hi("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                        d = Ht(m) + (p || "/"), u = i.history ? Rt : Ft
                    } else d = Lt(m), u = Vt;
                    var f = Bt(d);
                    (c = new u(d, f, "#" + e)).$$parseLinkUrl(m, m), c.$$state = a.state();
                    var g = /^\s*(javascript|mailto):/i;
                    s.on("click", function(e) {
                        if (t.rewriteLinks && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 != e.which && 2 != e.button) {
                            for (var i = ba(e.target);
                                "a" !== L(i[0]);)
                                if (i[0] === s[0] || !(i = i.parent())[0]) return;
                            var r = i.prop("href"),
                                l = i.attr("href") || i.attr("xlink:href");
                            y(r) && "[object SVGAnimatedString]" === r.toString() && (r = Mn(r.animVal).href), g.test(r) || !r || i.attr("target") || e.isDefaultPrevented() || c.$$parseLinkUrl(r, l) && (e.preventDefault(), c.absUrl() != a.url() && (n.$apply(), o.angular["ff-684208-preventDefault"] = !0))
                        }
                    }), Ut(c.absUrl()) != Ut(m) && a.url(c.absUrl(), !0);
                    var h = !0;
                    return a.onUrlChange(function(e, t) {
                        v(Nt(f, e)) ? o.location.href = e : (n.$evalAsync(function() {
                            var a, i = c.absUrl(),
                                s = c.$$state;
                            e = Ut(e), c.$$parse(e), c.$$state = t, a = n.$broadcast("$locationChangeStart", e, i, t, s).defaultPrevented, c.absUrl() === e && (a ? (c.$$parse(i), c.$$state = s, r(i, !1, s)) : (h = !1, l(i, s)))
                        }), n.$$phase || n.$digest())
                    }), n.$watch(function() {
                        var e = Ut(a.url()),
                            t = Ut(c.absUrl()),
                            s = a.state(),
                            o = c.$$replace,
                            u = e !== t || c.$$html5 && i.history && s !== c.$$state;
                        (h || u) && (h = !1, n.$evalAsync(function() {
                            var t = c.absUrl(),
                                a = n.$broadcast("$locationChangeStart", t, e, c.$$state, s).defaultPrevented;
                            c.absUrl() === t && (a ? (c.$$parse(e), c.$$state = s) : (u && r(t, o, s === c.$$state ? null : c.$$state), l(e, s)))
                        })), c.$$replace = !1
                    }), c
                }
            ]
        }

        function Gt() {
            var e = !0,
                t = this;
            this.debugEnabled = function(t) {
                return b(t) ? (e = t, this) : e
            }, this.$get = ["$window",
                function(n) {
                    function i(e) {
                        return e instanceof Error && (e.stack ? e = e.message && -1 === e.stack.indexOf(e.message) ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)), e
                    }

                    function s(e) {
                        var t = n.console || {},
                            s = t[e] || t.log || m,
                            o = !1;
                        try {
                            o = !!s.apply
                        } catch (e) {}
                        return o ? function() {
                            var e = [];
                            return a(arguments, function(t) {
                                e.push(i(t))
                            }), s.apply(t, e)
                        } : function(e, t) {
                            s(e, null == t ? "" : t)
                        }
                    }
                    return {
                        log: s("log"),
                        info: s("info"),
                        warn: s("warn"),
                        error: s("error"),
                        debug: function() {
                            var n = s("debug");
                            return function() {
                                e && n.apply(t, arguments)
                            }
                        }()
                    }
                }
            ]
        }

        function Yt(e, t) {
            if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e) throw Vi("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", t);
            return e
        }

        function Kt(e) {
            return e + ""
        }

        function Zt(e, t) {
            if (e) {
                if (e.constructor === e) throw Vi("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                if (e.window === e) throw Vi("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", t);
                if (e.children && (e.nodeName || e.prop && e.attr && e.find)) throw Vi("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", t);
                if (e === Object) throw Vi("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", t)
            }
            return e
        }

        function Qt(e, t) {
            if (e) {
                if (e.constructor === e) throw Vi("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                if (e === Fi || e === qi || e === zi) throw Vi("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", t)
            }
        }

        function Jt(e, t) {
            if (e && (e === (0).constructor || e === (!1).constructor || e === "".constructor || e === {}.constructor || e === [].constructor || e === Function.constructor)) throw Vi("isecaf", "Assigning to a constructor is disallowed! Expression: {0}", t)
        }

        function Xt(e, t) {
            return void 0 !== e ? e : t
        }

        function en(e, t) {
            return void 0 === e ? t : void 0 === t ? e : e + t
        }

        function tn(e, t) {
            return !e(t).$stateful
        }

        function nn(e, t) {
            var n, i;
            switch (e.type) {
                case Ki.Program:
                    n = !0, a(e.body, function(e) {
                        nn(e.expression, t), n = n && e.expression.constant
                    }), e.constant = n;
                    break;
                case Ki.Literal:
                    e.constant = !0, e.toWatch = [];
                    break;
                case Ki.UnaryExpression:
                    nn(e.argument, t), e.constant = e.argument.constant, e.toWatch = e.argument.toWatch;
                    break;
                case Ki.BinaryExpression:
                    nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.left.toWatch.concat(e.right.toWatch);
                    break;
                case Ki.LogicalExpression:
                    nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.constant ? [] : [e];
                    break;
                case Ki.ConditionalExpression:
                    nn(e.test, t), nn(e.alternate, t), nn(e.consequent, t), e.constant = e.test.constant && e.alternate.constant && e.consequent.constant, e.toWatch = e.constant ? [] : [e];
                    break;
                case Ki.Identifier:
                    e.constant = !1, e.toWatch = [e];
                    break;
                case Ki.MemberExpression:
                    nn(e.object, t), e.computed && nn(e.property, t), e.constant = e.object.constant && (!e.computed || e.property.constant), e.toWatch = [e];
                    break;
                case Ki.CallExpression:
                    n = !!e.filter && tn(t, e.callee.name), i = [], a(e.arguments, function(e) {
                        nn(e, t), n = n && e.constant, e.constant || i.push.apply(i, e.toWatch)
                    }), e.constant = n, e.toWatch = e.filter && tn(t, e.callee.name) ? i : [e];
                    break;
                case Ki.AssignmentExpression:
                    nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = [e];
                    break;
                case Ki.ArrayExpression:
                    n = !0, i = [], a(e.elements, function(e) {
                        nn(e, t), n = n && e.constant, e.constant || i.push.apply(i, e.toWatch)
                    }), e.constant = n, e.toWatch = i;
                    break;
                case Ki.ObjectExpression:
                    n = !0, i = [], a(e.properties, function(e) {
                        nn(e.value, t), n = n && e.value.constant && !e.computed, e.value.constant || i.push.apply(i, e.value.toWatch)
                    }), e.constant = n, e.toWatch = i;
                    break;
                case Ki.ThisExpression:
                case Ki.LocalsExpression:
                    e.constant = !1, e.toWatch = []
            }
        }

        function an(e) {
            if (1 == e.length) {
                var t = e[0].expression,
                    n = t.toWatch;
                return 1 !== n.length ? n : n[0] !== t ? n : void 0
            }
        }

        function sn(e) {
            return e.type === Ki.Identifier || e.type === Ki.MemberExpression
        }

        function on(e) {
            if (1 === e.body.length && sn(e.body[0].expression)) return {
                type: Ki.AssignmentExpression,
                left: e.body[0].expression,
                right: {
                    type: Ki.NGValueParameter
                },
                operator: "="
            }
        }

        function rn(e) {
            return 0 === e.body.length || 1 === e.body.length && (e.body[0].expression.type === Ki.Literal || e.body[0].expression.type === Ki.ArrayExpression || e.body[0].expression.type === Ki.ObjectExpression)
        }

        function ln(e) {
            return e.constant
        }

        function cn(e, t) {
            this.astBuilder = e, this.$filter = t
        }

        function un(e, t) {
            this.astBuilder = e, this.$filter = t
        }

        function dn(e) {
            return "constructor" == e
        }

        function pn(e) {
            return S(e.valueOf) ? e.valueOf() : Qi.call(e)
        }

        function mn() {
            var e, t, n = fe(),
                i = fe(),
                s = {
                    true: !0,
                    false: !1,
                    null: null,
                    undefined: void 0
                };
            this.addLiteral = function(e, t) {
                s[e] = t
            }, this.setIdentifierFns = function(n, a) {
                return e = n, t = a, this
            }, this.$get = ["$filter",
                function(o) {
                    function r(e, t, a) {
                        var s, r, c;
                        switch (a = a || $, typeof e) {
                            case "string":
                                c = e = e.trim();
                                var h = a ? i : n;
                                if (!(s = h[c])) {
                                    ":" === e.charAt(0) && ":" === e.charAt(1) && (r = !0, e = e.substring(2));
                                    var b = a ? y : v,
                                        w = new Yi(b);
                                    (s = new Zi(w, o, b).parse(e)).constant ? s.$$watchDelegate = f : r ? s.$$watchDelegate = s.literal ? p : d : s.inputs && (s.$$watchDelegate = u), a && (s = l(s)), h[c] = s
                                }
                                return g(s, t);
                            case "function":
                                return g(e, t);
                            default:
                                return g(m, t)
                        }
                    }

                    function l(e) {
                        function t(t, n, a, i) {
                            var s = $;
                            $ = !0;
                            try {
                                return e(t, n, a, i)
                            } finally {
                                $ = s
                            }
                        }
                        if (!e) return e;
                        t.$$watchDelegate = e.$$watchDelegate, t.assign = l(e.assign), t.constant = e.constant, t.literal = e.literal;
                        for (var n = 0; e.inputs && n < e.inputs.length; ++n) e.inputs[n] = l(e.inputs[n]);
                        return t.inputs = e.inputs, t
                    }

                    function c(e, t) {
                        return null == e || null == t ? e === t : ("object" != typeof e || "object" != typeof(e = pn(e))) && (e === t || e !== e && t !== t)
                    }

                    function u(e, t, n, a, i) {
                        var s, o = a.inputs;
                        if (1 === o.length) {
                            var r = c;
                            return o = o[0], e.$watch(function(e) {
                                var t = o(e);
                                return c(t, r) || (s = a(e, void 0, void 0, [t]), r = t && pn(t)), s
                            }, t, n, i)
                        }
                        for (var l = [], u = [], d = 0, p = o.length; d < p; d++) l[d] = c, u[d] = null;
                        return e.$watch(function(e) {
                            for (var t = !1, n = 0, i = o.length; n < i; n++) {
                                var r = o[n](e);
                                (t || (t = !c(r, l[n]))) && (u[n] = r, l[n] = r && pn(r))
                            }
                            return t && (s = a(e, void 0, void 0, u)), s
                        }, t, n, i)
                    }

                    function d(e, t, n, a) {
                        var i, s;
                        return i = e.$watch(function(e) {
                            return a(e)
                        }, function(e, n, a) {
                            s = e, S(t) && t.apply(this, arguments), b(e) && a.$$postDigest(function() {
                                b(s) && i()
                            })
                        }, n)
                    }

                    function p(e, t, n, i) {
                        function s(e) {
                            var t = !0;
                            return a(e, function(e) {
                                b(e) || (t = !1)
                            }), t
                        }
                        var o, r;
                        return o = e.$watch(function(e) {
                            return i(e)
                        }, function(e, n, a) {
                            r = e, S(t) && t.call(this, e, n, a), s(e) && a.$$postDigest(function() {
                                s(r) && o()
                            })
                        }, n)
                    }

                    function f(e, t, n, a) {
                        var i;
                        return i = e.$watch(function(e) {
                            return i(), a(e)
                        }, t, n)
                    }

                    function g(e, t) {
                        if (!t) return e;
                        var n = e.$$watchDelegate,
                            a = !1,
                            i = n !== p && n !== d ? function(n, i, s, o) {
                                var r = a && o ? o[0] : e(n, i, s, o);
                                return t(r, n, i)
                            } : function(n, a, i, s) {
                                var o = e(n, a, i, s),
                                    r = t(o, n, a);
                                return b(o) ? r : o
                            };
                        return e.$$watchDelegate && e.$$watchDelegate !== u ? i.$$watchDelegate = e.$$watchDelegate : t.$stateful || (i.$$watchDelegate = u, a = !e.inputs, i.inputs = e.inputs ? e.inputs : [e]), i
                    }
                    var h = Pa().noUnsafeEval,
                        v = {
                            csp: h,
                            expensiveChecks: !1,
                            literals: B(s),
                            isIdentifierStart: S(e) && e,
                            isIdentifierContinue: S(t) && t
                        },
                        y = {
                            csp: h,
                            expensiveChecks: !0,
                            literals: B(s),
                            isIdentifierStart: S(e) && e,
                            isIdentifierContinue: S(t) && t
                        },
                        $ = !1;
                    return r.$$runningExpensiveChecks = function() {
                        return $
                    }, r
                }
            ]
        }

        function fn() {
            this.$get = ["$rootScope", "$exceptionHandler",
                function(e, t) {
                    return hn(function(t) {
                        e.$evalAsync(t)
                    }, t)
                }
            ]
        }

        function gn() {
            this.$get = ["$browser", "$exceptionHandler",
                function(e, t) {
                    return hn(function(t) {
                        e.defer(t)
                    }, t)
                }
            ]
        }

        function hn(e, n) {
            function i() {
                this.$$state = {
                    status: 0
                }
            }

            function s(e, t) {
                return function(n) {
                    t.call(e, n)
                }
            }

            function o(e) {
                var t, a, i;
                i = e.pending, e.processScheduled = !1, e.pending = void 0;
                for (var s = 0, o = i.length; s < o; ++s) {
                    a = i[s][0], t = i[s][e.status];
                    try {
                        S(t) ? a.resolve(t(e.value)) : 1 === e.status ? a.resolve(e.value) : a.reject(e.value)
                    } catch (e) {
                        a.reject(e), n(e)
                    }
                }
            }

            function r(t) {
                !t.processScheduled && t.pending && (t.processScheduled = !0, e(function() {
                    o(t)
                }))
            }

            function l() {
                this.promise = new i
            }
            var u = t("$q", TypeError);
            c(i.prototype, {
                then: function(e, t, n) {
                    if (v(e) && v(t) && v(n)) return this;
                    var a = new l;
                    return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([a, e, t, n]), this.$$state.status > 0 && r(this.$$state), a.promise
                },
                catch: function(e) {
                    return this.then(null, e)
                },
                finally: function(e, t) {
                    return this.then(function(t) {
                        return p(t, !0, e)
                    }, function(t) {
                        return p(t, !1, e)
                    }, t)
                }
            }), c(l.prototype, {
                resolve: function(e) {
                    this.promise.$$state.status || (e === this.promise ? this.$$reject(u("qcycle", "Expected promise to be resolved with value other than itself '{0}'", e)) : this.$$resolve(e))
                },
                $$resolve: function(e) {
                    function t(e) {
                        o || (o = !0, i.$$reject(e))
                    }
                    var a, i = this,
                        o = !1;
                    try {
                        (y(e) || S(e)) && (a = e && e.then), S(a) ? (this.promise.$$state.status = -1, a.call(e, function(e) {
                            o || (o = !0, i.$$resolve(e))
                        }, t, s(this, this.notify))) : (this.promise.$$state.value = e, this.promise.$$state.status = 1, r(this.promise.$$state))
                    } catch (e) {
                        t(e), n(e)
                    }
                },
                reject: function(e) {
                    this.promise.$$state.status || this.$$reject(e)
                },
                $$reject: function(e) {
                    this.promise.$$state.value = e, this.promise.$$state.status = 2, r(this.promise.$$state)
                },
                notify: function(t) {
                    var a = this.promise.$$state.pending;
                    this.promise.$$state.status <= 0 && a && a.length && e(function() {
                        for (var e, i, s = 0, o = a.length; s < o; s++) {
                            i = a[s][0], e = a[s][3];
                            try {
                                i.notify(S(e) ? e(t) : t)
                            } catch (e) {
                                n(e)
                            }
                        }
                    })
                }
            });
            var d = function(e, t) {
                    var n = new l;
                    return t ? n.resolve(e) : n.reject(e), n.promise
                },
                p = function(e, t, n) {
                    var a = null;
                    try {
                        S(n) && (a = n())
                    } catch (e) {
                        return d(e, !1)
                    }
                    return E(a) ? a.then(function() {
                        return d(e, t)
                    }, function(e) {
                        return d(e, !1)
                    }) : d(e, t)
                },
                m = function(e, t, n, a) {
                    var i = new l;
                    return i.resolve(e), i.promise.then(t, n, a)
                },
                f = m,
                g = function(e) {
                    if (!S(e)) throw u("norslvr", "Expected resolverFn, got '{0}'", e);
                    var t = new l;
                    return e(function(e) {
                        t.resolve(e)
                    }, function(e) {
                        t.reject(e)
                    }), t.promise
                };
            return g.prototype = i.prototype, g.defer = function() {
                var e = new l;
                return e.resolve = s(e, e.resolve), e.reject = s(e, e.reject), e.notify = s(e, e.notify), e
            }, g.reject = function(e) {
                var t = new l;
                return t.reject(e), t.promise
            }, g.when = m, g.resolve = f, g.all = function(e) {
                var t = new l,
                    n = 0,
                    i = Aa(e) ? [] : {};
                return a(e, function(e, a) {
                    n++, m(e).then(function(e) {
                        i.hasOwnProperty(a) || (i[a] = e, --n || t.resolve(i))
                    }, function(e) {
                        i.hasOwnProperty(a) || t.reject(e)
                    })
                }), 0 === n && t.resolve(i), t.promise
            }, g
        }

        function vn() {
            this.$get = ["$window", "$timeout",
                function(e, t) {
                    var n = e.requestAnimationFrame || e.webkitRequestAnimationFrame,
                        a = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame,
                        i = !!n,
                        s = i ? function(e) {
                            var t = n(e);
                            return function() {
                                a(t)
                            }
                        } : function(e) {
                            var n = t(e, 16.66, !1);
                            return function() {
                                t.cancel(n)
                            }
                        };
                    return s.supported = i, s
                }
            ]
        }

        function bn() {
            function e(e) {
                function t() {
                    this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = o(), this.$$ChildScope = null
                }
                return t.prototype = e, t
            }
            var i = 10,
                s = t("$rootScope"),
                r = null,
                l = null;
            this.digestTtl = function(e) {
                return arguments.length && (i = e), i
            }, this.$get = ["$exceptionHandler", "$parse", "$browser",
                function(t, c, u) {
                    function d(e) {
                        e.currentScope.$$destroyed = !0
                    }

                    function p(e) {
                        9 === va && (e.$$childHead && p(e.$$childHead), e.$$nextSibling && p(e.$$nextSibling)), e.$parent = e.$$nextSibling = e.$$prevSibling = e.$$childHead = e.$$childTail = e.$root = e.$$watchers = null
                    }

                    function f() {
                        this.$id = o(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null
                    }

                    function g(e) {
                        if (I.$$phase) throw s("inprog", "{0} already in progress", I.$$phase);
                        I.$$phase = e
                    }

                    function h() {
                        I.$$phase = null
                    }

                    function b(e, t) {
                        do {
                            e.$$watchersCount += t
                        } while (e = e.$parent)
                    }

                    function $(e, t, n) {
                        do {
                            e.$$listenerCount[n] -= t, 0 === e.$$listenerCount[n] && delete e.$$listenerCount[n]
                        } while (e = e.$parent)
                    }

                    function w() {}

                    function x() {
                        for (; M.length;) try {
                            M.shift()()
                        } catch (e) {
                            t(e)
                        }
                        l = null
                    }

                    function k() {
                        null === l && (l = u.defer(function() {
                            I.$apply(x)
                        }))
                    }
                    f.prototype = {
                        constructor: f,
                        $new: function(t, n) {
                            var a;
                            return n = n || this, t ? (a = new f).$root = this.$root : (this.$$ChildScope || (this.$$ChildScope = e(this)), a = new this.$$ChildScope), a.$parent = n, a.$$prevSibling = n.$$childTail, n.$$childHead ? (n.$$childTail.$$nextSibling = a, n.$$childTail = a) : n.$$childHead = n.$$childTail = a, (t || n != this) && a.$on("$destroy", d), a
                        },
                        $watch: function(e, t, n, a) {
                            var i = c(e);
                            if (i.$$watchDelegate) return i.$$watchDelegate(this, t, n, i, e);
                            var s = this,
                                o = s.$$watchers,
                                l = {
                                    fn: t,
                                    last: w,
                                    get: i,
                                    exp: a || e,
                                    eq: !!n
                                };
                            return r = null, S(t) || (l.fn = m), o || (o = s.$$watchers = []), o.unshift(l), b(this, 1),
                                function() {
                                    U(o, l) >= 0 && b(s, -1), r = null
                                }
                        },
                        $watchGroup: function(e, t) {
                            function n() {
                                l = !1, c ? (c = !1, t(s, s, r)) : t(s, i, r)
                            }
                            var i = new Array(e.length),
                                s = new Array(e.length),
                                o = [],
                                r = this,
                                l = !1,
                                c = !0;
                            if (!e.length) {
                                var u = !0;
                                return r.$evalAsync(function() {
                                        u && t(s, s, r)
                                    }),
                                    function() {
                                        u = !1
                                    }
                            }
                            return 1 === e.length ? this.$watch(e[0], function(e, n, a) {
                                s[0] = e, i[0] = n, t(s, e === n ? s : i, a)
                            }) : (a(e, function(e, t) {
                                var a = r.$watch(e, function(e, a) {
                                    s[t] = e, i[t] = a, l || (l = !0, r.$evalAsync(n))
                                });
                                o.push(a)
                            }), function() {
                                for (; o.length;) o.shift()()
                            })
                        },
                        $watchCollection: function(e, t) {
                            function a(e) {
                                var t, a, o, r;
                                if (!v(i = e)) {
                                    if (y(i))
                                        if (n(i)) {
                                            s !== p && (g = (s = p).length = 0, u++), t = i.length, g !== t && (u++, s.length = g = t);
                                            for (var l = 0; l < t; l++) r = s[l], o = i[l], r !== r && o !== o || r === o || (u++, s[l] = o)
                                        } else {
                                            s !== m && (s = m = {}, g = 0, u++), t = 0;
                                            for (a in i) fa.call(i, a) && (t++, o = i[a], r = s[a], a in s ? r !== r && o !== o || r === o || (u++, s[a] = o) : (g++, s[a] = o, u++));
                                            if (g > t) {
                                                u++;
                                                for (a in s) fa.call(i, a) || (g--, delete s[a])
                                            }
                                        } else s !== i && (s = i, u++);
                                    return u
                                }
                            }
                            a.$stateful = !0;
                            var i, s, o, r = this,
                                l = t.length > 1,
                                u = 0,
                                d = c(e, a),
                                p = [],
                                m = {},
                                f = !0,
                                g = 0;
                            return this.$watch(d, function() {
                                if (f ? (f = !1, t(i, i, r)) : t(i, o, r), l)
                                    if (y(i))
                                        if (n(i)) {
                                            o = new Array(i.length);
                                            for (var e = 0; e < i.length; e++) o[e] = i[e]
                                        } else {
                                            o = {};
                                            for (var a in i) fa.call(i, a) && (o[a] = i[a])
                                        } else o = i
                            })
                        },
                        $digest: function() {
                            var e, n, a, o, c, d, p, m, f, v, b, y = i,
                                $ = this,
                                k = [];
                            g("$digest"), u.$$checkUrlChange(), this === I && null !== l && (u.defer.cancel(l), x()), r = null;
                            do {
                                p = !1, f = $;
                                for (var M = 0; M < C.length; M++) {
                                    try {
                                        (b = C[M]).scope.$eval(b.expression, b.locals)
                                    } catch (e) {
                                        t(e)
                                    }
                                    r = null
                                }
                                C.length = 0;
                                e: do {
                                    if (c = f.$$watchers)
                                        for (d = c.length; d--;) try {
                                            if (e = c[d])
                                                if (o = e.get, (n = o(f)) === (a = e.last) || (e.eq ? R(n, a) : "number" == typeof n && "number" == typeof a && isNaN(n) && isNaN(a))) {
                                                    if (e === r) {
                                                        p = !1;
                                                        break e
                                                    }
                                                } else p = !0, r = e, e.last = e.eq ? B(n, null) : n, (0, e.fn)(n, a === w ? n : a, f), y < 5 && (k[v = 4 - y] || (k[v] = []), k[v].push({
                                                    msg: S(e.exp) ? "fn: " + (e.exp.name || e.exp.toString()) : e.exp,
                                                    newVal: n,
                                                    oldVal: a
                                                }))
                                        } catch (e) {
                                            t(e)
                                        }
                                    if (!(m = f.$$watchersCount && f.$$childHead || f !== $ && f.$$nextSibling))
                                        for (; f !== $ && !(m = f.$$nextSibling);) f = f.$parent
                                } while (f = m);
                                if ((p || C.length) && !y--) throw h(), s("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", i, k)
                            } while (p || C.length);
                            for (h(); A < _.length;) try {
                                _[A++]()
                            } catch (e) {
                                t(e)
                            }
                            _.length = A = 0
                        },
                        $destroy: function() {
                            if (!this.$$destroyed) {
                                var e = this.$parent;
                                this.$broadcast("$destroy"), this.$$destroyed = !0, this === I && u.$$applicationDestroyed(), b(this, -this.$$watchersCount);
                                for (var t in this.$$listenerCount) $(this, this.$$listenerCount[t], t);
                                e && e.$$childHead == this && (e.$$childHead = this.$$nextSibling), e && e.$$childTail == this && (e.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = m, this.$on = this.$watch = this.$watchGroup = function() {
                                    return m
                                }, this.$$listeners = {}, this.$$nextSibling = null, p(this)
                            }
                        },
                        $eval: function(e, t) {
                            return c(e)(this, t)
                        },
                        $evalAsync: function(e, t) {
                            I.$$phase || C.length || u.defer(function() {
                                C.length && I.$digest()
                            }), C.push({
                                scope: this,
                                expression: c(e),
                                locals: t
                            })
                        },
                        $$postDigest: function(e) {
                            _.push(e)
                        },
                        $apply: function(e) {
                            try {
                                g("$apply");
                                try {
                                    return this.$eval(e)
                                } finally {
                                    h()
                                }
                            } catch (e) {
                                t(e)
                            } finally {
                                try {
                                    I.$digest()
                                } catch (e) {
                                    throw t(e), e
                                }
                            }
                        },
                        $applyAsync: function(e) {
                            var t = this;
                            e && M.push(function() {
                                t.$eval(e)
                            }), e = c(e), k()
                        },
                        $on: function(e, t) {
                            var n = this.$$listeners[e];
                            n || (this.$$listeners[e] = n = []), n.push(t);
                            var a = this;
                            do {
                                a.$$listenerCount[e] || (a.$$listenerCount[e] = 0), a.$$listenerCount[e]++
                            } while (a = a.$parent);
                            var i = this;
                            return function() {
                                var a = n.indexOf(t); - 1 !== a && (n[a] = null, $(i, 1, e))
                            }
                        },
                        $emit: function(e, n) {
                            var a, i, s, o = [],
                                r = this,
                                l = !1,
                                c = {
                                    name: e,
                                    targetScope: r,
                                    stopPropagation: function() {
                                        l = !0
                                    },
                                    preventDefault: function() {
                                        c.defaultPrevented = !0
                                    },
                                    defaultPrevented: !1
                                },
                                u = V([c], arguments, 1);
                            do {
                                for (a = r.$$listeners[e] || o, c.currentScope = r, i = 0, s = a.length; i < s; i++)
                                    if (a[i]) try {
                                        a[i].apply(null, u)
                                    } catch (e) {
                                        t(e)
                                    } else a.splice(i, 1), i--, s--;
                                if (l) return c.currentScope = null, c;
                                r = r.$parent
                            } while (r);
                            return c.currentScope = null, c
                        },
                        $broadcast: function(e, n) {
                            var a = this,
                                i = a,
                                s = a,
                                o = {
                                    name: e,
                                    targetScope: a,
                                    preventDefault: function() {
                                        o.defaultPrevented = !0
                                    },
                                    defaultPrevented: !1
                                };
                            if (!a.$$listenerCount[e]) return o;
                            for (var r, l, c, u = V([o], arguments, 1); i = s;) {
                                for (o.currentScope = i, l = 0, c = (r = i.$$listeners[e] || []).length; l < c; l++)
                                    if (r[l]) try {
                                        r[l].apply(null, u)
                                    } catch (e) {
                                        t(e)
                                    } else r.splice(l, 1), l--, c--;
                                if (!(s = i.$$listenerCount[e] && i.$$childHead || i !== a && i.$$nextSibling))
                                    for (; i !== a && !(s = i.$$nextSibling);) i = i.$parent
                            }
                            return o.currentScope = null, o
                        }
                    };
                    var I = new f,
                        C = I.$$asyncQueue = [],
                        _ = I.$$postDigestQueue = [],
                        M = I.$$applyAsyncQueue = [],
                        A = 0;
                    return I
                }
            ]
        }

        function yn() {
            var e = /^\s*(https?|ftp|mailto|tel|file):/,
                t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
            this.aHrefSanitizationWhitelist = function(t) {
                return b(t) ? (e = t, this) : e
            }, this.imgSrcSanitizationWhitelist = function(e) {
                return b(e) ? (t = e, this) : t
            }, this.$get = function() {
                return function(n, a) {
                    var i, s = a ? t : e;
                    return "" === (i = Mn(n).href) || i.match(s) ? n : "unsafe:" + i
                }
            }
        }

        function $n(e) {
            if ("self" === e) return e;
            if (w(e)) {
                if (e.indexOf("***") > -1) throw Ji("iwcard", "Illegal sequence *** in string matcher.  String: {0}", e);
                return e = Ea(e).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), new RegExp("^" + e + "$")
            }
            if (I(e)) return new RegExp("^" + e.source + "$");
            throw Ji("imatcher", 'Matchers may only be "self", string patterns or RegExp objects')
        }

        function wn(e) {
            var t = [];
            return b(e) && a(e, function(e) {
                t.push($n(e))
            }), t
        }

        function xn() {
            this.SCE_CONTEXTS = Xi;
            var e = ["self"],
                t = [];
            this.resourceUrlWhitelist = function(t) {
                return arguments.length && (e = wn(t)), e
            }, this.resourceUrlBlacklist = function(e) {
                return arguments.length && (t = wn(e)), t
            }, this.$get = ["$injector",
                function(n) {
                    function a(e, t) {
                        return "self" === e ? An(t) : !!e.exec(t.href)
                    }

                    function i(n) {
                        var i, s, o = Mn(n.toString()),
                            r = !1;
                        for (i = 0, s = e.length; i < s; i++)
                            if (a(e[i], o)) {
                                r = !0;
                                break
                            }
                        if (r)
                            for (i = 0, s = t.length; i < s; i++)
                                if (a(t[i], o)) {
                                    r = !1;
                                    break
                                }
                        return r
                    }

                    function s(e) {
                        var t = function(e) {
                            this.$$unwrapTrustedValue = function() {
                                return e
                            }
                        };
                        return e && (t.prototype = new e), t.prototype.valueOf = function() {
                            return this.$$unwrapTrustedValue()
                        }, t.prototype.toString = function() {
                            return this.$$unwrapTrustedValue().toString()
                        }, t
                    }
                    var o = function(e) {
                        throw Ji("unsafe", "Attempting to use an unsafe value in a safe context.")
                    };
                    n.has("$sanitize") && (o = n.get("$sanitize"));
                    var r = s(),
                        l = {};
                    return l[Xi.HTML] = s(r), l[Xi.CSS] = s(r), l[Xi.URL] = s(r), l[Xi.JS] = s(r), l[Xi.RESOURCE_URL] = s(l[Xi.URL]), {
                        trustAs: function(e, t) {
                            var n = l.hasOwnProperty(e) ? l[e] : null;
                            if (!n) throw Ji("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", e, t);
                            if (null === t || v(t) || "" === t) return t;
                            if ("string" != typeof t) throw Ji("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", e);
                            return new n(t)
                        },
                        getTrusted: function(e, t) {
                            if (null === t || v(t) || "" === t) return t;
                            var n = l.hasOwnProperty(e) ? l[e] : null;
                            if (n && t instanceof n) return t.$$unwrapTrustedValue();
                            if (e === Xi.RESOURCE_URL) {
                                if (i(t)) return t;
                                throw Ji("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", t.toString())
                            }
                            if (e === Xi.HTML) return o(t);
                            throw Ji("unsafe", "Attempting to use an unsafe value in a safe context.")
                        },
                        valueOf: function(e) {
                            return e instanceof r ? e.$$unwrapTrustedValue() : e
                        }
                    }
                }
            ]
        }

        function kn() {
            var e = !0;
            this.enabled = function(t) {
                return arguments.length && (e = !!t), e
            }, this.$get = ["$parse", "$sceDelegate",
                function(t, n) {
                    if (e && va < 8) throw Ji("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
                    var i = H(Xi);
                    i.isEnabled = function() {
                        return e
                    }, i.trustAs = n.trustAs, i.getTrusted = n.getTrusted, i.valueOf = n.valueOf, e || (i.trustAs = i.getTrusted = function(e, t) {
                        return t
                    }, i.valueOf = f), i.parseAs = function(e, n) {
                        var a = t(n);
                        return a.literal && a.constant ? a : t(n, function(t) {
                            return i.getTrusted(e, t)
                        })
                    };
                    var s = i.parseAs,
                        o = i.getTrusted,
                        r = i.trustAs;
                    return a(Xi, function(e, t) {
                        var n = ga(t);
                        i[ye("parse_as_" + n)] = function(t) {
                            return s(e, t)
                        }, i[ye("get_trusted_" + n)] = function(t) {
                            return o(e, t)
                        }, i[ye("trust_as_" + n)] = function(t) {
                            return r(e, t)
                        }
                    }), i
                }
            ]
        }

        function Sn() {
            this.$get = ["$window", "$document",
                function(e, t) {
                    var n, a, i = {},
                        s = !(e.chrome && e.chrome.app && e.chrome.app.runtime) && e.history && e.history.pushState,
                        o = d((/android (\d+)/.exec(ga((e.navigator || {}).userAgent)) || [])[1]),
                        r = /Boxee/i.test((e.navigator || {}).userAgent),
                        l = t[0] || {},
                        c = /^(Moz|webkit|ms)(?=[A-Z])/,
                        u = l.body && l.body.style,
                        p = !1,
                        m = !1;
                    if (u) {
                        for (var f in u)
                            if (a = c.exec(f)) {
                                n = (n = a[0])[0].toUpperCase() + n.substr(1);
                                break
                            }
                        n || (n = "WebkitOpacity" in u && "webkit"), p = !!("transition" in u || n + "Transition" in u), m = !!("animation" in u || n + "Animation" in u), !o || p && m || (p = w(u.webkitTransition), m = w(u.webkitAnimation))
                    }
                    return {
                        history: !(!s || o < 4 || r),
                        hasEvent: function(e) {
                            if ("input" === e && va <= 11) return !1;
                            if (v(i[e])) {
                                var t = l.createElement("div");
                                i[e] = "on" + e in t
                            }
                            return i[e]
                        },
                        csp: Pa(),
                        vendorPrefix: n,
                        transitions: p,
                        animations: m,
                        android: o
                    }
                }
            ]
        }

        function In() {
            var e;
            this.httpOptions = function(t) {
                return t ? (e = t, this) : e
            }, this.$get = ["$templateCache", "$http", "$q", "$sce",
                function(t, n, a, i) {
                    function s(o, r) {
                        s.totalPendingRequests++, w(o) && !v(t.get(o)) || (o = i.getTrustedResourceUrl(o));
                        var l = n.defaults && n.defaults.transformResponse;
                        return Aa(l) ? l = l.filter(function(e) {
                            return e !== $t
                        }) : l === $t && (l = null), n.get(o, c({
                            cache: t,
                            transformResponse: l
                        }, e)).finally(function() {
                            s.totalPendingRequests--
                        }).then(function(e) {
                            return t.put(o, e.data), e.data
                        }, function(e) {
                            if (!r) throw es("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", o, e.status, e.statusText);
                            return a.reject(e)
                        })
                    }
                    return s.totalPendingRequests = 0, s
                }
            ]
        }

        function Cn() {
            this.$get = ["$rootScope", "$browser", "$location",
                function(e, t, n) {
                    var i = {};
                    return i.findBindings = function(e, t, n) {
                        var i = [];
                        return a(e.getElementsByClassName("ng-binding"), function(e) {
                            var s = _a.element(e).data("$binding");
                            s && a(s, function(a) {
                                n ? new RegExp("(^|\\s)" + Ea(t) + "(\\s|\\||$)").test(a) && i.push(e) : -1 != a.indexOf(t) && i.push(e)
                            })
                        }), i
                    }, i.findModels = function(e, t, n) {
                        for (var a = ["ng-", "data-ng-", "ng\\:"], i = 0; i < a.length; ++i) {
                            var s = n ? "=" : "*=",
                                o = "[" + a[i] + "model" + s + '"' + t + '"]',
                                r = e.querySelectorAll(o);
                            if (r.length) return r
                        }
                    }, i.getLocation = function() {
                        return n.url()
                    }, i.setLocation = function(t) {
                        t !== n.url() && (n.url(t), e.$digest())
                    }, i.whenStable = function(e) {
                        t.notifyWhenNoOutstandingRequests(e)
                    }, i
                }
            ]
        }

        function _n() {
            this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler",
                function(e, t, n, a, i) {
                    function s(s, r, l) {
                        S(s) || (l = r, r = s, s = m);
                        var c, u = F(arguments, 3),
                            d = b(l) && !l,
                            p = (d ? a : n).defer(),
                            f = p.promise;
                        return c = t.defer(function() {
                            try {
                                p.resolve(s.apply(null, u))
                            } catch (e) {
                                p.reject(e), i(e)
                            } finally {
                                delete o[f.$$timeoutId]
                            }
                            d || e.$apply()
                        }, r), f.$$timeoutId = c, o[c] = p, f
                    }
                    var o = {};
                    return s.cancel = function(e) {
                        return !!(e && e.$$timeoutId in o) && (o[e.$$timeoutId].reject("canceled"), delete o[e.$$timeoutId], t.defer.cancel(e.$$timeoutId))
                    }, s
                }
            ]
        }

        function Mn(e) {
            var t = e;
            return va && (ts.setAttribute("href", t), t = ts.href), ts.setAttribute("href", t), {
                href: ts.href,
                protocol: ts.protocol ? ts.protocol.replace(/:$/, "") : "",
                host: ts.host,
                search: ts.search ? ts.search.replace(/^\?/, "") : "",
                hash: ts.hash ? ts.hash.replace(/^#/, "") : "",
                hostname: ts.hostname,
                port: ts.port,
                pathname: "/" === ts.pathname.charAt(0) ? ts.pathname : "/" + ts.pathname
            }
        }

        function An(e) {
            var t = w(e) ? Mn(e) : e;
            return t.protocol === ns.protocol && t.host === ns.host
        }

        function Dn() {
            this.$get = g(e)
        }

        function Tn(e) {
            function t(e) {
                try {
                    return decodeURIComponent(e)
                } catch (t) {
                    return e
                }
            }
            var n = e[0] || {},
                a = {},
                i = "";
            return function() {
                var e, s, o, r, l, c = n.cookie || "";
                if (c !== i)
                    for (e = (i = c).split("; "), a = {}, o = 0; o < e.length; o++)(r = (s = e[o]).indexOf("=")) > 0 && (l = t(s.substring(0, r)), v(a[l]) && (a[l] = t(s.substring(r + 1))));
                return a
            }
        }

        function En() {
            this.$get = Tn
        }

        function Pn(e) {
            function t(i, s) {
                if (y(i)) {
                    var o = {};
                    return a(i, function(e, n) {
                        o[n] = t(n, e)
                    }), o
                }
                return e.factory(i + n, s)
            }
            var n = "Filter";
            this.register = t, this.$get = ["$injector",
                function(e) {
                    return function(t) {
                        return e.get(t + n)
                    }
                }
            ], t("currency", Un), t("date", Zn), t("filter", On), t("json", Qn), t("limitTo", Jn), t("lowercase", cs), t("number", Bn), t("orderBy", Xn), t("uppercase", us)
        }

        function On() {
            return function(e, a, i) {
                if (!n(e)) {
                    if (null == e) return e;
                    throw t("filter")("notarray", "Expected array but received: {0}", e)
                }
                var s, o;
                switch (Ln(a)) {
                    case "function":
                        s = a;
                        break;
                    case "boolean":
                    case "null":
                    case "number":
                    case "string":
                        o = !0;
                    case "object":
                        s = jn(a, i, o);
                        break;
                    default:
                        return e
                }
                return Array.prototype.filter.call(e, s)
            }
        }

        function jn(e, t, n) {
            var a = y(e) && "$" in e;
            return !0 === t ? t = R : S(t) || (t = function(e, t) {
                    return !v(e) && (null === e || null === t ? e === t : !(y(t) || y(e) && !h(e)) && (e = ga("" + e), t = ga("" + t), -1 !== e.indexOf(t)))
                }),
                function(i) {
                    return a && !y(i) ? Nn(i, e.$, t, !1) : Nn(i, e, t, n)
                }
        }

        function Nn(e, t, n, a, i) {
            var s = Ln(e),
                o = Ln(t);
            if ("string" === o && "!" === t.charAt(0)) return !Nn(e, t.substring(1), n, a);
            if (Aa(e)) return e.some(function(e) {
                return Nn(e, t, n, a)
            });
            switch (s) {
                case "object":
                    var r;
                    if (a) {
                        for (r in e)
                            if ("$" !== r.charAt(0) && Nn(e[r], t, n, !0)) return !0;
                        return !i && Nn(e, t, n, !1)
                    }
                    if ("object" === o) {
                        for (r in t) {
                            var l = t[r];
                            if (!S(l) && !v(l)) {
                                var c = "$" === r;
                                if (!Nn(c ? e : e[r], l, n, c, c)) return !1
                            }
                        }
                        return !0
                    }
                    return n(e, t);
                case "function":
                    return !1;
                default:
                    return n(e, t)
            }
        }

        function Ln(e) {
            return null === e ? "null" : typeof e
        }

        function Un(e) {
            var t = e.NUMBER_FORMATS;
            return function(e, n, a) {
                return v(n) && (n = t.CURRENCY_SYM), v(a) && (a = t.PATTERNS[1].maxFrac), null == e ? e : Vn(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, a).replace(/\u00A4/g, n)
            }
        }

        function Bn(e) {
            var t = e.NUMBER_FORMATS;
            return function(e, n) {
                return null == e ? e : Vn(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n)
            }
        }

        function Hn(e) {
            var t, n, a, i, s, o = 0;
            for ((n = e.indexOf(is)) > -1 && (e = e.replace(is, "")), (a = e.search(/e/i)) > 0 ? (n < 0 && (n = a), n += +e.slice(a + 1), e = e.substring(0, a)) : n < 0 && (n = e.length), a = 0; e.charAt(a) == ss; a++);
            if (a == (s = e.length)) t = [0], n = 1;
            else {
                for (s--; e.charAt(s) == ss;) s--;
                for (n -= a, t = [], i = 0; a <= s; a++, i++) t[i] = +e.charAt(a)
            }
            return n > as && (t = t.splice(0, as - 1), o = n - 1, n = 1), {
                d: t,
                e: o,
                i: n
            }
        }

        function Rn(e, t, n, a) {
            var i = e.d,
                s = i.length - e.i,
                o = (t = v(t) ? Math.min(Math.max(n, s), a) : +t) + e.i,
                r = i[o];
            if (o > 0) {
                i.splice(Math.max(e.i, o));
                for (var l = o; l < i.length; l++) i[l] = 0
            } else {
                s = Math.max(0, s), e.i = 1, i.length = Math.max(1, o = t + 1), i[0] = 0;
                for (var c = 1; c < o; c++) i[c] = 0
            } if (r >= 5)
                if (o - 1 < 0) {
                    for (var u = 0; u > o; u--) i.unshift(0), e.i++;
                    i.unshift(1), e.i++
                } else i[o - 1]++;
            for (; s < Math.max(0, t); s++) i.push(0);
            var d = i.reduceRight(function(e, t, n, a) {
                return t += e, a[n] = t % 10, Math.floor(t / 10)
            }, 0);
            d && (i.unshift(d), e.i++)
        }

        function Vn(e, t, n, a, i) {
            if (!w(e) && !x(e) || isNaN(e)) return "";
            var s, o = !isFinite(e),
                r = !1,
                l = Math.abs(e) + "",
                c = "";
            if (o) c = "∞";
            else {
                Rn(s = Hn(l), i, t.minFrac, t.maxFrac);
                var u = s.d,
                    d = s.i,
                    p = s.e,
                    m = [];
                for (r = u.reduce(function(e, t) {
                    return e && !t
                }, !0); d < 0;) u.unshift(0), d++;
                d > 0 ? m = u.splice(d, u.length) : (m = u, u = [0]);
                var f = [];
                for (u.length >= t.lgSize && f.unshift(u.splice(-t.lgSize, u.length).join("")); u.length > t.gSize;) f.unshift(u.splice(-t.gSize, u.length).join(""));
                u.length && f.unshift(u.join("")), c = f.join(n), m.length && (c += a + m.join("")), p && (c += "e+" + p)
            }
            return e < 0 && !r ? t.negPre + c + t.negSuf : t.posPre + c + t.posSuf
        }

        function Fn(e, t, n, a) {
            var i = "";
            for ((e < 0 || a && e <= 0) && (a ? e = 1 - e : (e = -e, i = "-")), e = "" + e; e.length < t;) e = ss + e;
            return n && (e = e.substr(e.length - t)), i + e
        }

        function qn(e, t, n, a, i) {
            return n = n || 0,
                function(s) {
                    var o = s["get" + e]();
                    return (n > 0 || o > -n) && (o += n), 0 === o && -12 == n && (o = 12), Fn(o, t, a, i)
                }
        }

        function zn(e, t, n) {
            return function(a, i) {
                var s = a["get" + e]();
                return i[ha((n ? "STANDALONE" : "") + (t ? "SHORT" : "") + e)][s]
            }
        }

        function Wn(e) {
            var t = new Date(e, 0, 1).getDay();
            return new Date(e, 0, (t <= 4 ? 5 : 12) - t)
        }

        function Gn(e) {
            return new Date(e.getFullYear(), e.getMonth(), e.getDate() + (4 - e.getDay()))
        }

        function Yn(e) {
            return function(t) {
                var n = Wn(t.getFullYear()),
                    a = +Gn(t) - +n;
                return Fn(1 + Math.round(a / 6048e5), e)
            }
        }

        function Kn(e, t) {
            return e.getFullYear() <= 0 ? t.ERAS[0] : t.ERAS[1]
        }

        function Zn(e) {
            function t(e) {
                var t;
                if (t = e.match(n)) {
                    var a = new Date(0),
                        i = 0,
                        s = 0,
                        o = t[8] ? a.setUTCFullYear : a.setFullYear,
                        r = t[8] ? a.setUTCHours : a.setHours;
                    t[9] && (i = d(t[9] + t[10]), s = d(t[9] + t[11])), o.call(a, d(t[1]), d(t[2]) - 1, d(t[3]));
                    var l = d(t[4] || 0) - i,
                        c = d(t[5] || 0) - s,
                        u = d(t[6] || 0),
                        p = Math.round(1e3 * parseFloat("0." + (t[7] || 0)));
                    return r.call(a, l, c, u, p), a
                }
                return e
            }
            var n = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
            return function(n, i, s) {
                var o, r, l = "",
                    c = [];
                if (i = i || "mediumDate", i = e.DATETIME_FORMATS[i] || i, w(n) && (n = ls.test(n) ? d(n) : t(n)), x(n) && (n = new Date(n)), !k(n) || !isFinite(n.getTime())) return n;
                for (; i;)(r = rs.exec(i)) ? i = (c = V(c, r, 1)).pop() : (c.push(i), i = null);
                var u = n.getTimezoneOffset();
                return s && (u = Y(s, u), n = Z(n, s, !0)), a(c, function(t) {
                    o = os[t], l += o ? o(n, e.DATETIME_FORMATS, u) : "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'")
                }), l
            }
        }

        function Qn() {
            return function(e, t) {
                return v(t) && (t = 2), W(e, t)
            }
        }

        function Jn() {
            return function(e, t, n) {
                return t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : d(t), isNaN(t) ? e : (x(e) && (e = e.toString()), Aa(e) || w(e) ? (n = !n || isNaN(n) ? 0 : d(n), n = n < 0 ? Math.max(0, e.length + n) : n, t >= 0 ? e.slice(n, n + t) : 0 === n ? e.slice(t, e.length) : e.slice(Math.max(0, n + t), n)) : e)
            }
        }

        function Xn(e) {
            function a(t, n) {
                return n = n ? -1 : 1, t.map(function(t) {
                    var a = 1,
                        i = f;
                    if (S(t)) i = t;
                    else if (w(t) && ("+" != t.charAt(0) && "-" != t.charAt(0) || (a = "-" == t.charAt(0) ? -1 : 1, t = t.substring(1)), "" !== t && (i = e(t)).constant)) {
                        var s = i();
                        i = function(e) {
                            return e[s]
                        }
                    }
                    return {
                        get: i,
                        descending: a * n
                    }
                })
            }

            function i(e) {
                switch (typeof e) {
                    case "number":
                    case "boolean":
                    case "string":
                        return !0;
                    default:
                        return !1
                }
            }

            function s(e, t) {
                return "function" == typeof e.valueOf && (e = e.valueOf(), i(e)) ? e : h(e) && (e = e.toString(), i(e)) ? e : t
            }

            function o(e, t) {
                var n = typeof e;
                return null === e ? (n = "string", e = "null") : "string" === n ? e = e.toLowerCase() : "object" === n && (e = s(e, t)), {
                    value: e,
                    type: n
                }
            }

            function r(e, t) {
                var n = 0;
                return e.type === t.type ? e.value !== t.value && (n = e.value < t.value ? -1 : 1) : n = e.type < t.type ? -1 : 1, n
            }
            return function(e, i, s) {
                if (null == e) return e;
                if (!n(e)) throw t("orderBy")("notarray", "Expected array but received: {0}", e);
                Aa(i) || (i = [i]), 0 === i.length && (i = ["+"]);
                var l = a(i, s);
                l.push({
                    get: function() {
                        return {}
                    },
                    descending: s ? -1 : 1
                });
                var c = Array.prototype.map.call(e, function(e, t) {
                    return {
                        value: e,
                        predicateValues: l.map(function(n) {
                            return o(n.get(e), t)
                        })
                    }
                });
                return c.sort(function(e, t) {
                    for (var n = 0, a = 0, i = l.length; a < i && !(n = r(e.predicateValues[a], t.predicateValues[a]) * l[a].descending); ++a);
                    return n
                }), e = c.map(function(e) {
                    return e.value
                })
            }
        }

        function ea(e) {
            return S(e) && (e = {
                link: e
            }), e.restrict = e.restrict || "AC", g(e)
        }

        function ta(e, t, n, i, s) {
            var o = this,
                r = [];
            o.$error = {}, o.$$success = {}, o.$pending = void 0, o.$name = s(t.name || t.ngForm || "")(n), o.$dirty = !1, o.$pristine = !0, o.$valid = !0, o.$invalid = !1, o.$submitted = !1, o.$$parentForm = ms, o.$rollbackViewValue = function() {
                a(r, function(e) {
                    e.$rollbackViewValue()
                })
            }, o.$commitViewValue = function() {
                a(r, function(e) {
                    e.$commitViewValue()
                })
            }, o.$addControl = function(e) {
                de(e.$name, "input"), r.push(e), e.$name && (o[e.$name] = e), e.$$parentForm = o
            }, o.$$renameControl = function(e, t) {
                var n = e.$name;
                o[n] === e && delete o[n], o[t] = e, e.$name = t
            }, o.$removeControl = function(e) {
                e.$name && o[e.$name] === e && delete o[e.$name], a(o.$pending, function(t, n) {
                    o.$setValidity(n, null, e)
                }), a(o.$error, function(t, n) {
                    o.$setValidity(n, null, e)
                }), a(o.$$success, function(t, n) {
                    o.$setValidity(n, null, e)
                }), U(r, e), e.$$parentForm = ms
            }, ca({
                ctrl: this,
                $element: e,
                set: function(e, t, n) {
                    var a = e[t];
                    a ? -1 === a.indexOf(n) && a.push(n) : e[t] = [n]
                },
                unset: function(e, t, n) {
                    var a = e[t];
                    a && (U(a, n), 0 === a.length && delete e[t])
                },
                $animate: i
            }), o.$setDirty = function() {
                i.removeClass(e, Qs), i.addClass(e, Js), o.$dirty = !0, o.$pristine = !1, o.$$parentForm.$setDirty()
            }, o.$setPristine = function() {
                i.setClass(e, Qs, Js + " " + fs), o.$dirty = !1, o.$pristine = !0, o.$submitted = !1, a(r, function(e) {
                    e.$setPristine()
                })
            }, o.$setUntouched = function() {
                a(r, function(e) {
                    e.$setUntouched()
                })
            }, o.$setSubmitted = function() {
                i.addClass(e, fs), o.$submitted = !0, o.$$parentForm.$setSubmitted()
            }
        }

        function na(e) {
            e.$formatters.push(function(t) {
                return e.$isEmpty(t) ? t : t.toString()
            })
        }

        function aa(e, t, n, a, i, s) {
            var o = ga(t[0].type);
            if (!i.android) {
                var r = !1;
                t.on("compositionstart", function() {
                    r = !0
                }), t.on("compositionend", function() {
                    r = !1, c()
                })
            }
            var l, c = function(e) {
                if (l && (s.defer.cancel(l), l = null), !r) {
                    var i = t.val(),
                        c = e && e.type;
                    "password" === o || n.ngTrim && "false" === n.ngTrim || (i = Ta(i)), (a.$viewValue !== i || "" === i && a.$$hasNativeValidators) && a.$setViewValue(i, c)
                }
            };
            if (i.hasEvent("input")) t.on("input", c);
            else {
                var u = function(e, t, n) {
                    l || (l = s.defer(function() {
                        l = null, t && t.value === n || c(e)
                    }))
                };
                t.on("keydown", function(e) {
                    var t = e.keyCode;
                    91 === t || 15 < t && t < 19 || 37 <= t && t <= 40 || u(e, this, this.value)
                }), i.hasEvent("paste") && t.on("paste cut", u)
            }
            t.on("change", c), Ms[o] && a.$$hasNativeValidators && o === n.type && t.on(_s, function(e) {
                if (!l) {
                    var t = this[ma],
                        n = t.badInput,
                        a = t.typeMismatch;
                    l = s.defer(function() {
                        l = null, t.badInput === n && t.typeMismatch === a || c(e)
                    })
                }
            }), a.$render = function() {
                var e = a.$isEmpty(a.$viewValue) ? "" : a.$viewValue;
                t.val() !== e && t.val(e)
            }
        }

        function ia(e, t) {
            return function(n, i) {
                var s, o;
                if (k(n)) return n;
                if (w(n)) {
                    if ('"' == n.charAt(0) && '"' == n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)), bs.test(n)) return new Date(n);
                    if (e.lastIndex = 0, s = e.exec(n)) return s.shift(), o = i ? {
                        yyyy: i.getFullYear(),
                        MM: i.getMonth() + 1,
                        dd: i.getDate(),
                        HH: i.getHours(),
                        mm: i.getMinutes(),
                        ss: i.getSeconds(),
                        sss: i.getMilliseconds() / 1e3
                    } : {
                        yyyy: 1970,
                        MM: 1,
                        dd: 1,
                        HH: 0,
                        mm: 0,
                        ss: 0,
                        sss: 0
                    }, a(s, function(e, n) {
                        n < t.length && (o[t[n]] = +e)
                    }), new Date(o.yyyy, o.MM - 1, o.dd, o.HH, o.mm, o.ss || 0, 1e3 * o.sss || 0)
                }
                return NaN
            }
        }

        function sa(e, t, n, a) {
            return function(i, s, o, r, l, c, u) {
                function d(e) {
                    return e && !(e.getTime && e.getTime() !== e.getTime())
                }

                function p(e) {
                    return b(e) && !k(e) ? n(e) || void 0 : e
                }
                oa(i, s, o, r), aa(i, s, o, r, l, c);
                var m, f = r && r.$options && r.$options.timezone;
                if (r.$$parserName = e, r.$parsers.push(function(e) {
                    if (r.$isEmpty(e)) return null;
                    if (t.test(e)) {
                        var a = n(e, m);
                        return f && (a = Z(a, f)), a
                    }
                }), r.$formatters.push(function(e) {
                    if (e && !k(e)) throw eo("datefmt", "Expected `{0}` to be a date", e);
                    return d(e) ? ((m = e) && f && (m = Z(m, f, !0)), u("date")(e, a, f)) : (m = null, "")
                }), b(o.min) || o.ngMin) {
                    var g;
                    r.$validators.min = function(e) {
                        return !d(e) || v(g) || n(e) >= g
                    }, o.$observe("min", function(e) {
                        g = p(e), r.$validate()
                    })
                }
                if (b(o.max) || o.ngMax) {
                    var h;
                    r.$validators.max = function(e) {
                        return !d(e) || v(h) || n(e) <= h
                    }, o.$observe("max", function(e) {
                        h = p(e), r.$validate()
                    })
                }
            }
        }

        function oa(e, t, n, a) {
            var i = t[0];
            (a.$$hasNativeValidators = y(i.validity)) && a.$parsers.push(function(e) {
                var n = t.prop(ma) || {};
                return n.badInput || n.typeMismatch ? void 0 : e
            })
        }

        function ra(e, t, n, a, i) {
            var s;
            if (b(a)) {
                if (!(s = e(a)).constant) throw eo("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", n, a);
                return s(t)
            }
            return i
        }

        function la(e, t) {
            return e = "ngClass" + e, ["$animate",
                function(n) {
                    function i(e, t) {
                        var n = [];
                        e: for (var a = 0; a < e.length; a++) {
                            for (var i = e[a], s = 0; s < t.length; s++)
                                if (i == t[s]) continue e;
                            n.push(i)
                        }
                        return n
                    }

                    function s(e) {
                        var t = [];
                        return Aa(e) ? (a(e, function(e) {
                            t = t.concat(s(e))
                        }), t) : w(e) ? e.split(" ") : y(e) ? (a(e, function(e, n) {
                            e && (t = t.concat(n.split(" ")))
                        }), t) : e
                    }
                    return {
                        restrict: "AC",
                        link: function(o, r, l) {
                            function c(e) {
                                var t = d(e, 1);
                                l.$addClass(t)
                            }

                            function u(e) {
                                var t = d(e, -1);
                                l.$removeClass(t)
                            }

                            function d(e, t) {
                                var n = r.data("$classCounts") || fe(),
                                    i = [];
                                return a(e, function(e) {
                                    (t > 0 || n[e]) && (n[e] = (n[e] || 0) + t, n[e] === +(t > 0) && i.push(e))
                                }), r.data("$classCounts", n), i.join(" ")
                            }

                            function p(e, t) {
                                var a = i(t, e),
                                    s = i(e, t);
                                a = d(a, 1), s = d(s, -1), a && a.length && n.addClass(r, a), s && s.length && n.removeClass(r, s)
                            }

                            function m(e) {
                                if (!0 === t || (1 & o.$index) === t) {
                                    var n = s(e || []);
                                    f ? R(e, f) || p(s(f), n) : c(n)
                                }
                                f = Aa(e) ? e.map(function(e) {
                                    return H(e)
                                }) : H(e)
                            }
                            var f;
                            o.$watch(l[e], m, !0), l.$observe("class", function(t) {
                                m(o.$eval(l[e]))
                            }), "ngClass" !== e && o.$watch("$index", function(n, a) {
                                var i = 1 & n;
                                if (i !== (1 & a)) {
                                    var r = s(o.$eval(l[e]));
                                    i === t ? c(r) : u(r)
                                }
                            })
                        }
                    }
                }
            ]
        }

        function ca(e) {
            function t(e, t, n) {
                s[e] || (s[e] = {}), l(s[e], t, n)
            }

            function n(e, t, n) {
                s[e] && c(s[e], t, n), ua(s[e]) && (s[e] = void 0)
            }

            function a(e, t) {
                t && !r[e] ? (u.addClass(o, e), r[e] = !0) : !t && r[e] && (u.removeClass(o, e), r[e] = !1)
            }

            function i(e, t) {
                e = e ? "-" + le(e, "-") : "", a(Ks + e, !0 === t), a(Zs + e, !1 === t)
            }
            var s = e.ctrl,
                o = e.$element,
                r = {},
                l = e.set,
                c = e.unset,
                u = e.$animate;
            r[Zs] = !(r[Ks] = o.hasClass(Ks)), s.$setValidity = function(e, o, r) {
                v(o) ? t("$pending", e, r) : n("$pending", e, r), T(o) ? o ? (c(s.$error, e, r), l(s.$$success, e, r)) : (l(s.$error, e, r), c(s.$$success, e, r)) : (c(s.$error, e, r), c(s.$$success, e, r)), s.$pending ? (a(Xs, !0), s.$valid = s.$invalid = void 0, i("", null)) : (a(Xs, !1), s.$valid = ua(s.$error), s.$invalid = !s.$valid, i("", s.$valid));
                var u;
                i(e, u = s.$pending && s.$pending[e] ? void 0 : !s.$error[e] && (!!s.$$success[e] || null)), s.$$parentForm.$setValidity(e, u, s)
            }
        }

        function ua(e) {
            if (e)
                for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
            return !0
        }

        function da(e) {
            e[0].hasAttribute("selected") && (e[0].selected = !0)
        }
        var pa = /^\/(.+)\/([a-z]*)$/,
            ma = "validity",
            fa = Object.prototype.hasOwnProperty,
            ga = function(e) {
                return w(e) ? e.toLowerCase() : e
            },
            ha = function(e) {
                return w(e) ? e.toUpperCase() : e
            };
        "i" !== "I".toLowerCase() && (ga = function(e) {
            return w(e) ? e.replace(/[A-Z]/g, function(e) {
                return String.fromCharCode(32 | e.charCodeAt(0))
            }) : e
        }, ha = function(e) {
            return w(e) ? e.replace(/[a-z]/g, function(e) {
                return String.fromCharCode(-33 & e.charCodeAt(0))
            }) : e
        });
        var va, ba, ya, $a, wa = [].slice,
            xa = [].splice,
            ka = [].push,
            Sa = Object.prototype.toString,
            Ia = Object.getPrototypeOf,
            Ca = t("ng"),
            _a = e.angular || (e.angular = {}),
            Ma = 0;
        va = e.document.documentMode, m.$inject = [], f.$inject = [];
        var Aa = Array.isArray,
            Da = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,
            Ta = function(e) {
                return w(e) ? e.trim() : e
            },
            Ea = function(e) {
                return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
            },
            Pa = function() {
                if (!b(Pa.rules)) {
                    var t = e.document.querySelector("[ng-csp]") || e.document.querySelector("[data-ng-csp]");
                    if (t) {
                        var n = t.getAttribute("ng-csp") || t.getAttribute("data-ng-csp");
                        Pa.rules = {
                            noUnsafeEval: !n || -1 !== n.indexOf("no-unsafe-eval"),
                            noInlineStyle: !n || -1 !== n.indexOf("no-inline-style")
                        }
                    } else Pa.rules = {
                        noUnsafeEval: function() {
                            try {
                                return new Function(""), !1
                            } catch (e) {
                                return !0
                            }
                        }(),
                        noInlineStyle: !1
                    }
                }
                return Pa.rules
            },
            Oa = function() {
                if (b(Oa.name_)) return Oa.name_;
                var t, n, a, i, s = Na.length;
                for (n = 0; n < s; ++n)
                    if (a = Na[n], t = e.document.querySelector("[" + a.replace(":", "\\:") + "jq]")) {
                        i = t.getAttribute(a + "jq");
                        break
                    }
                return Oa.name_ = i
            },
            ja = /:/g,
            Na = ["ng-", "data-ng-", "ng:", "x-ng-"],
            La = /[A-Z]/g,
            Ua = !1,
            Ba = 1,
            Ha = 3,
            Ra = 8,
            Va = 9,
            Fa = 11,
            qa = {
                full: "1.5.6",
                major: 1,
                minor: 5,
                dot: 6,
                codeName: "arrow-stringification"
            };
        Ie.expando = "ng339";
        var za = Ie.cache = {},
            Wa = 1,
            Ga = function(e, t, n) {
                e.addEventListener(t, n, !1)
            },
            Ya = function(e, t, n) {
                e.removeEventListener(t, n, !1)
            };
        Ie._data = function(e) {
            return this.cache[e[this.expando]] || {}
        };
        var Ka = /([\:\-\_]+(.))/g,
            Za = /^moz([A-Z])/,
            Qa = {
                mouseleave: "mouseout",
                mouseenter: "mouseover"
            },
            Ja = t("jqLite"),
            Xa = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
            ei = /<|&#?\w+;/,
            ti = /<([\w:-]+)/,
            ni = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
            ai = {
                option: [1, '<select multiple="multiple">', "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };
        ai.optgroup = ai.option, ai.tbody = ai.tfoot = ai.colgroup = ai.caption = ai.thead, ai.th = ai.td;
        var ii = e.Node.prototype.contains || function(e) {
                return !!(16 & this.compareDocumentPosition(e))
            },
            si = Ie.prototype = {
                ready: function(t) {
                    function n() {
                        a || (a = !0, t())
                    }
                    var a = !1;
                    "complete" === e.document.readyState ? e.setTimeout(n) : (this.on("DOMContentLoaded", n), Ie(e).on("load", n))
                },
                toString: function() {
                    var e = [];
                    return a(this, function(t) {
                        e.push("" + t)
                    }), "[" + e.join(", ") + "]"
                },
                eq: function(e) {
                    return ba(e >= 0 ? this[e] : this[this.length + e])
                },
                length: 0,
                push: ka,
                sort: [].sort,
                splice: [].splice
            },
            oi = {};
        a("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(e) {
            oi[ga(e)] = e
        });
        var ri = {};
        a("input,select,option,textarea,button,form,details".split(","), function(e) {
            ri[e] = !0
        });
        var li = {
            ngMinlength: "minlength",
            ngMaxlength: "maxlength",
            ngMin: "min",
            ngMax: "max",
            ngPattern: "pattern"
        };
        a({
            data: Te,
            removeData: Ae,
            hasData: function(e) {
                for (var t in za[e.ng339]) return !0;
                return !1
            },
            cleanData: function(e) {
                for (var t = 0, n = e.length; t < n; t++) Ae(e[t])
            }
        }, function(e, t) {
            Ie[t] = e
        }), a({
            data: Te,
            inheritedData: Le,
            scope: function(e) {
                return ba.data(e, "$scope") || Le(e.parentNode || e, ["$isolateScope", "$scope"])
            },
            isolateScope: function(e) {
                return ba.data(e, "$isolateScope") || ba.data(e, "$isolateScopeNoTemplate")
            },
            controller: Ne,
            injector: function(e) {
                return Le(e, "$injector")
            },
            removeAttr: function(e, t) {
                e.removeAttribute(t)
            },
            hasClass: Ee,
            css: function(e, t, n) {
                if (t = ye(t), !b(n)) return e.style[t];
                e.style[t] = n
            },
            attr: function(e, t, n) {
                var a = e.nodeType;
                if (a !== Ha && 2 !== a && a !== Ra) {
                    var i = ga(t);
                    if (oi[i]) {
                        if (!b(n)) return e[t] || (e.attributes.getNamedItem(t) || m).specified ? i : void 0;
                        n ? (e[t] = !0, e.setAttribute(t, i)) : (e[t] = !1, e.removeAttribute(i))
                    } else if (b(n)) e.setAttribute(t, n);
                    else if (e.getAttribute) {
                        var s = e.getAttribute(t, 2);
                        return null === s ? void 0 : s
                    }
                }
            },
            prop: function(e, t, n) {
                if (!b(n)) return e[t];
                e[t] = n
            },
            text: function() {
                function e(e, t) {
                    if (v(t)) {
                        var n = e.nodeType;
                        return n === Ba || n === Ha ? e.textContent : ""
                    }
                    e.textContent = t
                }
                return e.$dv = "", e
            }(),
            val: function(e, t) {
                if (v(t)) {
                    if (e.multiple && "select" === L(e)) {
                        var n = [];
                        return a(e.options, function(e) {
                            e.selected && n.push(e.value || e.text)
                        }), 0 === n.length ? null : n
                    }
                    return e.value
                }
                e.value = t
            },
            html: function(e, t) {
                if (v(t)) return e.innerHTML;
                _e(e, !0), e.innerHTML = t
            },
            empty: Ue
        }, function(e, t) {
            Ie.prototype[t] = function(t, n) {
                var a, i, s = this.length;
                if (e !== Ue && v(2 == e.length && e !== Ee && e !== Ne ? t : n)) {
                    if (y(t)) {
                        for (a = 0; a < s; a++)
                            if (e === Te) e(this[a], t);
                            else
                                for (i in t) e(this[a], i, t[i]);
                        return this
                    }
                    for (var o = e.$dv, r = v(o) ? Math.min(s, 1) : s, l = 0; l < r; l++) {
                        var c = e(this[l], t, n);
                        o = o ? o + c : c
                    }
                    return o
                }
                for (a = 0; a < s; a++) e(this[a], t, n);
                return this
            }
        }), a({
            removeData: Ae,
            on: function(e, t, n, a) {
                if (b(a)) throw Ja("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
                if (we(e)) {
                    var i = De(e, !0),
                        s = i.events,
                        o = i.handle;
                    o || (o = i.handle = Fe(e, s));
                    for (var r = t.indexOf(" ") >= 0 ? t.split(" ") : [t], l = r.length, c = function(t, a, i) {
                        var r = s[t];
                        r || ((r = s[t] = []).specialHandlerWrapper = a, "$destroy" === t || i || Ga(e, t, o)), r.push(n)
                    }; l--;) t = r[l], Qa[t] ? (c(Qa[t], ze), c(t, void 0, !0)) : c(t)
                }
            },
            off: Me,
            one: function(e, t, n) {
                (e = ba(e)).on(t, function a() {
                    e.off(t, n), e.off(t, a)
                }), e.on(t, n)
            },
            replaceWith: function(e, t) {
                var n, i = e.parentNode;
                _e(e), a(new Ie(t), function(t) {
                    n ? i.insertBefore(t, n.nextSibling) : i.replaceChild(t, e), n = t
                })
            },
            children: function(e) {
                var t = [];
                return a(e.childNodes, function(e) {
                    e.nodeType === Ba && t.push(e)
                }), t
            },
            contents: function(e) {
                return e.contentDocument || e.childNodes || []
            },
            append: function(e, t) {
                var n = e.nodeType;
                if (n === Ba || n === Fa)
                    for (var a = 0, i = (t = new Ie(t)).length; a < i; a++) {
                        var s = t[a];
                        e.appendChild(s)
                    }
            },
            prepend: function(e, t) {
                if (e.nodeType === Ba) {
                    var n = e.firstChild;
                    a(new Ie(t), function(t) {
                        e.insertBefore(t, n)
                    })
                }
            },
            wrap: function(e, t) {
                Se(e, ba(t).eq(0).clone()[0])
            },
            remove: Be,
            detach: function(e) {
                Be(e, !0)
            },
            after: function(e, t) {
                for (var n = e, a = e.parentNode, i = 0, s = (t = new Ie(t)).length; i < s; i++) {
                    var o = t[i];
                    a.insertBefore(o, n.nextSibling), n = o
                }
            },
            addClass: Oe,
            removeClass: Pe,
            toggleClass: function(e, t, n) {
                t && a(t.split(" "), function(t) {
                    var a = n;
                    v(a) && (a = !Ee(e, t)), (a ? Oe : Pe)(e, t)
                })
            },
            parent: function(e) {
                var t = e.parentNode;
                return t && t.nodeType !== Fa ? t : null
            },
            next: function(e) {
                return e.nextElementSibling
            },
            find: function(e, t) {
                return e.getElementsByTagName ? e.getElementsByTagName(t) : []
            },
            clone: Ce,
            triggerHandler: function(e, t, n) {
                var i, s, o, r = t.type || t,
                    l = De(e),
                    u = l && l.events,
                    d = u && u[r];
                d && (i = {
                    preventDefault: function() {
                        this.defaultPrevented = !0
                    },
                    isDefaultPrevented: function() {
                        return !0 === this.defaultPrevented
                    },
                    stopImmediatePropagation: function() {
                        this.immediatePropagationStopped = !0
                    },
                    isImmediatePropagationStopped: function() {
                        return !0 === this.immediatePropagationStopped
                    },
                    stopPropagation: m,
                    type: r,
                    target: e
                }, t.type && (i = c(i, t)), s = H(d), o = n ? [i].concat(n) : [i], a(s, function(t) {
                    i.isImmediatePropagationStopped() || t.apply(e, o)
                }))
            }
        }, function(e, t) {
            Ie.prototype[t] = function(t, n, a) {
                for (var i, s = 0, o = this.length; s < o; s++) v(i) ? b(i = e(this[s], t, n, a)) && (i = ba(i)) : je(i, e(this[s], t, n, a));
                return b(i) ? i : this
            }, Ie.prototype.bind = Ie.prototype.on, Ie.prototype.unbind = Ie.prototype.off
        }), Ye.prototype = {
            put: function(e, t) {
                this[Ge(e, this.nextUid)] = t
            },
            get: function(e) {
                return this[Ge(e, this.nextUid)]
            },
            remove: function(e) {
                var t = this[e = Ge(e, this.nextUid)];
                return delete this[e], t
            }
        };
        var ci = [
                function() {
                    this.$get = [
                        function() {
                            return Ye
                        }
                    ]
                }
            ],
            ui = /^([^\(]+?)=>/,
            di = /^[^\(]*\(\s*([^\)]*)\)/m,
            pi = /,/,
            mi = /^\s*(_?)(\S+?)\1\s*$/,
            fi = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,
            gi = t("$injector");
        Je.$$annotate = function(e, t, n) {
            var i, s;
            if ("function" == typeof e) {
                if (!(i = e.$inject)) {
                    if (i = [], e.length) {
                        if (t) throw w(n) && n || (n = e.name || Qe(e)), gi("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", n);
                        a(Ze(e)[1].split(pi), function(e) {
                            e.replace(mi, function(e, t, n) {
                                i.push(n)
                            })
                        })
                    }
                    e.$inject = i
                }
            } else Aa(e) ? (ue(e[s = e.length - 1], "fn"), i = e.slice(0, s)) : ue(e, "fn", !0);
            return i
        };
        var hi = t("$animate"),
            vi = 1,
            bi = function() {
                this.$get = m
            },
            yi = function() {
                var e = new Ye,
                    t = [];
                this.$get = ["$$AnimateRunner", "$rootScope",
                    function(n, i) {
                        function s(e, t, n) {
                            var i = !1;
                            return t && a(t = w(t) ? t.split(" ") : Aa(t) ? t : [], function(t) {
                                t && (i = !0, e[t] = n)
                            }), i
                        }

                        function o() {
                            a(t, function(t) {
                                var n = e.get(t);
                                if (n) {
                                    var i = nt(t.attr("class")),
                                        s = "",
                                        o = "";
                                    a(n, function(e, t) {
                                        e !== !!i[t] && (e ? s += (s.length ? " " : "") + t : o += (o.length ? " " : "") + t)
                                    }), a(t, function(e) {
                                        s && Oe(e, s), o && Pe(e, o)
                                    }), e.remove(t)
                                }
                            }), t.length = 0
                        }

                        function r(n, a, r) {
                            var l = e.get(n) || {},
                                c = s(l, a, !0),
                                u = s(l, r, !1);
                            (c || u) && (e.put(n, l), t.push(n), 1 === t.length && i.$$postDigest(o))
                        }
                        return {
                            enabled: m,
                            on: m,
                            off: m,
                            pin: m,
                            push: function(e, t, a, i) {
                                i && i(), (a = a || {}).from && e.css(a.from), a.to && e.css(a.to), (a.addClass || a.removeClass) && r(e, a.addClass, a.removeClass);
                                var s = new n;
                                return s.complete(), s
                            }
                        }
                    }
                ]
            },
            $i = ["$provide",
                function(e) {
                    var t = this;
                    this.$$registeredAnimations = Object.create(null), this.register = function(n, a) {
                        if (n && "." !== n.charAt(0)) throw hi("notcsel", "Expecting class selector starting with '.' got '{0}'.", n);
                        var i = n + "-animation";
                        t.$$registeredAnimations[n.substr(1)] = i, e.factory(i, a)
                    }, this.classNameFilter = function(e) {
                        if (1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null, this.$$classNameFilter && new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))) throw hi("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', "ng-animate");
                        return this.$$classNameFilter
                    }, this.$get = ["$$animateQueue",
                        function(e) {
                            function t(e, t, n) {
                                if (n) {
                                    var a = tt(n);
                                    !a || a.parentNode || a.previousElementSibling || (n = null)
                                }
                                n ? n.after(e) : t.prepend(e)
                            }
                            return {
                                on: e.on,
                                off: e.off,
                                pin: e.pin,
                                enabled: e.enabled,
                                cancel: function(e) {
                                    e.end && e.end()
                                },
                                enter: function(n, a, i, s) {
                                    return a = a && ba(a), i = i && ba(i), a = a || i.parent(), t(n, a, i), e.push(n, "enter", at(s))
                                },
                                move: function(n, a, i, s) {
                                    return a = a && ba(a), i = i && ba(i), a = a || i.parent(), t(n, a, i), e.push(n, "move", at(s))
                                },
                                leave: function(t, n) {
                                    return e.push(t, "leave", at(n), function() {
                                        t.remove()
                                    })
                                },
                                addClass: function(t, n, a) {
                                    return a = at(a), a.addClass = et(a.addclass, n), e.push(t, "addClass", a)
                                },
                                removeClass: function(t, n, a) {
                                    return a = at(a), a.removeClass = et(a.removeClass, n), e.push(t, "removeClass", a)
                                },
                                setClass: function(t, n, a, i) {
                                    return i = at(i), i.addClass = et(i.addClass, n), i.removeClass = et(i.removeClass, a), e.push(t, "setClass", i)
                                },
                                animate: function(t, n, a, i, s) {
                                    return s = at(s), s.from = s.from ? c(s.from, n) : n, s.to = s.to ? c(s.to, a) : a, i = i || "ng-inline-animate", s.tempClasses = et(s.tempClasses, i), e.push(t, "animate", s)
                                }
                            }
                        }
                    ]
                }
            ],
            wi = function() {
                this.$get = ["$$rAF",
                    function(e) {
                        function t(t) {
                            n.push(t), n.length > 1 || e(function() {
                                for (var e = 0; e < n.length; e++) n[e]();
                                n = []
                            })
                        }
                        var n = [];
                        return function() {
                            var e = !1;
                            return t(function() {
                                    e = !0
                                }),
                                function(n) {
                                    e ? n() : t(n)
                                }
                        }
                    }
                ]
            },
            xi = function() {
                this.$get = ["$q", "$sniffer", "$$animateAsyncRun", "$document", "$timeout",
                    function(e, t, n, i, s) {
                        function o(e) {
                            this.setHost(e);
                            var t = n(),
                                a = function(e) {
                                    s(e, 0, !1)
                                };
                            this._doneCallbacks = [], this._tick = function(e) {
                                var n = i[0];
                                n && n.hidden ? a(e) : t(e)
                            }, this._state = 0
                        }
                        return o.chain = function(e, t) {
                            function n() {
                                a !== e.length ? e[a](function(e) {
                                    !1 !== e ? (a++, n()) : t(!1)
                                }) : t(!0)
                            }
                            var a = 0;
                            n()
                        }, o.all = function(e, t) {
                            function n(n) {
                                s = s && n, ++i === e.length && t(s)
                            }
                            var i = 0,
                                s = !0;
                            a(e, function(e) {
                                e.done(n)
                            })
                        }, o.prototype = {
                            setHost: function(e) {
                                this.host = e || {}
                            },
                            done: function(e) {
                                2 === this._state ? e() : this._doneCallbacks.push(e)
                            },
                            progress: m,
                            getPromise: function() {
                                if (!this.promise) {
                                    var t = this;
                                    this.promise = e(function(e, n) {
                                        t.done(function(t) {
                                            !1 === t ? n() : e()
                                        })
                                    })
                                }
                                return this.promise
                            },
                            then: function(e, t) {
                                return this.getPromise().then(e, t)
                            },
                            catch: function(e) {
                                return this.getPromise().catch(e)
                            },
                            finally: function(e) {
                                return this.getPromise().finally(e)
                            },
                            pause: function() {
                                this.host.pause && this.host.pause()
                            },
                            resume: function() {
                                this.host.resume && this.host.resume()
                            },
                            end: function() {
                                this.host.end && this.host.end(), this._resolve(!0)
                            },
                            cancel: function() {
                                this.host.cancel && this.host.cancel(), this._resolve(!1)
                            },
                            complete: function(e) {
                                var t = this;
                                0 === t._state && (t._state = 1, t._tick(function() {
                                    t._resolve(e)
                                }))
                            },
                            _resolve: function(e) {
                                2 !== this._state && (a(this._doneCallbacks, function(t) {
                                    t(e)
                                }), this._doneCallbacks.length = 0, this._state = 2)
                            }
                        }, o
                    }
                ]
            },
            ki = function() {
                this.$get = ["$$rAF", "$q", "$$AnimateRunner",
                    function(e, t, n) {
                        return function(t, a) {
                            function i() {
                                return e(function() {
                                    s(), r || l.complete(), r = !0
                                }), l
                            }

                            function s() {
                                o.addClass && (t.addClass(o.addClass), o.addClass = null), o.removeClass && (t.removeClass(o.removeClass), o.removeClass = null), o.to && (t.css(o.to), o.to = null)
                            }
                            var o = a || {};
                            o.$$prepared || (o = B(o)), o.cleanupStyles && (o.from = o.to = null), o.from && (t.css(o.from), o.from = null);
                            var r, l = new n;
                            return {
                                start: i,
                                end: i
                            }
                        }
                    }
                ]
            },
            Si = t("$compile"),
            Ii = new function() {};
        lt.$inject = ["$provide", "$$sanitizeUriProvider"], ct.prototype.isFirstChange = function() {
            return this.previousValue === Ii
        };
        var Ci = /^((?:x|data)[\:\-_])/i,
            _i = t("$controller"),
            Mi = /^(\S+)(\s+as\s+([\w$]+))?$/,
            Ai = function() {
                this.$get = ["$document",
                    function(e) {
                        return function(t) {
                            return t ? !t.nodeType && t instanceof ba && (t = t[0]) : t = e[0].body, t.offsetWidth + 1
                        }
                    }
                ]
            },
            Di = "application/json",
            Ti = {
                "Content-Type": Di + ";charset=utf-8"
            },
            Ei = /^\[|^\{(?!\{)/,
            Pi = {
                "[": /]$/,
                "{": /}$/
            },
            Oi = /^\)\]\}',?\n/,
            ji = t("$http"),
            Ni = function(e) {
                return function() {
                    throw ji("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", e)
                }
            },
            Li = _a.$interpolateMinErr = t("$interpolate");
        Li.throwNoconcat = function(e) {
            throw Li("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", e)
        }, Li.interr = function(e, t) {
            return Li("interr", "Can't interpolate: {0}\n{1}", e, t.toString())
        };
        var Ui = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/,
            Bi = {
                http: 80,
                https: 443,
                ftp: 21
            },
            Hi = t("$location"),
            Ri = {
                $$html5: !1,
                $$replace: !1,
                absUrl: qt("$$absUrl"),
                url: function(e) {
                    if (v(e)) return this.$$url;
                    var t = Ui.exec(e);
                    return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === e) && this.search(t[3] || ""), this.hash(t[5] || ""), this
                },
                protocol: qt("$$protocol"),
                host: qt("$$host"),
                port: qt("$$port"),
                path: zt("$$path", function(e) {
                    return "/" == (e = null !== e ? e.toString() : "").charAt(0) ? e : "/" + e
                }),
                search: function(e, t) {
                    switch (arguments.length) {
                        case 0:
                            return this.$$search;
                        case 1:
                            if (w(e) || x(e)) e = e.toString(), this.$$search = X(e);
                            else {
                                if (!y(e)) throw Hi("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                                a(e = B(e, {}), function(t, n) {
                                    null == t && delete e[n]
                                }), this.$$search = e
                            }
                            break;
                        default:
                            v(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t
                    }
                    return this.$$compose(), this
                },
                hash: zt("$$hash", function(e) {
                    return null !== e ? e.toString() : ""
                }),
                replace: function() {
                    return this.$$replace = !0, this
                }
            };
        a([Ft, Vt, Rt], function(e) {
            e.prototype = Object.create(Ri), e.prototype.state = function(t) {
                if (!arguments.length) return this.$$state;
                if (e !== Rt || !this.$$html5) throw Hi("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
                return this.$$state = v(t) ? null : t, this
            }
        });
        var Vi = t("$parse"),
            Fi = Function.prototype.call,
            qi = Function.prototype.apply,
            zi = Function.prototype.bind,
            Wi = fe();
        a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(e) {
            Wi[e] = !0
        });
        var Gi = {
                n: "\n",
                f: "\f",
                r: "\r",
                t: "\t",
                v: "\v",
                "'": "'",
                '"': '"'
            },
            Yi = function(e) {
                this.options = e
            };
        Yi.prototype = {
            constructor: Yi,
            lex: function(e) {
                for (this.text = e, this.index = 0, this.tokens = []; this.index < this.text.length;) {
                    var t = this.text.charAt(this.index);
                    if ('"' === t || "'" === t) this.readString(t);
                    else if (this.isNumber(t) || "." === t && this.isNumber(this.peek())) this.readNumber();
                    else if (this.isIdentifierStart(this.peekMultichar())) this.readIdent();
                    else if (this.is(t, "(){}[].,;:?")) this.tokens.push({
                        index: this.index,
                        text: t
                    }), this.index++;
                    else if (this.isWhitespace(t)) this.index++;
                    else {
                        var n = t + this.peek(),
                            a = n + this.peek(2),
                            i = Wi[t],
                            s = Wi[n],
                            o = Wi[a];
                        if (i || s || o) {
                            var r = o ? a : s ? n : t;
                            this.tokens.push({
                                index: this.index,
                                text: r,
                                operator: !0
                            }), this.index += r.length
                        } else this.throwError("Unexpected next character ", this.index, this.index + 1)
                    }
                }
                return this.tokens
            },
            is: function(e, t) {
                return -1 !== t.indexOf(e)
            },
            peek: function(e) {
                var t = e || 1;
                return this.index + t < this.text.length && this.text.charAt(this.index + t)
            },
            isNumber: function(e) {
                return "0" <= e && e <= "9" && "string" == typeof e
            },
            isWhitespace: function(e) {
                return " " === e || "\r" === e || "\t" === e || "\n" === e || "\v" === e || " " === e
            },
            isIdentifierStart: function(e) {
                return this.options.isIdentifierStart ? this.options.isIdentifierStart(e, this.codePointAt(e)) : this.isValidIdentifierStart(e)
            },
            isValidIdentifierStart: function(e) {
                return "a" <= e && e <= "z" || "A" <= e && e <= "Z" || "_" === e || "$" === e
            },
            isIdentifierContinue: function(e) {
                return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(e, this.codePointAt(e)) : this.isValidIdentifierContinue(e)
            },
            isValidIdentifierContinue: function(e, t) {
                return this.isValidIdentifierStart(e, t) || this.isNumber(e)
            },
            codePointAt: function(e) {
                return 1 === e.length ? e.charCodeAt(0) : (e.charCodeAt(0) << 10) + e.charCodeAt(1) - 56613888
            },
            peekMultichar: function() {
                var e = this.text.charAt(this.index),
                    t = this.peek();
                if (!t) return e;
                var n = e.charCodeAt(0),
                    a = t.charCodeAt(0);
                return n >= 55296 && n <= 56319 && a >= 56320 && a <= 57343 ? e + t : e
            },
            isExpOperator: function(e) {
                return "-" === e || "+" === e || this.isNumber(e)
            },
            throwError: function(e, t, n) {
                n = n || this.index;
                var a = b(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n;
                throw Vi("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", e, a, this.text)
            },
            readNumber: function() {
                for (var e = "", t = this.index; this.index < this.text.length;) {
                    var n = ga(this.text.charAt(this.index));
                    if ("." == n || this.isNumber(n)) e += n;
                    else {
                        var a = this.peek();
                        if ("e" == n && this.isExpOperator(a)) e += n;
                        else if (this.isExpOperator(n) && a && this.isNumber(a) && "e" == e.charAt(e.length - 1)) e += n;
                        else {
                            if (!this.isExpOperator(n) || a && this.isNumber(a) || "e" != e.charAt(e.length - 1)) break;
                            this.throwError("Invalid exponent")
                        }
                    }
                    this.index++
                }
                this.tokens.push({
                    index: t,
                    text: e,
                    constant: !0,
                    value: Number(e)
                })
            },
            readIdent: function() {
                var e = this.index;
                for (this.index += this.peekMultichar().length; this.index < this.text.length;) {
                    var t = this.peekMultichar();
                    if (!this.isIdentifierContinue(t)) break;
                    this.index += t.length
                }
                this.tokens.push({
                    index: e,
                    text: this.text.slice(e, this.index),
                    identifier: !0
                })
            },
            readString: function(e) {
                var t = this.index;
                this.index++;
                for (var n = "", a = e, i = !1; this.index < this.text.length;) {
                    var s = this.text.charAt(this.index);
                    if (a += s, i) {
                        if ("u" === s) {
                            var o = this.text.substring(this.index + 1, this.index + 5);
                            o.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + o + "]"), this.index += 4, n += String.fromCharCode(parseInt(o, 16))
                        } else n += Gi[s] || s;
                        i = !1
                    } else if ("\\" === s) i = !0;
                    else {
                        if (s === e) return this.index++, void this.tokens.push({
                            index: t,
                            text: a,
                            constant: !0,
                            value: n
                        });
                        n += s
                    }
                    this.index++
                }
                this.throwError("Unterminated quote", t)
            }
        };
        var Ki = function(e, t) {
            this.lexer = e, this.options = t
        };
        Ki.Program = "Program", Ki.ExpressionStatement = "ExpressionStatement", Ki.AssignmentExpression = "AssignmentExpression", Ki.ConditionalExpression = "ConditionalExpression", Ki.LogicalExpression = "LogicalExpression", Ki.BinaryExpression = "BinaryExpression", Ki.UnaryExpression = "UnaryExpression", Ki.CallExpression = "CallExpression", Ki.MemberExpression = "MemberExpression", Ki.Identifier = "Identifier", Ki.Literal = "Literal", Ki.ArrayExpression = "ArrayExpression", Ki.Property = "Property", Ki.ObjectExpression = "ObjectExpression", Ki.ThisExpression = "ThisExpression", Ki.LocalsExpression = "LocalsExpression", Ki.NGValueParameter = "NGValueParameter", Ki.prototype = {
            ast: function(e) {
                this.text = e, this.tokens = this.lexer.lex(e);
                var t = this.program();
                return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), t
            },
            program: function() {
                for (var e = [];;)
                    if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && e.push(this.expressionStatement()), !this.expect(";")) return {
                        type: Ki.Program,
                        body: e
                    }
            },
            expressionStatement: function() {
                return {
                    type: Ki.ExpressionStatement,
                    expression: this.filterChain()
                }
            },
            filterChain: function() {
                for (var e = this.expression(); this.expect("|");) e = this.filter(e);
                return e
            },
            expression: function() {
                return this.assignment()
            },
            assignment: function() {
                var e = this.ternary();
                return this.expect("=") && (e = {
                    type: Ki.AssignmentExpression,
                    left: e,
                    right: this.assignment(),
                    operator: "="
                }), e
            },
            ternary: function() {
                var e, t, n = this.logicalOR();
                return this.expect("?") && (e = this.expression(), this.consume(":")) ? (t = this.expression(), {
                    type: Ki.ConditionalExpression,
                    test: n,
                    alternate: e,
                    consequent: t
                }) : n
            },
            logicalOR: function() {
                for (var e = this.logicalAND(); this.expect("||");) e = {
                    type: Ki.LogicalExpression,
                    operator: "||",
                    left: e,
                    right: this.logicalAND()
                };
                return e
            },
            logicalAND: function() {
                for (var e = this.equality(); this.expect("&&");) e = {
                    type: Ki.LogicalExpression,
                    operator: "&&",
                    left: e,
                    right: this.equality()
                };
                return e
            },
            equality: function() {
                for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!==");) t = {
                    type: Ki.BinaryExpression,
                    operator: e.text,
                    left: t,
                    right: this.relational()
                };
                return t
            },
            relational: function() {
                for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">=");) t = {
                    type: Ki.BinaryExpression,
                    operator: e.text,
                    left: t,
                    right: this.additive()
                };
                return t
            },
            additive: function() {
                for (var e, t = this.multiplicative(); e = this.expect("+", "-");) t = {
                    type: Ki.BinaryExpression,
                    operator: e.text,
                    left: t,
                    right: this.multiplicative()
                };
                return t
            },
            multiplicative: function() {
                for (var e, t = this.unary(); e = this.expect("*", "/", "%");) t = {
                    type: Ki.BinaryExpression,
                    operator: e.text,
                    left: t,
                    right: this.unary()
                };
                return t
            },
            unary: function() {
                var e;
                return (e = this.expect("+", "-", "!")) ? {
                    type: Ki.UnaryExpression,
                    operator: e.text,
                    prefix: !0,
                    argument: this.unary()
                } : this.primary()
            },
            primary: function() {
                var e;
                this.expect("(") ? (e = this.filterChain(), this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? e = B(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? e = {
                    type: Ki.Literal,
                    value: this.options.literals[this.consume().text]
                } : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek());
                for (var t; t = this.expect("(", "[", ".");) "(" === t.text ? (e = {
                    type: Ki.CallExpression,
                    callee: e,
                    arguments: this.parseArguments()
                }, this.consume(")")) : "[" === t.text ? (e = {
                    type: Ki.MemberExpression,
                    object: e,
                    property: this.expression(),
                    computed: !0
                }, this.consume("]")) : "." === t.text ? e = {
                    type: Ki.MemberExpression,
                    object: e,
                    property: this.identifier(),
                    computed: !1
                } : this.throwError("IMPOSSIBLE");
                return e
            },
            filter: function(e) {
                for (var t = [e], n = {
                    type: Ki.CallExpression,
                    callee: this.identifier(),
                    arguments: t,
                    filter: !0
                }; this.expect(":");) t.push(this.expression());
                return n
            },
            parseArguments: function() {
                var e = [];
                if (")" !== this.peekToken().text)
                    do {
                        e.push(this.expression())
                    } while (this.expect(","));
                return e
            },
            identifier: function() {
                var e = this.consume();
                return e.identifier || this.throwError("is not a valid identifier", e), {
                    type: Ki.Identifier,
                    name: e.text
                }
            },
            constant: function() {
                return {
                    type: Ki.Literal,
                    value: this.consume().value
                }
            },
            arrayDeclaration: function() {
                var e = [];
                if ("]" !== this.peekToken().text)
                    do {
                        if (this.peek("]")) break;
                        e.push(this.expression())
                    } while (this.expect(","));
                return this.consume("]"), {
                    type: Ki.ArrayExpression,
                    elements: e
                }
            },
            object: function() {
                var e, t = [];
                if ("}" !== this.peekToken().text)
                    do {
                        if (this.peek("}")) break;
                        e = {
                            type: Ki.Property,
                            kind: "init"
                        }, this.peek().constant ? (e.key = this.constant(), e.computed = !1, this.consume(":"), e.value = this.expression()) : this.peek().identifier ? (e.key = this.identifier(), e.computed = !1, this.peek(":") ? (this.consume(":"), e.value = this.expression()) : e.value = e.key) : this.peek("[") ? (this.consume("["), e.key = this.expression(), this.consume("]"), e.computed = !0, this.consume(":"), e.value = this.expression()) : this.throwError("invalid key", this.peek()), t.push(e)
                    } while (this.expect(","));
                return this.consume("}"), {
                    type: Ki.ObjectExpression,
                    properties: t
                }
            },
            throwError: function(e, t) {
                throw Vi("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", t.text, e, t.index + 1, this.text, this.text.substring(t.index))
            },
            consume: function(e) {
                if (0 === this.tokens.length) throw Vi("ueoe", "Unexpected end of expression: {0}", this.text);
                var t = this.expect(e);
                return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()), t
            },
            peekToken: function() {
                if (0 === this.tokens.length) throw Vi("ueoe", "Unexpected end of expression: {0}", this.text);
                return this.tokens[0]
            },
            peek: function(e, t, n, a) {
                return this.peekAhead(0, e, t, n, a)
            },
            peekAhead: function(e, t, n, a, i) {
                if (this.tokens.length > e) {
                    var s = this.tokens[e],
                        o = s.text;
                    if (o === t || o === n || o === a || o === i || !t && !n && !a && !i) return s
                }
                return !1
            },
            expect: function(e, t, n, a) {
                var i = this.peek(e, t, n, a);
                return !!i && (this.tokens.shift(), i)
            },
            selfReferential: {
                this: {
                    type: Ki.ThisExpression
                },
                $locals: {
                    type: Ki.LocalsExpression
                }
            }
        }, cn.prototype = {
            compile: function(e, t) {
                var n = this,
                    i = this.astBuilder.ast(e);
                this.state = {
                    nextId: 0,
                    filters: {},
                    expensiveChecks: t,
                    fn: {
                        vars: [],
                        body: [],
                        own: {}
                    },
                    assign: {
                        vars: [],
                        body: [],
                        own: {}
                    },
                    inputs: []
                }, nn(i, n.$filter);
                var s, o = "";
                if (this.stage = "assign", s = on(i)) {
                    this.state.computing = "assign";
                    var r = this.nextId();
                    this.recurse(s, r), this.return_(r), o = "fn.assign=" + this.generateFunction("assign", "s,v,l")
                }
                var l = an(i.body);
                n.stage = "inputs", a(l, function(e, t) {
                    var a = "fn" + t;
                    n.state[a] = {
                        vars: [],
                        body: [],
                        own: {}
                    }, n.state.computing = a;
                    var i = n.nextId();
                    n.recurse(e, i), n.return_(i), n.state.inputs.push(a), e.watchId = t
                }), this.state.computing = "fn", this.stage = "main", this.recurse(i);
                var c = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + o + this.watchFns() + "return fn;",
                    u = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "getStringValue", "ensureSafeAssignContext", "ifDefined", "plus", "text", c)(this.$filter, Yt, Zt, Qt, Kt, Jt, Xt, en, e);
                return this.state = this.stage = void 0, u.literal = rn(i), u.constant = ln(i), u
            },
            USE: "use",
            STRICT: "strict",
            watchFns: function() {
                var e = [],
                    t = this.state.inputs,
                    n = this;
                return a(t, function(t) {
                    e.push("var " + t + "=" + n.generateFunction(t, "s"))
                }), t.length && e.push("fn.inputs=[" + t.join(",") + "];"), e.join("")
            },
            generateFunction: function(e, t) {
                return "function(" + t + "){" + this.varsPrefix(e) + this.body(e) + "};"
            },
            filterPrefix: function() {
                var e = [],
                    t = this;
                return a(this.state.filters, function(n, a) {
                    e.push(n + "=$filter(" + t.escape(a) + ")")
                }), e.length ? "var " + e.join(",") + ";" : ""
            },
            varsPrefix: function(e) {
                return this.state[e].vars.length ? "var " + this.state[e].vars.join(",") + ";" : ""
            },
            body: function(e) {
                return this.state[e].body.join("")
            },
            recurse: function(e, t, n, i, s, o) {
                var r, l, c, u, d, p = this;
                if (i = i || m, !o && b(e.watchId)) return t = t || this.nextId(), void this.if_("i", this.lazyAssign(t, this.computedMember("i", e.watchId)), this.lazyRecurse(e, t, n, i, s, !0));
                switch (e.type) {
                    case Ki.Program:
                        a(e.body, function(t, n) {
                            p.recurse(t.expression, void 0, void 0, function(e) {
                                l = e
                            }), n !== e.body.length - 1 ? p.current().body.push(l, ";") : p.return_(l)
                        });
                        break;
                    case Ki.Literal:
                        u = this.escape(e.value), this.assign(t, u), i(u);
                        break;
                    case Ki.UnaryExpression:
                        this.recurse(e.argument, void 0, void 0, function(e) {
                            l = e
                        }), u = e.operator + "(" + this.ifDefined(l, 0) + ")", this.assign(t, u), i(u);
                        break;
                    case Ki.BinaryExpression:
                        this.recurse(e.left, void 0, void 0, function(e) {
                            r = e
                        }), this.recurse(e.right, void 0, void 0, function(e) {
                            l = e
                        }), u = "+" === e.operator ? this.plus(r, l) : "-" === e.operator ? this.ifDefined(r, 0) + e.operator + this.ifDefined(l, 0) : "(" + r + ")" + e.operator + "(" + l + ")", this.assign(t, u), i(u);
                        break;
                    case Ki.LogicalExpression:
                        t = t || this.nextId(), p.recurse(e.left, t), p.if_("&&" === e.operator ? t : p.not(t), p.lazyRecurse(e.right, t)), i(t);
                        break;
                    case Ki.ConditionalExpression:
                        t = t || this.nextId(), p.recurse(e.test, t), p.if_(t, p.lazyRecurse(e.alternate, t), p.lazyRecurse(e.consequent, t)), i(t);
                        break;
                    case Ki.Identifier:
                        t = t || this.nextId(), n && (n.context = "inputs" === p.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", e.name) + "?l:s"), n.computed = !1, n.name = e.name), Yt(e.name), p.if_("inputs" === p.stage || p.not(p.getHasOwnProperty("l", e.name)), function() {
                            p.if_("inputs" === p.stage || "s", function() {
                                s && 1 !== s && p.if_(p.not(p.nonComputedMember("s", e.name)), p.lazyAssign(p.nonComputedMember("s", e.name), "{}")), p.assign(t, p.nonComputedMember("s", e.name))
                            })
                        }, t && p.lazyAssign(t, p.nonComputedMember("l", e.name))), (p.state.expensiveChecks || dn(e.name)) && p.addEnsureSafeObject(t), i(t);
                        break;
                    case Ki.MemberExpression:
                        r = n && (n.context = this.nextId()) || this.nextId(), t = t || this.nextId(), p.recurse(e.object, r, void 0, function() {
                            p.if_(p.notNull(r), function() {
                                s && 1 !== s && p.addEnsureSafeAssignContext(r), e.computed ? (l = p.nextId(), p.recurse(e.property, l), p.getStringValue(l), p.addEnsureSafeMemberName(l), s && 1 !== s && p.if_(p.not(p.computedMember(r, l)), p.lazyAssign(p.computedMember(r, l), "{}")), u = p.ensureSafeObject(p.computedMember(r, l)), p.assign(t, u), n && (n.computed = !0, n.name = l)) : (Yt(e.property.name), s && 1 !== s && p.if_(p.not(p.nonComputedMember(r, e.property.name)), p.lazyAssign(p.nonComputedMember(r, e.property.name), "{}")), u = p.nonComputedMember(r, e.property.name), (p.state.expensiveChecks || dn(e.property.name)) && (u = p.ensureSafeObject(u)), p.assign(t, u), n && (n.computed = !1, n.name = e.property.name))
                            }, function() {
                                p.assign(t, "undefined")
                            }), i(t)
                        }, !!s);
                        break;
                    case Ki.CallExpression:
                        t = t || this.nextId(), e.filter ? (l = p.filter(e.callee.name), c = [], a(e.arguments, function(e) {
                            var t = p.nextId();
                            p.recurse(e, t), c.push(t)
                        }), u = l + "(" + c.join(",") + ")", p.assign(t, u), i(t)) : (l = p.nextId(), r = {}, c = [], p.recurse(e.callee, l, r, function() {
                            p.if_(p.notNull(l), function() {
                                p.addEnsureSafeFunction(l), a(e.arguments, function(e) {
                                    p.recurse(e, p.nextId(), void 0, function(e) {
                                        c.push(p.ensureSafeObject(e))
                                    })
                                }), r.name ? (p.state.expensiveChecks || p.addEnsureSafeObject(r.context), u = p.member(r.context, r.name, r.computed) + "(" + c.join(",") + ")") : u = l + "(" + c.join(",") + ")", u = p.ensureSafeObject(u), p.assign(t, u)
                            }, function() {
                                p.assign(t, "undefined")
                            }), i(t)
                        }));
                        break;
                    case Ki.AssignmentExpression:
                        if (l = this.nextId(), r = {}, !sn(e.left)) throw Vi("lval", "Trying to assign a value to a non l-value");
                        this.recurse(e.left, void 0, r, function() {
                            p.if_(p.notNull(r.context), function() {
                                p.recurse(e.right, l), p.addEnsureSafeObject(p.member(r.context, r.name, r.computed)), p.addEnsureSafeAssignContext(r.context), u = p.member(r.context, r.name, r.computed) + e.operator + l, p.assign(t, u), i(t || u)
                            })
                        }, 1);
                        break;
                    case Ki.ArrayExpression:
                        c = [], a(e.elements, function(e) {
                            p.recurse(e, p.nextId(), void 0, function(e) {
                                c.push(e)
                            })
                        }), u = "[" + c.join(",") + "]", this.assign(t, u), i(u);
                        break;
                    case Ki.ObjectExpression:
                        c = [], d = !1, a(e.properties, function(e) {
                            e.computed && (d = !0)
                        }), d ? (t = t || this.nextId(), this.assign(t, "{}"), a(e.properties, function(e) {
                            e.computed ? (r = p.nextId(), p.recurse(e.key, r)) : r = e.key.type === Ki.Identifier ? e.key.name : "" + e.key.value, l = p.nextId(), p.recurse(e.value, l), p.assign(p.member(t, r, e.computed), l)
                        })) : (a(e.properties, function(t) {
                            p.recurse(t.value, e.constant ? void 0 : p.nextId(), void 0, function(e) {
                                c.push(p.escape(t.key.type === Ki.Identifier ? t.key.name : "" + t.key.value) + ":" + e)
                            })
                        }), u = "{" + c.join(",") + "}", this.assign(t, u)), i(t || u);
                        break;
                    case Ki.ThisExpression:
                        this.assign(t, "s"), i("s");
                        break;
                    case Ki.LocalsExpression:
                        this.assign(t, "l"), i("l");
                        break;
                    case Ki.NGValueParameter:
                        this.assign(t, "v"), i("v")
                }
            },
            getHasOwnProperty: function(e, t) {
                var n = e + "." + t,
                    a = this.current().own;
                return a.hasOwnProperty(n) || (a[n] = this.nextId(!1, e + "&&(" + this.escape(t) + " in " + e + ")")), a[n]
            },
            assign: function(e, t) {
                if (e) return this.current().body.push(e, "=", t, ";"), e
            },
            filter: function(e) {
                return this.state.filters.hasOwnProperty(e) || (this.state.filters[e] = this.nextId(!0)), this.state.filters[e]
            },
            ifDefined: function(e, t) {
                return "ifDefined(" + e + "," + this.escape(t) + ")"
            },
            plus: function(e, t) {
                return "plus(" + e + "," + t + ")"
            },
            return_: function(e) {
                this.current().body.push("return ", e, ";")
            },
            if_: function(e, t, n) {
                if (!0 === e) t();
                else {
                    var a = this.current().body;
                    a.push("if(", e, "){"), t(), a.push("}"), n && (a.push("else{"), n(), a.push("}"))
                }
            },
            not: function(e) {
                return "!(" + e + ")"
            },
            notNull: function(e) {
                return e + "!=null"
            },
            nonComputedMember: function(e, t) {
                var n = /[^$_a-zA-Z0-9]/g;
                return /[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t) ? e + "." + t : e + '["' + t.replace(n, this.stringEscapeFn) + '"]'
            },
            computedMember: function(e, t) {
                return e + "[" + t + "]"
            },
            member: function(e, t, n) {
                return n ? this.computedMember(e, t) : this.nonComputedMember(e, t)
            },
            addEnsureSafeObject: function(e) {
                this.current().body.push(this.ensureSafeObject(e), ";")
            },
            addEnsureSafeMemberName: function(e) {
                this.current().body.push(this.ensureSafeMemberName(e), ";")
            },
            addEnsureSafeFunction: function(e) {
                this.current().body.push(this.ensureSafeFunction(e), ";")
            },
            addEnsureSafeAssignContext: function(e) {
                this.current().body.push(this.ensureSafeAssignContext(e), ";")
            },
            ensureSafeObject: function(e) {
                return "ensureSafeObject(" + e + ",text)"
            },
            ensureSafeMemberName: function(e) {
                return "ensureSafeMemberName(" + e + ",text)"
            },
            ensureSafeFunction: function(e) {
                return "ensureSafeFunction(" + e + ",text)"
            },
            getStringValue: function(e) {
                this.assign(e, "getStringValue(" + e + ")")
            },
            ensureSafeAssignContext: function(e) {
                return "ensureSafeAssignContext(" + e + ",text)"
            },
            lazyRecurse: function(e, t, n, a, i, s) {
                var o = this;
                return function() {
                    o.recurse(e, t, n, a, i, s)
                }
            },
            lazyAssign: function(e, t) {
                var n = this;
                return function() {
                    n.assign(e, t)
                }
            },
            stringEscapeRegex: /[^ a-zA-Z0-9]/g,
            stringEscapeFn: function(e) {
                return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            },
            escape: function(e) {
                if (w(e)) return "'" + e.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
                if (x(e)) return e.toString();
                if (!0 === e) return "true";
                if (!1 === e) return "false";
                if (null === e) return "null";
                if (void 0 === e) return "undefined";
                throw Vi("esc", "IMPOSSIBLE")
            },
            nextId: function(e, t) {
                var n = "v" + this.state.nextId++;
                return e || this.current().vars.push(n + (t ? "=" + t : "")), n
            },
            current: function() {
                return this.state[this.state.computing]
            }
        }, un.prototype = {
            compile: function(e, t) {
                var n = this,
                    i = this.astBuilder.ast(e);
                this.expression = e, this.expensiveChecks = t, nn(i, n.$filter);
                var s, o;
                (s = on(i)) && (o = this.recurse(s));
                var r, l = an(i.body);
                l && (r = [], a(l, function(e, t) {
                    var a = n.recurse(e);
                    e.input = a, r.push(a), e.watchId = t
                }));
                var c = [];
                a(i.body, function(e) {
                    c.push(n.recurse(e.expression))
                });
                var u = 0 === i.body.length ? m : 1 === i.body.length ? c[0] : function(e, t) {
                    var n;
                    return a(c, function(a) {
                        n = a(e, t)
                    }), n
                };
                return o && (u.assign = function(e, t, n) {
                    return o(e, n, t)
                }), r && (u.inputs = r), u.literal = rn(i), u.constant = ln(i), u
            },
            recurse: function(e, t, n) {
                var i, s, o, r = this;
                if (e.input) return this.inputs(e.input, e.watchId);
                switch (e.type) {
                    case Ki.Literal:
                        return this.value(e.value, t);
                    case Ki.UnaryExpression:
                        return s = this.recurse(e.argument), this["unary" + e.operator](s, t);
                    case Ki.BinaryExpression:
                    case Ki.LogicalExpression:
                        return i = this.recurse(e.left), s = this.recurse(e.right), this["binary" + e.operator](i, s, t);
                    case Ki.ConditionalExpression:
                        return this["ternary?:"](this.recurse(e.test), this.recurse(e.alternate), this.recurse(e.consequent), t);
                    case Ki.Identifier:
                        return Yt(e.name, r.expression), r.identifier(e.name, r.expensiveChecks || dn(e.name), t, n, r.expression);
                    case Ki.MemberExpression:
                        return i = this.recurse(e.object, !1, !!n), e.computed || (Yt(e.property.name, r.expression), s = e.property.name), e.computed && (s = this.recurse(e.property)), e.computed ? this.computedMember(i, s, t, n, r.expression) : this.nonComputedMember(i, s, r.expensiveChecks, t, n, r.expression);
                    case Ki.CallExpression:
                        return o = [], a(e.arguments, function(e) {
                            o.push(r.recurse(e))
                        }), e.filter && (s = this.$filter(e.callee.name)), e.filter || (s = this.recurse(e.callee, !0)), e.filter ? function(e, n, a, i) {
                            for (var r = [], l = 0; l < o.length; ++l) r.push(o[l](e, n, a, i));
                            var c = s.apply(void 0, r, i);
                            return t ? {
                                context: void 0,
                                name: void 0,
                                value: c
                            } : c
                        } : function(e, n, a, i) {
                            var l, c = s(e, n, a, i);
                            if (null != c.value) {
                                Zt(c.context, r.expression), Qt(c.value, r.expression);
                                for (var u = [], d = 0; d < o.length; ++d) u.push(Zt(o[d](e, n, a, i), r.expression));
                                l = Zt(c.value.apply(c.context, u), r.expression)
                            }
                            return t ? {
                                value: l
                            } : l
                        };
                    case Ki.AssignmentExpression:
                        return i = this.recurse(e.left, !0, 1), s = this.recurse(e.right),
                            function(e, n, a, o) {
                                var l = i(e, n, a, o),
                                    c = s(e, n, a, o);
                                return Zt(l.value, r.expression), Jt(l.context), l.context[l.name] = c, t ? {
                                    value: c
                                } : c
                            };
                    case Ki.ArrayExpression:
                        return o = [], a(e.elements, function(e) {
                                o.push(r.recurse(e))
                            }),
                            function(e, n, a, i) {
                                for (var s = [], r = 0; r < o.length; ++r) s.push(o[r](e, n, a, i));
                                return t ? {
                                    value: s
                                } : s
                            };
                    case Ki.ObjectExpression:
                        return o = [], a(e.properties, function(e) {
                                e.computed ? o.push({
                                    key: r.recurse(e.key),
                                    computed: !0,
                                    value: r.recurse(e.value)
                                }) : o.push({
                                    key: e.key.type === Ki.Identifier ? e.key.name : "" + e.key.value,
                                    computed: !1,
                                    value: r.recurse(e.value)
                                })
                            }),
                            function(e, n, a, i) {
                                for (var s = {}, r = 0; r < o.length; ++r) o[r].computed ? s[o[r].key(e, n, a, i)] = o[r].value(e, n, a, i) : s[o[r].key] = o[r].value(e, n, a, i);
                                return t ? {
                                    value: s
                                } : s
                            };
                    case Ki.ThisExpression:
                        return function(e) {
                            return t ? {
                                value: e
                            } : e
                        };
                    case Ki.LocalsExpression:
                        return function(e, n) {
                            return t ? {
                                value: n
                            } : n
                        };
                    case Ki.NGValueParameter:
                        return function(e, n, a) {
                            return t ? {
                                value: a
                            } : a
                        }
                }
            },
            "unary+": function(e, t) {
                return function(n, a, i, s) {
                    var o = e(n, a, i, s);
                    return o = b(o) ? +o : 0, t ? {
                        value: o
                    } : o
                }
            },
            "unary-": function(e, t) {
                return function(n, a, i, s) {
                    var o = e(n, a, i, s);
                    return o = b(o) ? -o : 0, t ? {
                        value: o
                    } : o
                }
            },
            "unary!": function(e, t) {
                return function(n, a, i, s) {
                    var o = !e(n, a, i, s);
                    return t ? {
                        value: o
                    } : o
                }
            },
            "binary+": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = en(e(a, i, s, o), t(a, i, s, o));
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary-": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o),
                        l = t(a, i, s, o),
                        c = (b(r) ? r : 0) - (b(l) ? l : 0);
                    return n ? {
                        value: c
                    } : c
                }
            },
            "binary*": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) * t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary/": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) / t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary%": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) % t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary===": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) === t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary!==": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) !== t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary==": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) == t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary!=": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) != t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary<": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) < t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary>": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) > t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary<=": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) <= t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary>=": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) >= t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary&&": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) && t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "binary||": function(e, t, n) {
                return function(a, i, s, o) {
                    var r = e(a, i, s, o) || t(a, i, s, o);
                    return n ? {
                        value: r
                    } : r
                }
            },
            "ternary?:": function(e, t, n, a) {
                return function(i, s, o, r) {
                    var l = e(i, s, o, r) ? t(i, s, o, r) : n(i, s, o, r);
                    return a ? {
                        value: l
                    } : l
                }
            },
            value: function(e, t) {
                return function() {
                    return t ? {
                        context: void 0,
                        name: void 0,
                        value: e
                    } : e
                }
            },
            identifier: function(e, t, n, a, i) {
                return function(s, o, r, l) {
                    var c = o && e in o ? o : s;
                    a && 1 !== a && c && !c[e] && (c[e] = {});
                    var u = c ? c[e] : void 0;
                    return t && Zt(u, i), n ? {
                        context: c,
                        name: e,
                        value: u
                    } : u
                }
            },
            computedMember: function(e, t, n, a, i) {
                return function(s, o, r, l) {
                    var c, u, d = e(s, o, r, l);
                    return null != d && (Yt(c = Kt(c = t(s, o, r, l)), i), a && 1 !== a && (Jt(d), d && !d[c] && (d[c] = {})), Zt(u = d[c], i)), n ? {
                        context: d,
                        name: c,
                        value: u
                    } : u
                }
            },
            nonComputedMember: function(e, t, n, a, i, s) {
                return function(o, r, l, c) {
                    var u = e(o, r, l, c);
                    i && 1 !== i && (Jt(u), u && !u[t] && (u[t] = {}));
                    var d = null != u ? u[t] : void 0;
                    return (n || dn(t)) && Zt(d, s), a ? {
                        context: u,
                        name: t,
                        value: d
                    } : d
                }
            },
            inputs: function(e, t) {
                return function(n, a, i, s) {
                    return s ? s[t] : e(n, a, i)
                }
            }
        };
        var Zi = function(e, t, n) {
            this.lexer = e, this.$filter = t, this.options = n, this.ast = new Ki(e, n), this.astCompiler = n.csp ? new un(this.ast, t) : new cn(this.ast, t)
        };
        Zi.prototype = {
            constructor: Zi,
            parse: function(e) {
                return this.astCompiler.compile(e, this.options.expensiveChecks)
            }
        };
        var Qi = Object.prototype.valueOf,
            Ji = t("$sce"),
            Xi = {
                HTML: "html",
                CSS: "css",
                URL: "url",
                RESOURCE_URL: "resourceUrl",
                JS: "js"
            },
            es = t("$compile"),
            ts = e.document.createElement("a"),
            ns = Mn(e.location.href);
        Tn.$inject = ["$document"], Pn.$inject = ["$provide"];
        var as = 22,
            is = ".",
            ss = "0";
        Un.$inject = ["$locale"], Bn.$inject = ["$locale"];
        var os = {
                yyyy: qn("FullYear", 4, 0, !1, !0),
                yy: qn("FullYear", 2, 0, !0, !0),
                y: qn("FullYear", 1, 0, !1, !0),
                MMMM: zn("Month"),
                MMM: zn("Month", !0),
                MM: qn("Month", 2, 1),
                M: qn("Month", 1, 1),
                LLLL: zn("Month", !1, !0),
                dd: qn("Date", 2),
                d: qn("Date", 1),
                HH: qn("Hours", 2),
                H: qn("Hours", 1),
                hh: qn("Hours", 2, -12),
                h: qn("Hours", 1, -12),
                mm: qn("Minutes", 2),
                m: qn("Minutes", 1),
                ss: qn("Seconds", 2),
                s: qn("Seconds", 1),
                sss: qn("Milliseconds", 3),
                EEEE: zn("Day"),
                EEE: zn("Day", !0),
                a: function(e, t) {
                    return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1]
                },
                Z: function(e, t, n) {
                    var a = -1 * n,
                        i = a >= 0 ? "+" : "";
                    return i += Fn(Math[a > 0 ? "floor" : "ceil"](a / 60), 2) + Fn(Math.abs(a % 60), 2)
                },
                ww: Yn(2),
                w: Yn(1),
                G: Kn,
                GG: Kn,
                GGG: Kn,
                GGGG: function(e, t) {
                    return e.getFullYear() <= 0 ? t.ERANAMES[0] : t.ERANAMES[1]
                }
            },
            rs = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
            ls = /^\-?\d+$/;
        Zn.$inject = ["$locale"];
        var cs = g(ga),
            us = g(ha);
        Xn.$inject = ["$parse"];
        var ds = g({
                restrict: "E",
                compile: function(e, t) {
                    if (!t.href && !t.xlinkHref) return function(e, t) {
                        if ("a" === t[0].nodeName.toLowerCase()) {
                            var n = "[object SVGAnimatedString]" === Sa.call(t.prop("href")) ? "xlink:href" : "href";
                            t.on("click", function(e) {
                                t.attr(n) || e.preventDefault()
                            })
                        }
                    }
                }
            }),
            ps = {};
        a(oi, function(e, t) {
            function n(e, n, i) {
                e.$watch(i[a], function(e) {
                    i.$set(t, !!e)
                })
            }
            if ("multiple" != e) {
                var a = ut("ng-" + t),
                    i = n;
                "checked" === e && (i = function(e, t, i) {
                    i.ngModel !== i[a] && n(e, 0, i)
                }), ps[a] = function() {
                    return {
                        restrict: "A",
                        priority: 100,
                        link: i
                    }
                }
            }
        }), a(li, function(e, t) {
            ps[t] = function() {
                return {
                    priority: 100,
                    link: function(e, n, a) {
                        if ("ngPattern" === t && "/" == a.ngPattern.charAt(0)) {
                            var i = a.ngPattern.match(pa);
                            if (i) return void a.$set("ngPattern", new RegExp(i[1], i[2]))
                        }
                        e.$watch(a[t], function(e) {
                            a.$set(t, e)
                        })
                    }
                }
            }
        }), a(["src", "srcset", "href"], function(e) {
            var t = ut("ng-" + e);
            ps[t] = function() {
                return {
                    priority: 99,
                    link: function(n, a, i) {
                        var s = e,
                            o = e;
                        "href" === e && "[object SVGAnimatedString]" === Sa.call(a.prop("href")) && (o = "xlinkHref", i.$attr[o] = "xlink:href", s = null), i.$observe(t, function(t) {
                            t ? (i.$set(o, t), va && s && a.prop(s, i[o])) : "href" === e && i.$set(o, null)
                        })
                    }
                }
            }
        });
        var ms = {
                $addControl: m,
                $$renameControl: function(e, t) {
                    e.$name = t
                },
                $removeControl: m,
                $setValidity: m,
                $setDirty: m,
                $setPristine: m,
                $setSubmitted: m
            },
            fs = "ng-submitted";
        ta.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];
        var gs = function(e) {
                return ["$timeout", "$parse",
                    function(t, n) {
                        function a(e) {
                            return "" === e ? n('this[""]').assign : n(e).assign || m
                        }
                        return {
                            name: "form",
                            restrict: e ? "EAC" : "E",
                            require: ["form", "^^?form"],
                            controller: ta,
                            compile: function(n, i) {
                                n.addClass(Qs).addClass(Ks);
                                var s = i.name ? "name" : !(!e || !i.ngForm) && "ngForm";
                                return {
                                    pre: function(e, n, i, o) {
                                        var r = o[0];
                                        if (!("action" in i)) {
                                            var l = function(t) {
                                                e.$apply(function() {
                                                    r.$commitViewValue(), r.$setSubmitted()
                                                }), t.preventDefault()
                                            };
                                            Ga(n[0], "submit", l), n.on("$destroy", function() {
                                                t(function() {
                                                    Ya(n[0], "submit", l)
                                                }, 0, !1)
                                            })
                                        }(o[1] || r.$$parentForm).$addControl(r);
                                        var u = s ? a(r.$name) : m;
                                        s && (u(e, r), i.$observe(s, function(t) {
                                            r.$name !== t && (u(e, void 0), r.$$parentForm.$$renameControl(r, t), (u = a(r.$name))(e, r))
                                        })), n.on("$destroy", function() {
                                            r.$$parentForm.$removeControl(r), u(e, void 0), c(r, ms)
                                        })
                                    }
                                }
                            }
                        }
                    }
                ]
            },
            hs = gs(),
            vs = gs(!0),
            bs = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,
            ys = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,
            $s = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
            ws = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,
            xs = /^(\d{4,})-(\d{2})-(\d{2})$/,
            ks = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
            Ss = /^(\d{4,})-W(\d\d)$/,
            Is = /^(\d{4,})-(\d\d)$/,
            Cs = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
            _s = "keydown wheel mousedown",
            Ms = fe();
        a("date,datetime-local,month,time,week".split(","), function(e) {
            Ms[e] = !0
        });
        var As = {
                text: function(e, t, n, a, i, s) {
                    aa(e, t, n, a, i, s), na(a)
                },
                date: sa("date", xs, ia(xs, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
                "datetime-local": sa("datetimelocal", ks, ia(ks, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]), "yyyy-MM-ddTHH:mm:ss.sss"),
                time: sa("time", Cs, ia(Cs, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
                week: sa("week", Ss, function(e, t) {
                    if (k(e)) return e;
                    if (w(e)) {
                        Ss.lastIndex = 0;
                        var n = Ss.exec(e);
                        if (n) {
                            var a = +n[1],
                                i = +n[2],
                                s = 0,
                                o = 0,
                                r = 0,
                                l = 0,
                                c = Wn(a),
                                u = 7 * (i - 1);
                            return t && (s = t.getHours(), o = t.getMinutes(), r = t.getSeconds(), l = t.getMilliseconds()), new Date(a, 0, c.getDate() + u, s, o, r, l)
                        }
                    }
                    return NaN
                }, "yyyy-Www"),
                month: sa("month", Is, ia(Is, ["yyyy", "MM"]), "yyyy-MM"),
                number: function(e, t, n, a, i, s) {
                    if (oa(e, t, n, a), aa(e, t, n, a, i, s), a.$$parserName = "number", a.$parsers.push(function(e) {
                        return a.$isEmpty(e) ? null : ws.test(e) ? parseFloat(e) : void 0
                    }), a.$formatters.push(function(e) {
                        if (!a.$isEmpty(e)) {
                            if (!x(e)) throw eo("numfmt", "Expected `{0}` to be a number", e);
                            e = e.toString()
                        }
                        return e
                    }), b(n.min) || n.ngMin) {
                        var o;
                        a.$validators.min = function(e) {
                            return a.$isEmpty(e) || v(o) || e >= o
                        }, n.$observe("min", function(e) {
                            b(e) && !x(e) && (e = parseFloat(e, 10)), o = x(e) && !isNaN(e) ? e : void 0, a.$validate()
                        })
                    }
                    if (b(n.max) || n.ngMax) {
                        var r;
                        a.$validators.max = function(e) {
                            return a.$isEmpty(e) || v(r) || e <= r
                        }, n.$observe("max", function(e) {
                            b(e) && !x(e) && (e = parseFloat(e, 10)), r = x(e) && !isNaN(e) ? e : void 0, a.$validate()
                        })
                    }
                },
                url: function(e, t, n, a, i, s) {
                    aa(e, t, n, a, i, s), na(a), a.$$parserName = "url", a.$validators.url = function(e, t) {
                        var n = e || t;
                        return a.$isEmpty(n) || ys.test(n)
                    }
                },
                email: function(e, t, n, a, i, s) {
                    aa(e, t, n, a, i, s), na(a), a.$$parserName = "email", a.$validators.email = function(e, t) {
                        var n = e || t;
                        return a.$isEmpty(n) || $s.test(n)
                    }
                },
                radio: function(e, t, n, a) {
                    v(n.name) && t.attr("name", o());
                    t.on("click", function(e) {
                        t[0].checked && a.$setViewValue(n.value, e && e.type)
                    }), a.$render = function() {
                        var e = n.value;
                        t[0].checked = e == a.$viewValue
                    }, n.$observe("value", a.$render)
                },
                checkbox: function(e, t, n, a, i, s, o, r) {
                    var l = ra(r, e, "ngTrueValue", n.ngTrueValue, !0),
                        c = ra(r, e, "ngFalseValue", n.ngFalseValue, !1);
                    t.on("click", function(e) {
                        a.$setViewValue(t[0].checked, e && e.type)
                    }), a.$render = function() {
                        t[0].checked = a.$viewValue
                    }, a.$isEmpty = function(e) {
                        return !1 === e
                    }, a.$formatters.push(function(e) {
                        return R(e, l)
                    }), a.$parsers.push(function(e) {
                        return e ? l : c
                    })
                },
                hidden: m,
                button: m,
                submit: m,
                reset: m,
                file: m
            },
            Ds = ["$browser", "$sniffer", "$filter", "$parse",
                function(e, t, n, a) {
                    return {
                        restrict: "E",
                        require: ["?ngModel"],
                        link: {
                            pre: function(i, s, o, r) {
                                r[0] && (As[ga(o.type)] || As.text)(i, s, o, r[0], t, e, n, a)
                            }
                        }
                    }
                }
            ],
            Ts = /^(true|false|\d+)$/,
            Es = function() {
                return {
                    restrict: "A",
                    priority: 100,
                    compile: function(e, t) {
                        return Ts.test(t.ngValue) ? function(e, t, n) {
                            n.$set("value", e.$eval(n.ngValue))
                        } : function(e, t, n) {
                            e.$watch(n.ngValue, function(e) {
                                n.$set("value", e)
                            })
                        }
                    }
                }
            },
            Ps = ["$compile",
                function(e) {
                    return {
                        restrict: "AC",
                        compile: function(t) {
                            return e.$$addBindingClass(t),
                                function(t, n, a) {
                                    e.$$addBindingInfo(n, a.ngBind), n = n[0], t.$watch(a.ngBind, function(e) {
                                        n.textContent = v(e) ? "" : e
                                    })
                                }
                        }
                    }
                }
            ],
            Os = ["$interpolate", "$compile",
                function(e, t) {
                    return {
                        compile: function(n) {
                            return t.$$addBindingClass(n),
                                function(n, a, i) {
                                    var s = e(a.attr(i.$attr.ngBindTemplate));
                                    t.$$addBindingInfo(a, s.expressions), a = a[0], i.$observe("ngBindTemplate", function(e) {
                                        a.textContent = v(e) ? "" : e
                                    })
                                }
                        }
                    }
                }
            ],
            js = ["$sce", "$parse", "$compile",
                function(e, t, n) {
                    return {
                        restrict: "A",
                        compile: function(a, i) {
                            var s = t(i.ngBindHtml),
                                o = t(i.ngBindHtml, function(t) {
                                    return e.valueOf(t)
                                });
                            return n.$$addBindingClass(a),
                                function(t, a, i) {
                                    n.$$addBindingInfo(a, i.ngBindHtml), t.$watch(o, function() {
                                        var n = s(t);
                                        a.html(e.getTrustedHtml(n) || "")
                                    })
                                }
                        }
                    }
                }
            ],
            Ns = g({
                restrict: "A",
                require: "ngModel",
                link: function(e, t, n, a) {
                    a.$viewChangeListeners.push(function() {
                        e.$eval(n.ngChange)
                    })
                }
            }),
            Ls = la("", !0),
            Us = la("Odd", 0),
            Bs = la("Even", 1),
            Hs = ea({
                compile: function(e, t) {
                    t.$set("ngCloak", void 0), e.removeClass("ng-cloak")
                }
            }),
            Rs = [
                function() {
                    return {
                        restrict: "A",
                        scope: !0,
                        controller: "@",
                        priority: 500
                    }
                }
            ],
            Vs = {},
            Fs = {
                blur: !0,
                focus: !0
            };
        a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(e) {
            var t = ut("ng-" + e);
            Vs[t] = ["$parse", "$rootScope",
                function(n, a) {
                    return {
                        restrict: "A",
                        compile: function(i, s) {
                            var o = n(s[t], null, !0);
                            return function(t, n) {
                                n.on(e, function(n) {
                                    var i = function() {
                                        o(t, {
                                            $event: n
                                        })
                                    };
                                    Fs[e] && a.$$phase ? t.$evalAsync(i) : t.$apply(i)
                                })
                            }
                        }
                    }
                }
            ]
        });
        var qs = ["$animate", "$compile",
                function(e, t) {
                    return {
                        multiElement: !0,
                        transclude: "element",
                        priority: 600,
                        terminal: !0,
                        restrict: "A",
                        $$tlb: !0,
                        link: function(n, a, i, s, o) {
                            var r, l, c;
                            n.$watch(i.ngIf, function(n) {
                                n ? l || o(function(n, s) {
                                    l = s, n[n.length++] = t.$$createComment("end ngIf", i.ngIf), r = {
                                        clone: n
                                    }, e.enter(n, a.parent(), a)
                                }) : (c && (c.remove(), c = null), l && (l.$destroy(), l = null), r && (c = me(r.clone), e.leave(c).then(function() {
                                    c = null
                                }), r = null))
                            })
                        }
                    }
                }
            ],
            zs = ["$templateRequest", "$anchorScroll", "$animate",
                function(e, t, n) {
                    return {
                        restrict: "ECA",
                        priority: 400,
                        terminal: !0,
                        transclude: "element",
                        controller: _a.noop,
                        compile: function(a, i) {
                            var s = i.ngInclude || i.src,
                                o = i.onload || "",
                                r = i.autoscroll;
                            return function(a, i, l, c, u) {
                                var d, p, m, f = 0,
                                    g = function() {
                                        p && (p.remove(), p = null), d && (d.$destroy(), d = null), m && (n.leave(m).then(function() {
                                            p = null
                                        }), p = m, m = null)
                                    };
                                a.$watch(s, function(s) {
                                    var l = function() {
                                            !b(r) || r && !a.$eval(r) || t()
                                        },
                                        p = ++f;
                                    s ? (e(s, !0).then(function(e) {
                                        if (!a.$$destroyed && p === f) {
                                            var t = a.$new();
                                            c.template = e;
                                            var r = u(t, function(e) {
                                                g(), n.enter(e, null, i).then(l)
                                            });
                                            m = r, (d = t).$emit("$includeContentLoaded", s), a.$eval(o)
                                        }
                                    }, function() {
                                        a.$$destroyed || p === f && (g(), a.$emit("$includeContentError", s))
                                    }), a.$emit("$includeContentRequested", s)) : (g(), c.template = null)
                                })
                            }
                        }
                    }
                }
            ],
            Ws = ["$compile",
                function(t) {
                    return {
                        restrict: "ECA",
                        priority: -400,
                        require: "ngInclude",
                        link: function(n, a, i, s) {
                            if (Sa.call(a[0]).match(/SVG/)) return a.empty(), void t(xe(s.template, e.document).childNodes)(n, function(e) {
                                a.append(e)
                            }, {
                                futureParentElement: a
                            });
                            a.html(s.template), t(a.contents())(n)
                        }
                    }
                }
            ],
            Gs = ea({
                priority: 450,
                compile: function() {
                    return {
                        pre: function(e, t, n) {
                            e.$eval(n.ngInit)
                        }
                    }
                }
            }),
            Ys = function() {
                return {
                    restrict: "A",
                    priority: 100,
                    require: "ngModel",
                    link: function(e, t, n, i) {
                        var s = t.attr(n.$attr.ngList) || ", ",
                            o = "false" !== n.ngTrim,
                            r = o ? Ta(s) : s;
                        i.$parsers.push(function(e) {
                            if (!v(e)) {
                                var t = [];
                                return e && a(e.split(r), function(e) {
                                    e && t.push(o ? Ta(e) : e)
                                }), t
                            }
                        }), i.$formatters.push(function(e) {
                            if (Aa(e)) return e.join(s)
                        }), i.$isEmpty = function(e) {
                            return !e || !e.length
                        }
                    }
                }
            },
            Ks = "ng-valid",
            Zs = "ng-invalid",
            Qs = "ng-pristine",
            Js = "ng-dirty",
            Xs = "ng-pending",
            eo = t("ngModel"),
            to = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate",
                function(e, t, n, i, s, o, r, l, c, u) {
                    this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = void 0, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = void 0, this.$name = u(n.name || "", !1)(e), this.$$parentForm = ms;
                    var d, p = s(n.ngModel),
                        f = p.assign,
                        g = p,
                        h = f,
                        y = null,
                        $ = this;
                    this.$$setOptions = function(e) {
                        if ($.$options = e, e && e.getterSetter) {
                            var t = s(n.ngModel + "()"),
                                a = s(n.ngModel + "($$$p)");
                            g = function(e) {
                                var n = p(e);
                                return S(n) && (n = t(e)), n
                            }, h = function(e, t) {
                                S(p(e)) ? a(e, {
                                    $$$p: t
                                }) : f(e, t)
                            }
                        } else if (!p.assign) throw eo("nonassign", "Expression '{0}' is non-assignable. Element: {1}", n.ngModel, Q(i))
                    }, this.$render = m, this.$isEmpty = function(e) {
                        return v(e) || "" === e || null === e || e !== e
                    }, this.$$updateEmptyClasses = function(e) {
                        $.$isEmpty(e) ? (o.removeClass(i, "ng-not-empty"), o.addClass(i, "ng-empty")) : (o.removeClass(i, "ng-empty"), o.addClass(i, "ng-not-empty"))
                    };
                    var w = 0;
                    ca({
                        ctrl: this,
                        $element: i,
                        set: function(e, t) {
                            e[t] = !0
                        },
                        unset: function(e, t) {
                            delete e[t]
                        },
                        $animate: o
                    }), this.$setPristine = function() {
                        $.$dirty = !1, $.$pristine = !0, o.removeClass(i, Js), o.addClass(i, Qs)
                    }, this.$setDirty = function() {
                        $.$dirty = !0, $.$pristine = !1, o.removeClass(i, Qs), o.addClass(i, Js), $.$$parentForm.$setDirty()
                    }, this.$setUntouched = function() {
                        $.$touched = !1, $.$untouched = !0, o.setClass(i, "ng-untouched", "ng-touched")
                    }, this.$setTouched = function() {
                        $.$touched = !0, $.$untouched = !1, o.setClass(i, "ng-touched", "ng-untouched")
                    }, this.$rollbackViewValue = function() {
                        r.cancel(y), $.$viewValue = $.$$lastCommittedViewValue, $.$render()
                    }, this.$validate = function() {
                        if (!x($.$modelValue) || !isNaN($.$modelValue)) {
                            var e = $.$$lastCommittedViewValue,
                                t = $.$$rawModelValue,
                                n = $.$valid,
                                a = $.$modelValue,
                                i = $.$options && $.$options.allowInvalid;
                            $.$$runValidators(t, e, function(e) {
                                i || n === e || ($.$modelValue = e ? t : void 0, $.$modelValue !== a && $.$$writeModelToScope())
                            })
                        }
                    }, this.$$runValidators = function(e, t, n) {
                        function i(e, t) {
                            o === w && $.$setValidity(e, t)
                        }

                        function s(e) {
                            o === w && n(e)
                        }
                        var o = ++w;
                        ! function() {
                            var e = $.$$parserName || "parse";
                            return v(d) ? (i(e, null), !0) : (d || (a($.$validators, function(e, t) {
                                i(t, null)
                            }), a($.$asyncValidators, function(e, t) {
                                i(t, null)
                            })), i(e, d), d)
                        }() ? s(!1): function() {
                            var n = !0;
                            return a($.$validators, function(a, s) {
                                var o = a(e, t);
                                n = n && o, i(s, o)
                            }), !!n || (a($.$asyncValidators, function(e, t) {
                                i(t, null)
                            }), !1)
                        }() ? function() {
                            var n = [],
                                o = !0;
                            a($.$asyncValidators, function(a, s) {
                                var r = a(e, t);
                                if (!E(r)) throw eo("nopromise", "Expected asynchronous validator to return a promise but got '{0}' instead.", r);
                                i(s, void 0), n.push(r.then(function() {
                                    i(s, !0)
                                }, function() {
                                    o = !1, i(s, !1)
                                }))
                            }), n.length ? c.all(n).then(function() {
                                s(o)
                            }, m) : s(!0)
                        }() : s(!1)
                    }, this.$commitViewValue = function() {
                        var e = $.$viewValue;
                        r.cancel(y), ($.$$lastCommittedViewValue !== e || "" === e && $.$$hasNativeValidators) && ($.$$updateEmptyClasses(e), $.$$lastCommittedViewValue = e, $.$pristine && this.$setDirty(), this.$$parseAndValidate())
                    }, this.$$parseAndValidate = function() {
                        function t() {
                            $.$modelValue !== i && $.$$writeModelToScope()
                        }
                        var n = $.$$lastCommittedViewValue;
                        if (d = !v(n) || void 0)
                            for (var a = 0; a < $.$parsers.length; a++)
                                if (n = $.$parsers[a](n), v(n)) {
                                    d = !1;
                                    break
                                }
                        x($.$modelValue) && isNaN($.$modelValue) && ($.$modelValue = g(e));
                        var i = $.$modelValue,
                            s = $.$options && $.$options.allowInvalid;
                        $.$$rawModelValue = n, s && ($.$modelValue = n, t()), $.$$runValidators(n, $.$$lastCommittedViewValue, function(e) {
                            s || ($.$modelValue = e ? n : void 0, t())
                        })
                    }, this.$$writeModelToScope = function() {
                        h(e, $.$modelValue), a($.$viewChangeListeners, function(e) {
                            try {
                                e()
                            } catch (e) {
                                t(e)
                            }
                        })
                    }, this.$setViewValue = function(e, t) {
                        $.$viewValue = e, $.$options && !$.$options.updateOnDefault || $.$$debounceViewValueCommit(t)
                    }, this.$$debounceViewValueCommit = function(t) {
                        var n, a = 0,
                            i = $.$options;
                        i && b(i.debounce) && (x(n = i.debounce) ? a = n : x(n[t]) ? a = n[t] : x(n.default) && (a = n.default)), r.cancel(y), a ? y = r(function() {
                            $.$commitViewValue()
                        }, a) : l.$$phase ? $.$commitViewValue() : e.$apply(function() {
                            $.$commitViewValue()
                        })
                    }, e.$watch(function() {
                        var t = g(e);
                        if (t !== $.$modelValue && ($.$modelValue === $.$modelValue || t === t)) {
                            $.$modelValue = $.$$rawModelValue = t, d = void 0;
                            for (var n = $.$formatters, a = n.length, i = t; a--;) i = n[a](i);
                            $.$viewValue !== i && ($.$$updateEmptyClasses(i), $.$viewValue = $.$$lastCommittedViewValue = i, $.$render(), $.$$runValidators(t, i, m))
                        }
                        return t
                    })
                }
            ],
            no = ["$rootScope",
                function(e) {
                    return {
                        restrict: "A",
                        require: ["ngModel", "^?form", "^?ngModelOptions"],
                        controller: to,
                        priority: 1,
                        compile: function(t) {
                            return t.addClass(Qs).addClass("ng-untouched").addClass(Ks), {
                                pre: function(e, t, n, a) {
                                    var i = a[0],
                                        s = a[1] || i.$$parentForm;
                                    i.$$setOptions(a[2] && a[2].$options), s.$addControl(i), n.$observe("name", function(e) {
                                        i.$name !== e && i.$$parentForm.$$renameControl(i, e)
                                    }), e.$on("$destroy", function() {
                                        i.$$parentForm.$removeControl(i)
                                    })
                                },
                                post: function(t, n, a, i) {
                                    var s = i[0];
                                    s.$options && s.$options.updateOn && n.on(s.$options.updateOn, function(e) {
                                        s.$$debounceViewValueCommit(e && e.type)
                                    }), n.on("blur", function() {
                                        s.$touched || (e.$$phase ? t.$evalAsync(s.$setTouched) : t.$apply(s.$setTouched))
                                    })
                                }
                            }
                        }
                    }
                }
            ],
            ao = /(\s+|^)default(\s+|$)/,
            io = function() {
                return {
                    restrict: "A",
                    controller: ["$scope", "$attrs",
                        function(e, t) {
                            var n = this;
                            this.$options = B(e.$eval(t.ngModelOptions)), b(this.$options.updateOn) ? (this.$options.updateOnDefault = !1, this.$options.updateOn = Ta(this.$options.updateOn.replace(ao, function() {
                                return n.$options.updateOnDefault = !0, " "
                            }))) : this.$options.updateOnDefault = !0
                        }
                    ]
                }
            },
            so = ea({
                terminal: !0,
                priority: 1e3
            }),
            oo = t("ngOptions"),
            ro = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
            lo = ["$compile", "$document", "$parse",
                function(t, i, s) {
                    function o(e, t, a) {
                        function i(e, t, n, a, i) {
                            this.selectValue = e, this.viewValue = t, this.label = n, this.group = a, this.disabled = i
                        }

                        function o(e) {
                            var t;
                            if (!c && n(e)) t = e;
                            else {
                                t = [];
                                for (var a in e) e.hasOwnProperty(a) && "$" !== a.charAt(0) && t.push(a)
                            }
                            return t
                        }
                        var r = e.match(ro);
                        if (!r) throw oo("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", e, Q(t));
                        var l = r[5] || r[7],
                            c = r[6],
                            u = / as /.test(r[0]) && r[1],
                            d = r[9],
                            p = s(r[2] ? r[1] : l),
                            m = u && s(u) || p,
                            f = d && s(d),
                            g = d ? function(e, t) {
                                return f(a, t)
                            } : function(e) {
                                return Ge(e)
                            },
                            h = function(e, t) {
                                return g(e, x(e, t))
                            },
                            v = s(r[2] || r[1]),
                            b = s(r[3] || ""),
                            y = s(r[4] || ""),
                            $ = s(r[8]),
                            w = {},
                            x = c ? function(e, t) {
                                return w[c] = t, w[l] = e, w
                            } : function(e) {
                                return w[l] = e, w
                            };
                        return {
                            trackBy: d,
                            getTrackByValue: h,
                            getWatchables: s($, function(e) {
                                for (var t = [], n = o(e = e || []), i = n.length, s = 0; s < i; s++) {
                                    var l = e === n ? s : n[s],
                                        c = e[l],
                                        u = x(c, l),
                                        d = g(c, u);
                                    if (t.push(d), r[2] || r[1]) {
                                        var p = v(a, u);
                                        t.push(p)
                                    }
                                    if (r[4]) {
                                        var m = y(a, u);
                                        t.push(m)
                                    }
                                }
                                return t
                            }),
                            getOptions: function() {
                                for (var e = [], t = {}, n = $(a) || [], s = o(n), r = s.length, l = 0; l < r; l++) {
                                    var c = n === s ? l : s[l],
                                        u = x(n[c], c),
                                        p = m(a, u),
                                        f = g(p, u),
                                        w = new i(f, p, v(a, u), b(a, u), y(a, u));
                                    e.push(w), t[f] = w
                                }
                                return {
                                    items: e,
                                    selectValueMap: t,
                                    getOptionFromViewValue: function(e) {
                                        return t[h(e)]
                                    },
                                    getViewValueFromOption: function(e) {
                                        return d ? _a.copy(e.viewValue) : e.viewValue
                                    }
                                }
                            }
                        }
                    }
                    var r = e.document.createElement("option"),
                        l = e.document.createElement("optgroup");
                    return {
                        restrict: "A",
                        terminal: !0,
                        require: ["select", "ngModel"],
                        link: {
                            pre: function(e, t, n, a) {
                                a[0].registerOption = m
                            },
                            post: function(e, n, s, c) {
                                function u(e, t) {
                                    var n = r.cloneNode(!1);
                                    t.appendChild(n), d(e, n)
                                }

                                function d(e, t) {
                                    e.element = t, t.disabled = e.disabled, e.label !== t.label && (t.label = e.label, t.textContent = e.label), e.value !== t.value && (t.value = e.selectValue)
                                }

                                function p() {
                                    var e = k && f.readValue();
                                    if (k)
                                        for (var t = k.items.length - 1; t >= 0; t--) {
                                            var a = k.items[t];
                                            Be(a.group ? a.element.parentNode : a.element)
                                        }
                                    k = S.getOptions();
                                    var i = {};
                                    if (w && n.prepend(m), k.items.forEach(function(e) {
                                        var t;
                                        b(e.group) ? ((t = i[e.group]) || (t = l.cloneNode(!1), I.appendChild(t), t.label = e.group, i[e.group] = t), u(e, t)) : u(e, I)
                                    }), n[0].appendChild(I), g.$render(), !g.$isEmpty(e)) {
                                        var s = f.readValue();
                                        (S.trackBy || h ? R(e, s) : e === s) || (g.$setViewValue(s), g.$render())
                                    }
                                }
                                for (var m, f = c[0], g = c[1], h = s.multiple, v = 0, y = n.children(), $ = y.length; v < $; v++)
                                    if ("" === y[v].value) {
                                        m = y.eq(v);
                                        break
                                    }
                                var w = !!m,
                                    x = ba(r.cloneNode(!1));
                                x.val("?");
                                var k, S = o(s.ngOptions, n, e),
                                    I = i[0].createDocumentFragment(),
                                    C = function() {
                                        w || n.prepend(m), n.val(""), m.prop("selected", !0), m.attr("selected", !0)
                                    },
                                    _ = function() {
                                        w || m.remove()
                                    },
                                    M = function() {
                                        n.prepend(x), n.val("?"), x.prop("selected", !0), x.attr("selected", !0)
                                    },
                                    A = function() {
                                        x.remove()
                                    };
                                h ? (g.$isEmpty = function(e) {
                                    return !e || 0 === e.length
                                }, f.writeValue = function(e) {
                                    k.items.forEach(function(e) {
                                        e.element.selected = !1
                                    }), e && e.forEach(function(e) {
                                        var t = k.getOptionFromViewValue(e);
                                        t && (t.element.selected = !0)
                                    })
                                }, f.readValue = function() {
                                    var e = [];
                                    return a(n.val() || [], function(t) {
                                        var n = k.selectValueMap[t];
                                        n && !n.disabled && e.push(k.getViewValueFromOption(n))
                                    }), e
                                }, S.trackBy && e.$watchCollection(function() {
                                    if (Aa(g.$viewValue)) return g.$viewValue.map(function(e) {
                                        return S.getTrackByValue(e)
                                    })
                                }, function() {
                                    g.$render()
                                })) : (f.writeValue = function(e) {
                                    var t = k.getOptionFromViewValue(e);
                                    t ? (n[0].value !== t.selectValue && (A(), _(), n[0].value = t.selectValue, t.element.selected = !0), t.element.setAttribute("selected", "selected")) : null === e || w ? (A(), C()) : (_(), M())
                                }, f.readValue = function() {
                                    var e = k.selectValueMap[n.val()];
                                    return e && !e.disabled ? (_(), A(), k.getViewValueFromOption(e)) : null
                                }, S.trackBy && e.$watch(function() {
                                    return S.getTrackByValue(g.$viewValue)
                                }, function() {
                                    g.$render()
                                })), w ? (m.remove(), t(m)(e), m.removeClass("ng-scope")) : m = ba(r.cloneNode(!1)), n.empty(), p(), e.$watchCollection(S.getWatchables, p)
                            }
                        }
                    }
                }
            ],
            co = ["$locale", "$interpolate", "$log",
                function(e, t, n) {
                    var i = /{}/g,
                        s = /^when(Minus)?(.+)$/;
                    return {
                        link: function(o, r, l) {
                            function c(e) {
                                r.text(e || "")
                            }
                            var u, d = l.count,
                                p = l.$attr.when && r.attr(l.$attr.when),
                                f = l.offset || 0,
                                g = o.$eval(p) || {},
                                h = {},
                                b = t.startSymbol(),
                                y = t.endSymbol(),
                                $ = b + d + "-" + f + y,
                                w = _a.noop;
                            a(l, function(e, t) {
                                var n = s.exec(t);
                                if (n) {
                                    var a = (n[1] ? "-" : "") + ga(n[2]);
                                    g[a] = r.attr(l.$attr[t])
                                }
                            }), a(g, function(e, n) {
                                h[n] = t(e.replace(i, $))
                            }), o.$watch(d, function(t) {
                                var a = parseFloat(t),
                                    i = isNaN(a);
                                if (i || a in g || (a = e.pluralCat(a - f)), a !== u && !(i && x(u) && isNaN(u))) {
                                    w();
                                    var s = h[a];
                                    v(s) ? (null != t && n.debug("ngPluralize: no rule defined for '" + a + "' in " + p), w = m, c()) : w = o.$watch(s, c), u = a
                                }
                            })
                        }
                    }
                }
            ],
            uo = ["$parse", "$animate", "$compile",
                function(e, i, s) {
                    var o = t("ngRepeat"),
                        r = function(e, t, n, a, i, s, o) {
                            e[n] = a, i && (e[i] = s), e.$index = t, e.$first = 0 === t, e.$last = t === o - 1, e.$middle = !(e.$first || e.$last), e.$odd = !(e.$even = 0 == (1 & t))
                        },
                        l = function(e) {
                            return e.clone[0]
                        },
                        c = function(e) {
                            return e.clone[e.clone.length - 1]
                        };
                    return {
                        restrict: "A",
                        multiElement: !0,
                        transclude: "element",
                        priority: 1e3,
                        terminal: !0,
                        $$tlb: !0,
                        compile: function(t, u) {
                            var d = u.ngRepeat,
                                p = s.$$createComment("end ngRepeat", d),
                                m = d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                            if (!m) throw o("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", d);
                            var f = m[1],
                                g = m[2],
                                h = m[3],
                                v = m[4];
                            if (!(m = f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/))) throw o("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", f);
                            var b = m[3] || m[1],
                                y = m[2];
                            if (h && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(h) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(h))) throw o("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", h);
                            var $, w, x, k, S = {
                                $id: Ge
                            };
                            return v ? $ = e(v) : (x = function(e, t) {
                                    return Ge(t)
                                }, k = function(e) {
                                    return e
                                }),
                                function(e, t, s, u, m) {
                                    $ && (w = function(t, n, a) {
                                        return y && (S[y] = t), S[b] = n, S.$index = a, $(e, S)
                                    });
                                    var f = fe();
                                    e.$watchCollection(g, function(s) {
                                        var u, g, v, $, S, I, C, _, M, A, D, T, E = t[0],
                                            P = fe();
                                        if (h && (e[h] = s), n(s)) M = s, _ = w || x;
                                        else {
                                            _ = w || k, M = [];
                                            for (var O in s) fa.call(s, O) && "$" !== O.charAt(0) && M.push(O)
                                        }
                                        for ($ = M.length, D = new Array($), u = 0; u < $; u++)
                                            if (S = s === M ? u : M[u], I = s[S], C = _(S, I, u), f[C]) A = f[C], delete f[C], P[C] = A, D[u] = A;
                                            else {
                                                if (P[C]) throw a(D, function(e) {
                                                    e && e.scope && (f[e.id] = e)
                                                }), o("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", d, C, I);
                                                D[u] = {
                                                    id: C,
                                                    scope: void 0,
                                                    clone: void 0
                                                }, P[C] = !0
                                            }
                                        for (var j in f) {
                                            if (A = f[j], T = me(A.clone), i.leave(T), T[0].parentNode)
                                                for (u = 0, g = T.length; u < g; u++) T[u].$$NG_REMOVED = !0;
                                            A.scope.$destroy()
                                        }
                                        for (u = 0; u < $; u++)
                                            if (S = s === M ? u : M[u], I = s[S], (A = D[u]).scope) {
                                                v = E;
                                                do {
                                                    v = v.nextSibling
                                                } while (v && v.$$NG_REMOVED);
                                                l(A) != v && i.move(me(A.clone), null, E), E = c(A), r(A.scope, u, b, I, y, S, $)
                                            } else m(function(e, t) {
                                                A.scope = t;
                                                var n = p.cloneNode(!1);
                                                e[e.length++] = n, i.enter(e, null, E), E = n, A.clone = e, P[A.id] = A, r(A.scope, u, b, I, y, S, $)
                                            });
                                        f = P
                                    })
                                }
                        }
                    }
                }
            ],
            po = ["$animate",
                function(e) {
                    return {
                        restrict: "A",
                        multiElement: !0,
                        link: function(t, n, a) {
                            t.$watch(a.ngShow, function(t) {
                                e[t ? "removeClass" : "addClass"](n, "ng-hide", {
                                    tempClasses: "ng-hide-animate"
                                })
                            })
                        }
                    }
                }
            ],
            mo = ["$animate",
                function(e) {
                    return {
                        restrict: "A",
                        multiElement: !0,
                        link: function(t, n, a) {
                            t.$watch(a.ngHide, function(t) {
                                e[t ? "addClass" : "removeClass"](n, "ng-hide", {
                                    tempClasses: "ng-hide-animate"
                                })
                            })
                        }
                    }
                }
            ],
            fo = ea(function(e, t, n) {
                e.$watch(n.ngStyle, function(e, n) {
                    n && e !== n && a(n, function(e, n) {
                        t.css(n, "")
                    }), e && t.css(e)
                }, !0)
            }),
            go = ["$animate", "$compile",
                function(e, t) {
                    return {
                        require: "ngSwitch",
                        controller: ["$scope",
                            function() {
                                this.cases = {}
                            }
                        ],
                        link: function(n, i, s, o) {
                            var r = s.ngSwitch || s.on,
                                l = [],
                                c = [],
                                u = [],
                                d = [],
                                p = function(e, t) {
                                    return function() {
                                        e.splice(t, 1)
                                    }
                                };
                            n.$watch(r, function(n) {
                                var i, s;
                                for (i = 0, s = u.length; i < s; ++i) e.cancel(u[i]);
                                for (u.length = 0, i = 0, s = d.length; i < s; ++i) {
                                    var r = me(c[i].clone);
                                    d[i].$destroy(), (u[i] = e.leave(r)).then(p(u, i))
                                }
                                c.length = 0, d.length = 0, (l = o.cases["!" + n] || o.cases["?"]) && a(l, function(n) {
                                    n.transclude(function(a, i) {
                                        d.push(i);
                                        var s = n.element;
                                        a[a.length++] = t.$$createComment("end ngSwitchWhen");
                                        var o = {
                                            clone: a
                                        };
                                        c.push(o), e.enter(a, s.parent(), s)
                                    })
                                })
                            })
                        }
                    }
                }
            ],
            ho = ea({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(e, t, n, a, i) {
                    a.cases["!" + n.ngSwitchWhen] = a.cases["!" + n.ngSwitchWhen] || [], a.cases["!" + n.ngSwitchWhen].push({
                        transclude: i,
                        element: t
                    })
                }
            }),
            vo = ea({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(e, t, n, a, i) {
                    a.cases["?"] = a.cases["?"] || [], a.cases["?"].push({
                        transclude: i,
                        element: t
                    })
                }
            }),
            bo = t("ngTransclude"),
            yo = ea({
                restrict: "EAC",
                link: function(e, t, n, a, i) {
                    if (n.ngTransclude === n.$attr.ngTransclude && (n.ngTransclude = ""), !i) throw bo("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", Q(t));
                    i(function(e) {
                        e.length && (t.empty(), t.append(e))
                    }, null, n.ngTransclude || n.ngTranscludeSlot)
                }
            }),
            $o = ["$templateCache",
                function(e) {
                    return {
                        restrict: "E",
                        terminal: !0,
                        compile: function(t, n) {
                            if ("text/ng-template" == n.type) {
                                var a = n.id,
                                    i = t[0].text;
                                e.put(a, i)
                            }
                        }
                    }
                }
            ],
            wo = {
                $setViewValue: m,
                $render: m
            },
            xo = ["$element", "$scope",
                function(t, n) {
                    var a = this,
                        i = new Ye;
                    a.ngModelCtrl = wo, a.unknownOption = ba(e.document.createElement("option")), a.renderUnknownOption = function(e) {
                        var n = "? " + Ge(e) + " ?";
                        a.unknownOption.val(n), t.prepend(a.unknownOption), t.val(n)
                    }, n.$on("$destroy", function() {
                        a.renderUnknownOption = m
                    }), a.removeUnknownOption = function() {
                        a.unknownOption.parent() && a.unknownOption.remove()
                    }, a.readValue = function() {
                        return a.removeUnknownOption(), t.val()
                    }, a.writeValue = function(e) {
                        a.hasOption(e) ? (a.removeUnknownOption(), t.val(e), "" === e && a.emptyOption.prop("selected", !0)) : null == e && a.emptyOption ? (a.removeUnknownOption(), t.val("")) : a.renderUnknownOption(e)
                    }, a.addOption = function(e, t) {
                        if (t[0].nodeType !== Ra) {
                            de(e, '"option value"'), "" === e && (a.emptyOption = t);
                            var n = i.get(e) || 0;
                            i.put(e, n + 1), a.ngModelCtrl.$render(), da(t)
                        }
                    }, a.removeOption = function(e) {
                        var t = i.get(e);
                        t && (1 === t ? (i.remove(e), "" === e && (a.emptyOption = void 0)) : i.put(e, t - 1))
                    }, a.hasOption = function(e) {
                        return !!i.get(e)
                    }, a.registerOption = function(e, t, n, i, s) {
                        if (i) {
                            var o;
                            n.$observe("value", function(e) {
                                b(o) && a.removeOption(o), o = e, a.addOption(e, t)
                            })
                        } else s ? e.$watch(s, function(e, i) {
                            n.$set("value", e), i !== e && a.removeOption(i), a.addOption(e, t)
                        }) : a.addOption(n.value, t);
                        t.on("$destroy", function() {
                            a.removeOption(n.value), a.ngModelCtrl.$render()
                        })
                    }
                }
            ],
            ko = function() {
                return {
                    restrict: "E",
                    require: ["select", "?ngModel"],
                    controller: xo,
                    priority: 1,
                    link: {
                        pre: function(e, t, n, i) {
                            var s = i[1];
                            if (s) {
                                var o = i[0];
                                if (o.ngModelCtrl = s, t.on("change", function() {
                                    e.$apply(function() {
                                        s.$setViewValue(o.readValue())
                                    })
                                }), n.multiple) {
                                    o.readValue = function() {
                                        var e = [];
                                        return a(t.find("option"), function(t) {
                                            t.selected && e.push(t.value)
                                        }), e
                                    }, o.writeValue = function(e) {
                                        var n = new Ye(e);
                                        a(t.find("option"), function(e) {
                                            e.selected = b(n.get(e.value))
                                        })
                                    };
                                    var r, l = NaN;
                                    e.$watch(function() {
                                        l !== s.$viewValue || R(r, s.$viewValue) || (r = H(s.$viewValue), s.$render()), l = s.$viewValue
                                    }), s.$isEmpty = function(e) {
                                        return !e || 0 === e.length
                                    }
                                }
                            }
                        },
                        post: function(e, t, n, a) {
                            var i = a[1];
                            if (i) {
                                var s = a[0];
                                i.$render = function() {
                                    s.writeValue(i.$viewValue)
                                }
                            }
                        }
                    }
                }
            },
            So = ["$interpolate",
                function(e) {
                    return {
                        restrict: "E",
                        priority: 100,
                        compile: function(t, n) {
                            if (b(n.value)) var a = e(n.value, !0);
                            else {
                                var i = e(t.text(), !0);
                                i || n.$set("value", t.text())
                            }
                            return function(e, t, n) {
                                var s = t.parent(),
                                    o = s.data("$selectController") || s.parent().data("$selectController");
                                o && o.registerOption(e, t, n, a, i)
                            }
                        }
                    }
                }
            ],
            Io = g({
                restrict: "E",
                terminal: !1
            }),
            Co = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, a) {
                        a && (n.required = !0, a.$validators.required = function(e, t) {
                            return !n.required || !a.$isEmpty(t)
                        }, n.$observe("required", function() {
                            a.$validate()
                        }))
                    }
                }
            },
            _o = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, n, a, i) {
                        if (i) {
                            var s, o = a.ngPattern || a.pattern;
                            a.$observe("pattern", function(e) {
                                if (w(e) && e.length > 0 && (e = new RegExp("^" + e + "$")), e && !e.test) throw t("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", o, e, Q(n));
                                s = e || void 0, i.$validate()
                            }), i.$validators.pattern = function(e, t) {
                                return i.$isEmpty(t) || v(s) || s.test(t)
                            }
                        }
                    }
                }
            },
            Mo = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, a) {
                        if (a) {
                            var i = -1;
                            n.$observe("maxlength", function(e) {
                                var t = d(e);
                                i = isNaN(t) ? -1 : t, a.$validate()
                            }), a.$validators.maxlength = function(e, t) {
                                return i < 0 || a.$isEmpty(t) || t.length <= i
                            }
                        }
                    }
                }
            },
            Ao = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, a) {
                        if (a) {
                            var i = 0;
                            n.$observe("minlength", function(e) {
                                i = d(e) || 0, a.$validate()
                            }), a.$validators.minlength = function(e, t) {
                                return a.$isEmpty(t) || t.length >= i
                            }
                        }
                    }
                }
            };
        e.angular.bootstrap ? e.console && console.log("WARNING: Tried to load angular more than once.") : (! function() {
            var t;
            if (!Ua) {
                var n = Oa();
                (ya = v(n) ? e.jQuery : n ? e[n] : void 0) && ya.fn.on ? (ba = ya, c(ya.fn, {
                    scope: si.scope,
                    isolateScope: si.isolateScope,
                    controller: si.controller,
                    injector: si.injector,
                    inheritedData: si.inheritedData
                }), t = ya.cleanData, ya.cleanData = function(e) {
                    for (var n, a, i = 0; null != (a = e[i]); i++)(n = ya._data(a, "events")) && n.$destroy && ya(a).triggerHandler("$destroy");
                    t(e)
                }) : ba = Ie, _a.element = ba, Ua = !0
            }
        }(), function(n) {
            c(n, {
                bootstrap: se,
                copy: B,
                extend: c,
                merge: u,
                equals: R,
                element: ba,
                forEach: a,
                injector: Je,
                noop: m,
                bind: q,
                toJson: W,
                fromJson: G,
                identity: f,
                isUndefined: v,
                isDefined: b,
                isString: w,
                isFunction: S,
                isObject: y,
                isNumber: x,
                isElement: j,
                isArray: Aa,
                version: qa,
                isDate: k,
                lowercase: ga,
                uppercase: ha,
                callbacks: {
                    counter: 0
                },
                getTestability: re,
                $$minErr: t,
                $$csp: Pa,
                reloadWithDebugInfo: oe
            }), ($a = ge(e))("ng", ["ngLocale"], ["$provide",
                function(e) {
                    e.provider({
                        $$sanitizeUri: yn
                    }), e.provider("$compile", lt).directive({
                        a: ds,
                        input: Ds,
                        textarea: Ds,
                        form: hs,
                        script: $o,
                        select: ko,
                        style: Io,
                        option: So,
                        ngBind: Ps,
                        ngBindHtml: js,
                        ngBindTemplate: Os,
                        ngClass: Ls,
                        ngClassEven: Bs,
                        ngClassOdd: Us,
                        ngCloak: Hs,
                        ngController: Rs,
                        ngForm: vs,
                        ngHide: mo,
                        ngIf: qs,
                        ngInclude: zs,
                        ngInit: Gs,
                        ngNonBindable: so,
                        ngPluralize: co,
                        ngRepeat: uo,
                        ngShow: po,
                        ngStyle: fo,
                        ngSwitch: go,
                        ngSwitchWhen: ho,
                        ngSwitchDefault: vo,
                        ngOptions: lo,
                        ngTransclude: yo,
                        ngModel: no,
                        ngList: Ys,
                        ngChange: Ns,
                        pattern: _o,
                        ngPattern: _o,
                        required: Co,
                        ngRequired: Co,
                        minlength: Ao,
                        ngMinlength: Ao,
                        maxlength: Mo,
                        ngMaxlength: Mo,
                        ngValue: Es,
                        ngModelOptions: io
                    }).directive({
                        ngInclude: Ws
                    }).directive(ps).directive(Vs), e.provider({
                        $anchorScroll: Xe,
                        $animate: $i,
                        $animateCss: ki,
                        $$animateJs: bi,
                        $$animateQueue: yi,
                        $$AnimateRunner: xi,
                        $$animateAsyncRun: wi,
                        $browser: st,
                        $cacheFactory: ot,
                        $controller: ft,
                        $document: gt,
                        $exceptionHandler: ht,
                        $filter: Pn,
                        $$forceReflow: Ai,
                        $interpolate: Dt,
                        $interval: Tt,
                        $http: Ct,
                        $httpParamSerializer: bt,
                        $httpParamSerializerJQLike: yt,
                        $httpBackend: Mt,
                        $xhrFactory: _t,
                        $location: Wt,
                        $log: Gt,
                        $parse: mn,
                        $rootScope: bn,
                        $q: fn,
                        $$q: gn,
                        $sce: kn,
                        $sceDelegate: xn,
                        $sniffer: Sn,
                        $templateCache: rt,
                        $templateRequest: In,
                        $$testability: Cn,
                        $timeout: _n,
                        $window: Dn,
                        $$rAF: vn,
                        $$jqLite: We,
                        $$HashMap: ci,
                        $$cookieReader: En
                    })
                }
            ])
        }(_a), _a.module("ngLocale", [], ["$provide",
            function(e) {
                function t(e) {
                    var t = (e += "").indexOf(".");
                    return -1 == t ? 0 : e.length - t - 1
                }

                function n(e, n) {
                    var a = n;
                    void 0 === a && (a = Math.min(t(e), 3));
                    var i = Math.pow(10, a);
                    return {
                        v: a,
                        f: (e * i | 0) % i
                    }
                }
                var a = {
                    ZERO: "zero",
                    ONE: "one",
                    TWO: "two",
                    FEW: "few",
                    MANY: "many",
                    OTHER: "other"
                };
                e.value("$locale", {
                    DATETIME_FORMATS: {
                        AMPMS: ["AM", "PM"],
                        DAY: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        ERANAMES: ["Before Christ", "Anno Domini"],
                        ERAS: ["BC", "AD"],
                        FIRSTDAYOFWEEK: 6,
                        MONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        SHORTDAY: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        SHORTMONTH: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        STANDALONEMONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        WEEKENDRANGE: [5, 6],
                        fullDate: "EEEE, MMMM d, y",
                        longDate: "MMMM d, y",
                        medium: "MMM d, y h:mm:ss a",
                        mediumDate: "MMM d, y",
                        mediumTime: "h:mm:ss a",
                        short: "M/d/yy h:mm a",
                        shortDate: "M/d/yy",
                        shortTime: "h:mm a"
                    },
                    NUMBER_FORMATS: {
                        CURRENCY_SYM: "$",
                        DECIMAL_SEP: ".",
                        GROUP_SEP: ",",
                        PATTERNS: [{
                            gSize: 3,
                            lgSize: 3,
                            maxFrac: 3,
                            minFrac: 0,
                            minInt: 1,
                            negPre: "-",
                            negSuf: "",
                            posPre: "",
                            posSuf: ""
                        }, {
                            gSize: 3,
                            lgSize: 3,
                            maxFrac: 2,
                            minFrac: 2,
                            minInt: 1,
                            negPre: "-¤",
                            negSuf: "",
                            posPre: "¤",
                            posSuf: ""
                        }]
                    },
                    id: "en-us",
                    localeID: "en_US",
                    pluralCat: function(e, t) {
                        var i = 0 | e,
                            s = n(e, t);
                        return 1 == i && 0 == s.v ? a.ONE : a.OTHER
                    }
                })
            }
        ]), ba(e.document).ready(function() {
            ie(e.document, se)
        }))
    }(window), !window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),
    function(e, t) {
        "use strict";

        function n(e, t, n) {
            if (!e) throw le("areq", "Argument '{0}' is {1}", t || "?", n || "required");
            return e
        }

        function a(e, t) {
            return e || t ? e ? t ? (V(e) && (e = e.join(" ")), V(t) && (t = t.join(" ")), e + " " + t) : e : t : ""
        }

        function i(e) {
            var t = {};
            return e && (e.to || e.from) && (t.to = e.to, t.from = e.from), t
        }

        function s(e, t, n) {
            var a = "";
            return e = V(e) ? e : e && F(e) && e.length ? e.split(/\s+/) : [], R(e, function(e, i) {
                e && e.length > 0 && (a += i > 0 ? " " : "", a += n ? t + e : e + t)
            }), a
        }

        function o(e, t) {
            var n = e.indexOf(t);
            t >= 0 && e.splice(n, 1)
        }

        function r(e) {
            if (e instanceof H) switch (e.length) {
                case 0:
                    return e;
                case 1:
                    if (e[0].nodeType === K) return e;
                    break;
                default:
                    return H(l(e))
            }
            if (e.nodeType === K) return H(e)
        }

        function l(e) {
            if (!e[0]) return e;
            for (var t = 0; t < e.length; t++) {
                var n = e[t];
                if (n.nodeType == K) return n
            }
        }

        function c(e, t, n) {
            R(t, function(t) {
                e.addClass(t, n)
            })
        }

        function u(e, t, n) {
            R(t, function(t) {
                e.removeClass(t, n)
            })
        }

        function d(e) {
            return function(t, n) {
                n.addClass && (c(e, t, n.addClass), n.addClass = null), n.removeClass && (u(e, t, n.removeClass), n.removeClass = null)
            }
        }

        function p(e) {
            if (!(e = e || {}).$$prepared) {
                var t = e.domOperation || L;
                e.domOperation = function() {
                    e.$$domOperationFired = !0, t(), t = L
                }, e.$$prepared = !0
            }
            return e
        }

        function m(e, t) {
            f(e, t), g(e, t)
        }

        function f(e, t) {
            t.from && (e.css(t.from), t.from = null)
        }

        function g(e, t) {
            t.to && (e.css(t.to), t.to = null)
        }

        function h(e, t, n) {
            var a = t.options || {},
                i = n.options || {},
                s = (a.addClass || "") + " " + (i.addClass || ""),
                o = (a.removeClass || "") + " " + (i.removeClass || ""),
                r = v(e.attr("class"), s, o);
            i.preparationClasses && (a.preparationClasses = S(i.preparationClasses, a.preparationClasses), delete i.preparationClasses);
            var l = a.domOperation !== L ? a.domOperation : null;
            return B(a, i), l && (a.domOperation = l), r.addClass ? a.addClass = r.addClass : a.addClass = null, r.removeClass ? a.removeClass = r.removeClass : a.removeClass = null, t.addClass = a.addClass, t.removeClass = a.removeClass, a
        }

        function v(e, t, n) {
            function a(e) {
                F(e) && (e = e.split(" "));
                var t = {};
                return R(e, function(e) {
                    e.length && (t[e] = !0)
                }), t
            }
            var i = {};
            e = a(e), t = a(t), R(t, function(e, t) {
                i[t] = 1
            }), n = a(n), R(n, function(e, t) {
                i[t] = 1 === i[t] ? null : -1
            });
            var s = {
                addClass: "",
                removeClass: ""
            };
            return R(i, function(t, n) {
                var a, i;
                1 === t ? (a = "addClass", i = !e[n]) : -1 === t && (a = "removeClass", i = e[n]), i && (s[a].length && (s[a] += " "), s[a] += n)
            }), s
        }

        function b(e) {
            return e instanceof t.element ? e[0] : e
        }

        function y(e, t, n) {
            var a = "";
            t && (a = s(t, J, !0)), n.addClass && (a = S(a, s(n.addClass, Z))), n.removeClass && (a = S(a, s(n.removeClass, Q))), a.length && (n.preparationClasses = a, e.addClass(a))
        }

        function $(e, t) {
            t.preparationClasses && (e.removeClass(t.preparationClasses), t.preparationClasses = null), t.activeClasses && (e.removeClass(t.activeClasses), t.activeClasses = null)
        }

        function w(e, t) {
            var n = t ? "-" + t + "s" : "";
            return k(e, [oe, n]), [oe, n]
        }

        function x(e, t) {
            var n = t ? "paused" : "",
                a = j + ae;
            return k(e, [a, n]), [a, n]
        }

        function k(e, t) {
            var n = t[0],
                a = t[1];
            e.style[n] = a
        }

        function S(e, t) {
            return e ? t ? e + " " + t : e : t
        }

        function I(e) {
            return [se, e + "s"]
        }

        function C(e, t) {
            return [t ? ie : oe, e + "s"]
        }

        function _(e, t, n) {
            var a = Object.create(null),
                i = e.getComputedStyle(t) || {};
            return R(n, function(e, t) {
                var n = i[e];
                if (n) {
                    var s = n.charAt(0);
                    ("-" === s || "+" === s || s >= 0) && (n = M(n)), 0 === n && (n = null), a[t] = n
                }
            }), a
        }

        function M(e) {
            var t = 0,
                n = e.split(/\s*,\s*/);
            return R(n, function(e) {
                "s" == e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1)), e = parseFloat(e) || 0, t = t ? Math.max(e, t) : e
            }), t
        }

        function A(e) {
            return 0 === e || null != e
        }

        function D(e, t) {
            var n = P,
                a = e + "s";
            return t ? n += te : a += " linear all", [n, a]
        }

        function T() {
            var e = Object.create(null);
            return {
                flush: function() {
                    e = Object.create(null)
                },
                count: function(t) {
                    var n = e[t];
                    return n ? n.total : 0
                },
                get: function(t) {
                    var n = e[t];
                    return n && n.value
                },
                put: function(t, n) {
                    e[t] ? e[t].total++ : e[t] = {
                        total: 1,
                        value: n
                    }
                }
            }
        }

        function E(e, t, n) {
            R(n, function(n) {
                e[n] = W(e[n]) ? e[n] : t.style.getPropertyValue(n)
            })
        }
        var P, O, j, N, L = t.noop,
            U = t.copy,
            B = t.extend,
            H = t.element,
            R = t.forEach,
            V = t.isArray,
            F = t.isString,
            q = t.isObject,
            z = t.isUndefined,
            W = t.isDefined,
            G = t.isFunction,
            Y = t.isElement,
            K = 1,
            Z = "-add",
            Q = "-remove",
            J = "ng-",
            X = "ng-animate",
            ee = "$$ngAnimateChildren";
        z(e.ontransitionend) && W(e.onwebkittransitionend) ? ("-webkit-", P = "WebkitTransition", O = "webkitTransitionEnd transitionend") : (P = "transition", O = "transitionend"), z(e.onanimationend) && W(e.onwebkitanimationend) ? ("-webkit-", j = "WebkitAnimation", N = "webkitAnimationEnd animationend") : (j = "animation", N = "animationend");
        var te = "Duration",
            ne = "TimingFunction",
            ae = "PlayState",
            ie = j + "Delay",
            se = j + te,
            oe = P + "Delay",
            re = P + te,
            le = t.$$minErr("ng"),
            ce = ["$$rAF",
                function(e) {
                    function t(e) {
                        a = a.concat(e), n()
                    }

                    function n() {
                        if (a.length) {
                            for (var t = a.shift(), s = 0; s < t.length; s++) t[s]();
                            i || e(function() {
                                i || n()
                            })
                        }
                    }
                    var a, i;
                    return a = t.queue = [], t.waitUntilQuiet = function(t) {
                        i && i(), i = e(function() {
                            i = null, t(), n()
                        })
                    }, t
                }
            ],
            ue = ["$interpolate",
                function(e) {
                    return {
                        link: function(n, a, i) {
                            function s(e) {
                                e = "on" === e || "true" === e, a.data(ee, e)
                            }
                            var o = i.ngAnimateChildren;
                            t.isString(o) && 0 === o.length ? a.data(ee, !0) : (s(e(o)(n)), i.$observe("ngAnimateChildren", s))
                        }
                    }
                }
            ],
            de = "$$animateCss",
            pe = 1e3,
            me = 3,
            fe = 1.5,
            ge = {
                transitionDuration: re,
                transitionDelay: oe,
                transitionProperty: P + "Property",
                animationDuration: se,
                animationDelay: ie,
                animationIterationCount: j + "IterationCount"
            },
            he = {
                transitionDuration: re,
                transitionDelay: oe,
                animationDuration: se,
                animationDelay: ie
            },
            ve = ["$animateProvider",
                function(e) {
                    var t = T(),
                        n = T();
                    this.$get = ["$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$$animateQueue",
                        function(e, a, r, l, c, u, h, v) {
                            function y(e, t) {
                                var n = "$$ngAnimateParentKey",
                                    a = e.parentNode;
                                return (a[n] || (a[n] = ++H)) + "-" + e.getAttribute("class") + "-" + t
                            }

                            function $(n, a, i, s) {
                                var o = t.get(i);
                                return o || "infinite" === (o = _(e, n, s)).animationIterationCount && (o.animationIterationCount = 1), t.put(i, o), o
                            }

                            function S(i, o, r, l) {
                                var c;
                                if (t.count(r) > 0 && !(c = n.get(r))) {
                                    var u = s(o, "-stagger");
                                    a.addClass(i, u), (c = _(e, i, l)).animationDuration = Math.max(c.animationDuration, 0), c.transitionDuration = Math.max(c.transitionDuration, 0), a.removeClass(i, u), n.put(r, c)
                                }
                                return c || {}
                            }

                            function M(e) {
                                F.push(e), h.waitUntilQuiet(function() {
                                    t.flush(), n.flush();
                                    for (var e = c(), a = 0; a < F.length; a++) F[a](e);
                                    F.length = 0
                                })
                            }

                            function T(e, t, n) {
                                var a = $(e, t, n, ge),
                                    i = a.animationDelay,
                                    s = a.transitionDelay;
                                return a.maxDelay = i && s ? Math.max(i, s) : i || s, a.maxDuration = Math.max(a.animationDuration * a.animationIterationCount, a.transitionDuration), a
                            }
                            var B = d(a),
                                H = 0,
                                F = [];
                            return function(e, n) {
                                function c() {
                                    h()
                                }

                                function d() {
                                    h(!0)
                                }

                                function h(t) {
                                    if (!(G || K && Y)) {
                                        G = !0, Y = !1, q.$$skipPreparationClasses || a.removeClass(e, ye), a.removeClass(e, we), x(W, !1), w(W, !1), R(re, function(e) {
                                            W.style[e[0]] = ""
                                        }), B(e, q), m(e, q), Object.keys(z).length && R(z, function(e, t) {
                                            e ? W.style.setProperty(t, e) : W.style.removeProperty(t)
                                        }), q.onDone && q.onDone(), ue && ue.length && e.off(ue.join(" "), H);
                                        var n = e.data(de);
                                        n && (l.cancel(n[0].timer), e.removeData(de)), X && X.complete(!t)
                                    }
                                }

                                function $(e) {
                                    Oe.blockTransition && w(W, e), Oe.blockKeyframeAnimation && x(W, !!e)
                                }

                                function _() {
                                    return X = new r({
                                        end: c,
                                        cancel: d
                                    }), M(L), h(), {
                                        $$willAnimate: !1,
                                        start: function() {
                                            return X
                                        },
                                        end: c
                                    }
                                }

                                function H(e) {
                                    e.stopPropagation();
                                    var t = e.originalEvent || e,
                                        n = t.$manualTimeStamp || Date.now(),
                                        a = parseFloat(t.elapsedTime.toFixed(me));
                                    Math.max(n - oe, 0) >= ae && a >= ie && (K = !0, h())
                                }

                                function F() {
                                    function t() {
                                        if (!G) {
                                            if ($(!1), R(re, function(e) {
                                                var t = e[0],
                                                    n = e[1];
                                                W.style[t] = n
                                            }), B(e, q), a.addClass(e, we), Oe.recalculateTimingStyles) {
                                                if ($e = W.className + " " + ye, ke = y(W, $e), Ee = T(W, $e, ke), Pe = Ee.maxDelay, te = Math.max(Pe, 0), 0 === (ie = Ee.maxDuration)) return void h();
                                                Oe.hasTransitions = Ee.transitionDuration > 0, Oe.hasAnimations = Ee.animationDuration > 0
                                            }
                                            if (Oe.applyAnimationDelay && (Pe = "boolean" != typeof q.delay && A(q.delay) ? parseFloat(q.delay) : Pe, te = Math.max(Pe, 0), Ee.animationDelay = Pe, je = C(Pe, !0), re.push(je), W.style[je[0]] = je[1]), ae = te * pe, se = ie * pe, q.easing) {
                                                var t, i = q.easing;
                                                Oe.hasTransitions && (t = P + ne, re.push([t, i]), W.style[t] = i), Oe.hasAnimations && (t = j + ne, re.push([t, i]), W.style[t] = i)
                                            }
                                            Ee.transitionDuration && ue.push(O), Ee.animationDuration && ue.push(N), oe = Date.now();
                                            var s = ae + fe * se,
                                                o = oe + s,
                                                r = e.data(de) || [],
                                                c = !0;
                                            if (r.length) {
                                                var u = r[0];
                                                (c = o > u.expectedEndTime) ? l.cancel(u.timer): r.push(h)
                                            }
                                            if (c) {
                                                var d = l(n, s, !1);
                                                r[0] = {
                                                    timer: d,
                                                    expectedEndTime: o
                                                }, r.push(h), e.data(de, r)
                                            }
                                            ue.length && e.on(ue.join(" "), H), q.to && (q.cleanupStyles && E(z, W, Object.keys(q.to)), g(e, q))
                                        }
                                    }

                                    function n() {
                                        var t = e.data(de);
                                        if (t) {
                                            for (var n = 1; n < t.length; n++) t[n]();
                                            e.removeData(de)
                                        }
                                    }
                                    if (!G)
                                        if (W.parentNode) {
                                            var i = function(e) {
                                                    if (K) Y && e && (Y = !1, h());
                                                    else if (Y = !e, Ee.animationDuration) {
                                                        var t = x(W, Y);
                                                        Y ? re.push(t) : o(re, t)
                                                    }
                                                },
                                                s = De > 0 && (Ee.transitionDuration && 0 === Se.transitionDuration || Ee.animationDuration && 0 === Se.animationDuration) && Math.max(Se.animationDelay, Se.transitionDelay);
                                            s ? l(t, Math.floor(s * De * pe), !1) : t(), ee.resume = function() {
                                                i(!0)
                                            }, ee.pause = function() {
                                                i(!1)
                                            }
                                        } else h()
                                }
                                var q = n || {};
                                q.$$prepared || (q = p(U(q)));
                                var z = {},
                                    W = b(e);
                                if (!W || !W.parentNode || !v.enabled()) return _();
                                var G, Y, K, X, ee, te, ae, ie, se, oe, re = [],
                                    le = e.attr("class"),
                                    ce = i(q),
                                    ue = [];
                                if (0 === q.duration || !u.animations && !u.transitions) return _();
                                var ge = q.event && V(q.event) ? q.event.join(" ") : q.event,
                                    ve = "",
                                    be = "";
                                ge && q.structural ? ve = s(ge, J, !0) : ge && (ve = ge), q.addClass && (be += s(q.addClass, Z)), q.removeClass && (be.length && (be += " "), be += s(q.removeClass, Q)), q.applyClassesEarly && be.length && B(e, q);
                                var ye = [ve, be].join(" ").trim(),
                                    $e = le + " " + ye,
                                    we = s(ye, "-active"),
                                    xe = ce.to && Object.keys(ce.to).length > 0;
                                if (!((q.keyframeStyle || "").length > 0) && !xe && !ye) return _();
                                var ke, Se;
                                if (q.stagger > 0) {
                                    var Ie = parseFloat(q.stagger);
                                    Se = {
                                        transitionDelay: Ie,
                                        animationDelay: Ie,
                                        transitionDuration: 0,
                                        animationDuration: 0
                                    }
                                } else ke = y(W, $e), Se = S(W, ye, ke, he);
                                q.$$skipPreparationClasses || a.addClass(e, ye);
                                var Ce;
                                if (q.transitionStyle) {
                                    var _e = [P, q.transitionStyle];
                                    k(W, _e), re.push(_e)
                                }
                                if (q.duration >= 0) {
                                    Ce = W.style[P].length > 0;
                                    var Me = D(q.duration, Ce);
                                    k(W, Me), re.push(Me)
                                }
                                if (q.keyframeStyle) {
                                    var Ae = [j, q.keyframeStyle];
                                    k(W, Ae), re.push(Ae)
                                }
                                var De = Se ? q.staggerIndex >= 0 ? q.staggerIndex : t.count(ke) : 0,
                                    Te = 0 === De;
                                Te && !q.skipBlocking && w(W, 9999);
                                var Ee = T(W, $e, ke),
                                    Pe = Ee.maxDelay;
                                te = Math.max(Pe, 0), ie = Ee.maxDuration;
                                var Oe = {};
                                if (Oe.hasTransitions = Ee.transitionDuration > 0, Oe.hasAnimations = Ee.animationDuration > 0, Oe.hasTransitionAll = Oe.hasTransitions && "all" == Ee.transitionProperty, Oe.applyTransitionDuration = xe && (Oe.hasTransitions && !Oe.hasTransitionAll || Oe.hasAnimations && !Oe.hasTransitions), Oe.applyAnimationDuration = q.duration && Oe.hasAnimations, Oe.applyTransitionDelay = A(q.delay) && (Oe.applyTransitionDuration || Oe.hasTransitions), Oe.applyAnimationDelay = A(q.delay) && Oe.hasAnimations, Oe.recalculateTimingStyles = be.length > 0, (Oe.applyTransitionDuration || Oe.applyAnimationDuration) && (ie = q.duration ? parseFloat(q.duration) : ie, Oe.applyTransitionDuration && (Oe.hasTransitions = !0, Ee.transitionDuration = ie, Ce = W.style[P + "Property"].length > 0, re.push(D(ie, Ce))), Oe.applyAnimationDuration && (Oe.hasAnimations = !0, Ee.animationDuration = ie, re.push(I(ie)))), 0 === ie && !Oe.recalculateTimingStyles) return _();
                                if (null != q.delay) {
                                    var je;
                                    "boolean" != typeof q.delay && (je = parseFloat(q.delay), te = Math.max(je, 0)), Oe.applyTransitionDelay && re.push(C(je)), Oe.applyAnimationDelay && re.push(C(je, !0))
                                }
                                return null == q.duration && Ee.transitionDuration > 0 && (Oe.recalculateTimingStyles = Oe.recalculateTimingStyles || Te), ae = te * pe, se = ie * pe, q.skipBlocking || (Oe.blockTransition = Ee.transitionDuration > 0, Oe.blockKeyframeAnimation = Ee.animationDuration > 0 && Se.animationDelay > 0 && 0 === Se.animationDuration), q.from && (q.cleanupStyles && E(z, W, Object.keys(q.from)), f(e, q)), Oe.blockTransition || Oe.blockKeyframeAnimation ? $(ie) : q.skipBlocking || w(W, !1), {
                                    $$willAnimate: !0,
                                    end: c,
                                    start: function() {
                                        if (!G) return ee = {
                                            end: c,
                                            cancel: d,
                                            resume: null,
                                            pause: null
                                        }, X = new r(ee), M(F), X
                                    }
                                }
                            }
                        }
                    ]
                }
            ],
            be = ["$$animationProvider",
                function(e) {
                    function t(e) {
                        return e.parentNode && 11 === e.parentNode.nodeType
                    }
                    e.drivers.push("$$animateCssDriver");
                    var n = "ng-animate-shim",
                        a = "ng-anchor",
                        i = "ng-anchor-out",
                        s = "ng-anchor-in";
                    this.$get = ["$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document",
                        function(e, o, r, l, c, u, p) {
                            function m(e) {
                                return e.replace(/\bng-\S+\b/g, "")
                            }

                            function f(e, t) {
                                return F(e) && (e = e.split(" ")), F(t) && (t = t.split(" ")), e.filter(function(e) {
                                    return -1 === t.indexOf(e)
                                }).join(" ")
                            }

                            function g(t, o, l) {
                                function c(e) {
                                    var t = {},
                                        n = b(e).getBoundingClientRect();
                                    return R(["width", "height", "top", "left"], function(e) {
                                        var a = n[e];
                                        switch (e) {
                                            case "top":
                                                a += y.scrollTop;
                                                break;
                                            case "left":
                                                a += y.scrollLeft
                                        }
                                        t[e] = Math.floor(a) + "px"
                                    }), t
                                }

                                function u(e) {
                                    return e.attr("class") || ""
                                }

                                function d() {
                                    var t = m(u(l)),
                                        n = f(t, h),
                                        a = f(h, t),
                                        o = e(g, {
                                            to: c(l),
                                            addClass: s + " " + n,
                                            removeClass: i + " " + a,
                                            delay: !0
                                        });
                                    return o.$$willAnimate ? o : null
                                }

                                function p() {
                                    g.remove(), o.removeClass(n), l.removeClass(n)
                                }
                                var g = H(b(o).cloneNode(!0)),
                                    h = m(u(g));
                                o.addClass(n), l.addClass(n), g.addClass(a), w.append(g);
                                var v, $ = function() {
                                    var t = e(g, {
                                        addClass: i,
                                        delay: !0,
                                        from: c(o)
                                    });
                                    return t.$$willAnimate ? t : null
                                }();
                                if (!$ && !(v = d())) return p();
                                var x = $ || v;
                                return {
                                    start: function() {
                                        function e() {
                                            n && n.end()
                                        }
                                        var t, n = x.start();
                                        return n.done(function() {
                                            if (n = null, !v && (v = d())) return (n = v.start()).done(function() {
                                                n = null, p(), t.complete()
                                            }), n;
                                            p(), t.complete()
                                        }), t = new r({
                                            end: e,
                                            cancel: e
                                        })
                                    }
                                }
                            }

                            function h(e, t, n, a) {
                                var i = v(e),
                                    s = v(t),
                                    o = [];
                                if (R(a, function(e) {
                                    var t = e.out,
                                        a = e.in,
                                        i = g(n, t, a);
                                    i && o.push(i)
                                }), i || s || 0 !== o.length) return {
                                    start: function() {
                                        function e() {
                                            R(t, function(e) {
                                                e.end()
                                            })
                                        }
                                        var t = [];
                                        i && t.push(i.start()), s && t.push(s.start()), R(o, function(e) {
                                            t.push(e.start())
                                        });
                                        var n = new r({
                                            end: e,
                                            cancel: e
                                        });
                                        return r.all(t, function(e) {
                                            n.complete(e)
                                        }), n
                                    }
                                }
                            }

                            function v(t) {
                                var n = t.element,
                                    a = t.options || {};
                                t.structural && (a.event = t.event, a.structural = !0, a.applyClassesEarly = !0, "leave" === t.event && (a.onDone = a.domOperation)), a.preparationClasses && (a.event = S(a.event, a.preparationClasses));
                                var i = e(n, a);
                                return i.$$willAnimate ? i : null
                            }
                            if (!c.animations && !c.transitions) return L;
                            var y = p[0].body,
                                $ = b(l),
                                w = H(t($) || y.contains($) ? $ : y);
                            d(u);
                            return function(e) {
                                return e.from && e.to ? h(e.from, e.to, e.classes, e.anchors) : v(e)
                            }
                        }
                    ]
                }
            ],
            ye = ["$animateProvider",
                function(e) {
                    this.$get = ["$injector", "$$AnimateRunner", "$$jqLite",
                        function(t, n, a) {
                            function i(n) {
                                n = V(n) ? n : n.split(" ");
                                for (var a = [], i = {}, s = 0; s < n.length; s++) {
                                    var o = n[s],
                                        r = e.$$registeredAnimations[o];
                                    r && !i[o] && (a.push(t.get(r)), i[o] = !0)
                                }
                                return a
                            }
                            var s = d(a);
                            return function(e, t, a, o) {
                                function r() {
                                    o.domOperation(), s(e, o)
                                }

                                function l() {
                                    f = !0, r(), m(e, o)
                                }

                                function c(e, t, a, i, s) {
                                    var o;
                                    switch (a) {
                                        case "animate":
                                            o = [t, i.from, i.to, s];
                                            break;
                                        case "setClass":
                                            o = [t, v, b, s];
                                            break;
                                        case "addClass":
                                            o = [t, v, s];
                                            break;
                                        case "removeClass":
                                            o = [t, b, s];
                                            break;
                                        default:
                                            o = [t, s]
                                    }
                                    o.push(i);
                                    var r = e.apply(e, o);
                                    if (r)
                                        if (G(r.start) && (r = r.start()), r instanceof n) r.done(s);
                                        else if (G(r)) return r;
                                    return L
                                }

                                function u(e, t, a, i, s) {
                                    var o = [];
                                    return R(i, function(i) {
                                        var r = i[s];
                                        r && o.push(function() {
                                            var i, s, o = !1,
                                                l = function(e) {
                                                    o || (o = !0, (s || L)(e), i.complete(!e))
                                                };
                                            return i = new n({
                                                end: function() {
                                                    l()
                                                },
                                                cancel: function() {
                                                    l(!0)
                                                }
                                            }), s = c(r, e, t, a, function(e) {
                                                l(!1 === e)
                                            }), i
                                        })
                                    }), o
                                }

                                function d(e, t, a, i, s) {
                                    var o = u(e, t, a, i, s);
                                    if (0 === o.length) {
                                        var r, l;
                                        "beforeSetClass" === s ? (r = u(e, "removeClass", a, i, "beforeRemoveClass"), l = u(e, "addClass", a, i, "beforeAddClass")) : "setClass" === s && (r = u(e, "removeClass", a, i, "removeClass"), l = u(e, "addClass", a, i, "addClass")), r && (o = o.concat(r)), l && (o = o.concat(l))
                                    }
                                    if (0 !== o.length) return function(e) {
                                        var t = [];
                                        return o.length && R(o, function(e) {
                                                t.push(e())
                                            }), t.length ? n.all(t, e) : e(),
                                            function(e) {
                                                R(t, function(t) {
                                                    e ? t.cancel() : t.end()
                                                })
                                            }
                                    }
                                }
                                var f = !1;
                                3 === arguments.length && q(a) && (o = a, a = null), o = p(o), a || (a = e.attr("class") || "", o.addClass && (a += " " + o.addClass), o.removeClass && (a += " " + o.removeClass));
                                var g, h, v = o.addClass,
                                    b = o.removeClass,
                                    y = i(a);
                                if (y.length) {
                                    var $, w;
                                    "leave" == t ? (w = "leave", $ = "afterLeave") : (w = "before" + t.charAt(0).toUpperCase() + t.substr(1), $ = t), "enter" !== t && "move" !== t && (g = d(e, t, o, y, w)), h = d(e, t, o, y, $)
                                }
                                if (g || h) {
                                    var x;
                                    return {
                                        $$willAnimate: !0,
                                        end: function() {
                                            return x ? x.end() : (l(), (x = new n).complete(!0)), x
                                        },
                                        start: function() {
                                            function e(e) {
                                                l(e), x.complete(e)
                                            }

                                            function t(t) {
                                                f || ((a || L)(t), e(t))
                                            }
                                            if (x) return x;
                                            x = new n;
                                            var a, i = [];
                                            return g && i.push(function(e) {
                                                a = g(e)
                                            }), i.length ? i.push(function(e) {
                                                r(), e(!0)
                                            }) : r(), h && i.push(function(e) {
                                                a = h(e)
                                            }), x.setHost({
                                                end: function() {
                                                    t()
                                                },
                                                cancel: function() {
                                                    t(!0)
                                                }
                                            }), n.chain(i, e), x
                                        }
                                    }
                                }
                            }
                        }
                    ]
                }
            ],
            $e = ["$$animationProvider",
                function(e) {
                    e.drivers.push("$$animateJsDriver"), this.$get = ["$$animateJs", "$$AnimateRunner",
                        function(e, t) {
                            function n(t) {
                                var n = t.element,
                                    a = t.event,
                                    i = t.options,
                                    s = t.classes;
                                return e(n, a, s, i)
                            }
                            return function(e) {
                                if (e.from && e.to) {
                                    var a = n(e.from),
                                        i = n(e.to);
                                    if (!a && !i) return;
                                    return {
                                        start: function() {
                                            function e() {
                                                return function() {
                                                    R(n, function(e) {
                                                        e.end()
                                                    })
                                                }
                                            }
                                            var n = [];
                                            a && n.push(a.start()), i && n.push(i.start()), t.all(n, function(e) {
                                                s.complete(e)
                                            });
                                            var s = new t({
                                                end: e(),
                                                cancel: e()
                                            });
                                            return s
                                        }
                                    }
                                }
                                return n(e)
                            }
                        }
                    ]
                }
            ],
            we = "data-ng-animate",
            xe = "$ngAnimatePin",
            ke = ["$animateProvider",
                function(a) {
                    function i(e) {
                        if (!e) return null;
                        var t = e.split(g),
                            n = Object.create(null);
                        return R(t, function(e) {
                            n[e] = !0
                        }), n
                    }

                    function s(e, t) {
                        if (e && t) {
                            var n = i(t);
                            return e.split(g).some(function(e) {
                                return n[e]
                            })
                        }
                    }

                    function o(e, t, n, a) {
                        return v[e].some(function(e) {
                            return e(t, n, a)
                        })
                    }

                    function c(e, t) {
                        var n = (e.addClass || "").length > 0,
                            a = (e.removeClass || "").length > 0;
                        return t ? n && a : n || a
                    }
                    var u = 1,
                        f = 2,
                        g = " ",
                        v = this.rules = {
                            skip: [],
                            cancel: [],
                            join: []
                        };
                    v.join.push(function(e, t, n) {
                        return !t.structural && c(t)
                    }), v.skip.push(function(e, t, n) {
                        return !t.structural && !c(t)
                    }), v.skip.push(function(e, t, n) {
                        return "leave" == n.event && t.structural
                    }), v.skip.push(function(e, t, n) {
                        return n.structural && n.state === f && !t.structural
                    }), v.cancel.push(function(e, t, n) {
                        return n.structural && t.structural
                    }), v.cancel.push(function(e, t, n) {
                        return n.state === f && t.structural
                    }), v.cancel.push(function(e, t, n) {
                        if (n.structural) return !1;
                        var a = t.addClass,
                            i = t.removeClass,
                            o = n.addClass,
                            r = n.removeClass;
                        return !(z(a) && z(i) || z(o) && z(r)) && (s(a, r) || s(i, o))
                    }), this.$get = ["$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow",
                        function(i, s, g, v, w, x, k, S, I, C) {
                            function _() {
                                var e = !1;
                                return function(t) {
                                    e ? t() : s.$$postDigest(function() {
                                        e = !0, t()
                                    })
                                }
                            }

                            function M(e, t) {
                                return h(e, t, {})
                            }

                            function A(e, t, n) {
                                var a = b(t),
                                    i = b(e),
                                    s = [],
                                    o = X[n];
                                return o && R(o, function(e) {
                                    ie.call(e.node, a) ? s.push(e.callback) : "leave" === n && ie.call(e.node, i) && s.push(e.callback)
                                }), s
                            }

                            function D(e, t, n) {
                                var a = l(t);
                                return e.filter(function(e) {
                                    return !(e.node === a && (!n || e.callback === n))
                                })
                            }

                            function T(e, t) {
                                "close" !== e || t[0].parentNode || se.off(t)
                            }

                            function E(e, t, n) {
                                function a(t, n, a, s) {
                                    I(function() {
                                        var t = A(g, e, n);
                                        t.length ? i(function() {
                                            R(t, function(t) {
                                                t(e, a, s)
                                            }), T(a, e)
                                        }) : T(a, e)
                                    }), t.progress(n, a, s)
                                }

                                function l(t) {
                                    $(e, w), ae(e, w), m(e, w), w.domOperation(), S.complete(!t)
                                }
                                var d, g, w = U(n);
                                (e = r(e)) && (d = b(e), g = e.parent()), w = p(w);
                                var S = new k,
                                    I = _();
                                if (V(w.addClass) && (w.addClass = w.addClass.join(" ")), w.addClass && !F(w.addClass) && (w.addClass = null), V(w.removeClass) && (w.removeClass = w.removeClass.join(" ")), w.removeClass && !F(w.removeClass) && (w.removeClass = null), w.from && !q(w.from) && (w.from = null), w.to && !q(w.to) && (w.to = null), !d) return l(), S;
                                var C = [d.className, w.addClass, w.removeClass].join(" ");
                                if (!ne(C)) return l(), S;
                                var D = ["enter", "move", "leave"].indexOf(t) >= 0,
                                    E = v[0].hidden,
                                    j = !Q || E || Z.get(d),
                                    B = !j && G.get(d) || {},
                                    H = !!B.state;
                                if (j || H && B.state == u || (j = !N(e, g, t)), j) return E && a(S, t, "start"), l(), E && a(S, t, "close"), S;
                                D && P(e);
                                var z = {
                                    structural: D,
                                    element: e,
                                    event: t,
                                    addClass: w.addClass,
                                    removeClass: w.removeClass,
                                    close: l,
                                    options: w,
                                    runner: S
                                };
                                if (H) {
                                    if (o("skip", e, z, B)) return B.state === f ? (l(), S) : (h(e, B, z), B.runner);
                                    if (o("cancel", e, z, B))
                                        if (B.state === f) B.runner.end();
                                        else {
                                            if (!B.structural) return h(e, B, z), B.runner;
                                            B.close()
                                        } else if (o("join", e, z, B)) {
                                        if (B.state !== f) return y(e, D ? t : null, w), t = z.event = B.event, w = h(e, B, z), B.runner;
                                        M(e, z)
                                    }
                                } else M(e, z);
                                var W = z.structural;
                                if (W || (W = "animate" === z.event && Object.keys(z.options.to || {}).length > 0 || c(z)), !W) return l(), O(e), S;
                                var Y = (B.counter || 0) + 1;
                                return z.counter = Y, L(e, u, z), s.$$postDigest(function() {
                                    var n = G.get(d),
                                        i = !n;
                                    n = n || {};
                                    var s = (e.parent() || []).length > 0 && ("animate" === n.event || n.structural || c(n));
                                    if (i || n.counter !== Y || !s) return i && (ae(e, w), m(e, w)), (i || D && n.event !== t) && (w.domOperation(), S.end()), void(s || O(e));
                                    t = !n.structural && c(n, !0) ? "setClass" : n.event, L(e, f);
                                    var o = x(e, t, n.options);
                                    S.setHost(o), a(S, t, "start", {}), o.done(function(n) {
                                        l(!n);
                                        var i = G.get(d);
                                        i && i.counter === Y && O(b(e)), a(S, t, "close", {})
                                    })
                                }), S
                            }

                            function P(e) {
                                var t = b(e).querySelectorAll("[" + we + "]");
                                R(t, function(e) {
                                    var t = parseInt(e.getAttribute(we)),
                                        n = G.get(e);
                                    if (n) switch (t) {
                                        case f:
                                            n.runner.end();
                                        case u:
                                            G.remove(e)
                                    }
                                })
                            }

                            function O(e) {
                                var t = b(e);
                                t.removeAttribute(we), G.remove(t)
                            }

                            function j(e, t) {
                                return b(e) === b(t)
                            }

                            function N(e, t, n) {
                                var a, i = H(v[0].body),
                                    s = j(e, i) || "HTML" === e[0].nodeName,
                                    o = j(e, g),
                                    r = !1,
                                    l = Z.get(b(e)),
                                    c = H.data(e[0], xe);
                                for (c && (t = c), t = b(t); t && (o || (o = j(t, g)), t.nodeType === K);) {
                                    var u = G.get(t) || {};
                                    if (!r) {
                                        var d = Z.get(t);
                                        if (!0 === d && !1 !== l) {
                                            l = !0;
                                            break
                                        }!1 === d && (l = !1), r = u.structural
                                    }
                                    if (z(a) || !0 === a) {
                                        var p = H.data(t, ee);
                                        W(p) && (a = p)
                                    }
                                    if (r && !1 === a) break;
                                    if (s || (s = j(t, i)), s && o) break;
                                    t = o || !(c = H.data(t, xe)) ? t.parentNode : b(c)
                                }
                                return (!r || a) && !0 !== l && o && s
                            }

                            function L(e, t, n) {
                                (n = n || {}).state = t;
                                var a = b(e);
                                a.setAttribute(we, t);
                                var i = G.get(a),
                                    s = i ? B(i, n) : n;
                                G.put(a, s)
                            }
                            var G = new w,
                                Z = new w,
                                Q = null,
                                J = s.$watch(function() {
                                    return 0 === S.totalPendingRequests
                                }, function(e) {
                                    e && (J(), s.$$postDigest(function() {
                                        s.$$postDigest(function() {
                                            null === Q && (Q = !0)
                                        })
                                    }))
                                }),
                                X = {},
                                te = a.classNameFilter(),
                                ne = te ? function(e) {
                                    return te.test(e)
                                } : function() {
                                    return !0
                                },
                                ae = d(I),
                                ie = e.Node.prototype.contains || function(e) {
                                    return this === e || !!(16 & this.compareDocumentPosition(e))
                                },
                                se = {
                                    on: function(e, t, n) {
                                        var a = l(t);
                                        X[e] = X[e] || [], X[e].push({
                                            node: a,
                                            callback: n
                                        }), H(t).on("$destroy", function() {
                                            G.get(a) || se.off(e, t, n)
                                        })
                                    },
                                    off: function(e, n, a) {
                                        if (1 !== arguments.length || t.isString(arguments[0])) {
                                            var i = X[e];
                                            i && (X[e] = 1 === arguments.length ? null : D(i, n, a))
                                        } else {
                                            n = arguments[0];
                                            for (var s in X) X[s] = D(X[s], n)
                                        }
                                    },
                                    pin: function(e, t) {
                                        n(Y(e), "element", "not an element"), n(Y(t), "parentElement", "not an element"), e.data(xe, t)
                                    },
                                    push: function(e, t, n, a) {
                                        return n = n || {}, n.domOperation = a, E(e, t, n)
                                    },
                                    enabled: function(e, t) {
                                        var n = arguments.length;
                                        if (0 === n) t = !!Q;
                                        else if (Y(e)) {
                                            var a = b(e),
                                                i = Z.get(a);
                                            1 === n ? t = !i : Z.put(a, !t)
                                        } else t = Q = !!e;
                                        return t
                                    }
                                };
                            return se
                        }
                    ]
                }
            ],
            Se = ["$animateProvider",
                function(e) {
                    function t(e, t) {
                        e.data(r, t)
                    }

                    function n(e) {
                        e.removeData(r)
                    }

                    function i(e) {
                        return e.data(r)
                    }
                    var s = "ng-animate-ref",
                        o = this.drivers = [],
                        r = "$$animationRunner";
                    this.$get = ["$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$HashMap", "$$rAFScheduler",
                        function(e, r, l, c, u, f) {
                            function g(e) {
                                function t(e) {
                                    if (e.processed) return e;
                                    e.processed = !0;
                                    var n = e.domNode,
                                        s = n.parentNode;
                                    i.put(n, e);
                                    for (var o; s;) {
                                        if (o = i.get(s)) {
                                            o.processed || (o = t(o));
                                            break
                                        }
                                        s = s.parentNode
                                    }
                                    return (o || a).children.push(e), e
                                }
                                var n, a = {
                                        children: []
                                    },
                                    i = new u;
                                for (n = 0; n < e.length; n++) {
                                    var s = e[n];
                                    i.put(s.domNode, e[n] = {
                                        domNode: s.domNode,
                                        fn: s.fn,
                                        children: []
                                    })
                                }
                                for (n = 0; n < e.length; n++) t(e[n]);
                                return function(e) {
                                    var t, n = [],
                                        a = [];
                                    for (t = 0; t < e.children.length; t++) a.push(e.children[t]);
                                    var i = a.length,
                                        s = 0,
                                        o = [];
                                    for (t = 0; t < a.length; t++) {
                                        var r = a[t];
                                        i <= 0 && (i = s, s = 0, n.push(o), o = []), o.push(r.fn), r.children.forEach(function(e) {
                                            s++, a.push(e)
                                        }), i--
                                    }
                                    return o.length && n.push(o), n
                                }(a)
                            }
                            var h = [],
                                v = d(e);
                            return function(u, d, y) {
                                function $(e) {
                                    var t = "[" + s + "]",
                                        n = e.hasAttribute(s) ? [e] : e.querySelectorAll(t),
                                        a = [];
                                    return R(n, function(e) {
                                        var t = e.getAttribute(s);
                                        t && t.length && a.push(e)
                                    }), a
                                }

                                function w(e) {
                                    var t = [],
                                        n = {};
                                    R(e, function(e, a) {
                                        var i = b(e.element),
                                            o = e.event,
                                            r = ["enter", "move"].indexOf(o) >= 0,
                                            l = e.structural ? $(i) : [];
                                        if (l.length) {
                                            var c = r ? "to" : "from";
                                            R(l, function(e) {
                                                var t = e.getAttribute(s);
                                                n[t] = n[t] || {}, n[t][c] = {
                                                    animationID: a,
                                                    element: H(e)
                                                }
                                            })
                                        } else t.push(e)
                                    });
                                    var a = {},
                                        i = {};
                                    return R(n, function(n, s) {
                                        var o = n.from,
                                            r = n.to;
                                        if (o && r) {
                                            var l = e[o.animationID],
                                                c = e[r.animationID],
                                                u = o.animationID.toString();
                                            if (!i[u]) {
                                                var d = i[u] = {
                                                    structural: !0,
                                                    beforeStart: function() {
                                                        l.beforeStart(), c.beforeStart()
                                                    },
                                                    close: function() {
                                                        l.close(), c.close()
                                                    },
                                                    classes: x(l.classes, c.classes),
                                                    from: l,
                                                    to: c,
                                                    anchors: []
                                                };
                                                d.classes.length ? t.push(d) : (t.push(l), t.push(c))
                                            }
                                            i[u].anchors.push({
                                                out: o.element,
                                                in : r.element
                                            })
                                        } else {
                                            var p = o ? o.animationID : r.animationID,
                                                m = p.toString();
                                            a[m] || (a[m] = !0, t.push(e[p]))
                                        }
                                    }), t
                                }

                                function x(e, t) {
                                    e = e.split(" "), t = t.split(" ");
                                    for (var n = [], a = 0; a < e.length; a++) {
                                        var i = e[a];
                                        if ("ng-" !== i.substring(0, 3))
                                            for (var s = 0; s < t.length; s++)
                                                if (i === t[s]) {
                                                    n.push(i);
                                                    break
                                                }
                                    }
                                    return n.join(" ")
                                }

                                function k(e) {
                                    for (var t = o.length - 1; t >= 0; t--) {
                                        var n = o[t];
                                        if (l.has(n)) {
                                            var a = l.get(n)(e);
                                            if (a) return a
                                        }
                                    }
                                }

                                function S(e, t) {
                                    function n(e) {
                                        var n = i(e);
                                        n && n.setHost(t)
                                    }
                                    e.from && e.to ? (n(e.from.element), n(e.to.element)) : n(e.element)
                                }

                                function I() {
                                    var e = i(u);
                                    !e || "leave" === d && y.$$domOperationFired || e.end()
                                }

                                function C(t) {
                                    u.off("$destroy", I), n(u), v(u, y), m(u, y), y.domOperation(), D && e.removeClass(u, D), u.removeClass(X), M.complete(!t)
                                }
                                y = p(y);
                                var _ = ["enter", "move", "leave"].indexOf(d) >= 0,
                                    M = new c({
                                        end: function() {
                                            C()
                                        },
                                        cancel: function() {
                                            C(!0)
                                        }
                                    });
                                if (!o.length) return C(), M;
                                t(u, M);
                                var A = a(u.attr("class"), a(y.addClass, y.removeClass)),
                                    D = y.tempClasses;
                                D && (A += " " + D, y.tempClasses = null);
                                var T;
                                return _ && (T = "ng-" + d + "-prepare", e.addClass(u, T)), h.push({
                                    element: u,
                                    classes: A,
                                    event: d,
                                    structural: _,
                                    options: y,
                                    beforeStart: function() {
                                        u.addClass(X), D && e.addClass(u, D), T && (e.removeClass(u, T), T = null)
                                    },
                                    close: C
                                }), u.on("$destroy", I), h.length > 1 ? M : (r.$$postDigest(function() {
                                    var e = [];
                                    R(h, function(t) {
                                        i(t.element) ? e.push(t) : t.close()
                                    }), h.length = 0;
                                    var t = w(e),
                                        n = [];
                                    R(t, function(e) {
                                        n.push({
                                            domNode: b(e.from ? e.from.element : e.element),
                                            fn: function() {
                                                e.beforeStart();
                                                var t, n = e.close;
                                                if (i(e.anchors ? e.from.element || e.to.element : e.element)) {
                                                    var a = k(e);
                                                    a && (t = a.start)
                                                }
                                                if (t) {
                                                    var s = t();
                                                    s.done(function(e) {
                                                        n(!e)
                                                    }), S(e, s)
                                                } else n()
                                            }
                                        })
                                    }), f(g(n))
                                }), M)
                            }
                        }
                    ]
                }
            ],
            Ie = ["$animate", "$rootScope",
                function(e, t) {
                    return {
                        restrict: "A",
                        transclude: "element",
                        terminal: !0,
                        priority: 600,
                        link: function(t, n, a, i, s) {
                            var o, r;
                            t.$watchCollection(a.ngAnimateSwap || a.for, function(a) {
                                o && e.leave(o), r && (r.$destroy(), r = null), (a || 0 === a) && (r = t.$new(), s(r, function(t) {
                                    o = t, e.enter(t, null, n)
                                }))
                            })
                        }
                    }
                }
            ];
        t.module("ngAnimate", []).directive("ngAnimateSwap", Ie).directive("ngAnimateChildren", ue).factory("$$rAFScheduler", ce).provider("$$animateQueue", ke).provider("$$animation", Se).provider("$animateCss", ve).provider("$$animateCssDriver", be).provider("$$animateJs", ye).provider("$$animateJsDriver", $e)
    }(window, window.angular), angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.collapse", "ui.bootstrap.tabindex", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.isClass", "ui.bootstrap.datepicker", "ui.bootstrap.position", "ui.bootstrap.datepickerPopup", "ui.bootstrap.debounce", "ui.bootstrap.dropdown", "ui.bootstrap.stackedMap", "ui.bootstrap.modal", "ui.bootstrap.paging", "ui.bootstrap.pager", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead"]), angular.module("ui.bootstrap.tpls", ["uib/template/accordion/accordion-group.html", "uib/template/accordion/accordion.html", "uib/template/alert/alert.html", "uib/template/carousel/carousel.html", "uib/template/carousel/slide.html", "uib/template/datepicker/datepicker.html", "uib/template/datepicker/day.html", "uib/template/datepicker/month.html", "uib/template/datepicker/year.html", "uib/template/datepickerPopup/popup.html", "uib/template/modal/window.html", "uib/template/pager/pager.html", "uib/template/pagination/pagination.html", "uib/template/tooltip/tooltip-html-popup.html", "uib/template/tooltip/tooltip-popup.html", "uib/template/tooltip/tooltip-template-popup.html", "uib/template/popover/popover-html.html", "uib/template/popover/popover-template.html", "uib/template/popover/popover.html", "uib/template/progressbar/bar.html", "uib/template/progressbar/progress.html", "uib/template/progressbar/progressbar.html", "uib/template/rating/rating.html", "uib/template/tabs/tab.html", "uib/template/tabs/tabset.html", "uib/template/timepicker/timepicker.html", "uib/template/typeahead/typeahead-match.html", "uib/template/typeahead/typeahead-popup.html"]), angular.module("ui.bootstrap.collapse", []).directive("uibCollapse", ["$animate", "$q", "$parse", "$injector",
        function(e, t, n, a) {
            var i = a.has("$animateCss") ? a.get("$animateCss") : null;
            return {
                link: function(a, s, o) {
                    function r(e) {
                        return h ? {
                            width: e.scrollWidth + "px"
                        } : {
                            height: e.scrollHeight + "px"
                        }
                    }

                    function l() {
                        s.hasClass("collapse") && s.hasClass("in") || t.resolve(p(a)).then(function() {
                            s.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), i ? i(s, {
                                addClass: "in",
                                easing: "ease",
                                to: r(s[0])
                            }).start().finally(c) : e.addClass(s, "in", {
                                to: r(s[0])
                            }).then(c)
                        })
                    }

                    function c() {
                        s.removeClass("collapsing").addClass("collapse").css(v), m(a)
                    }

                    function u() {
                        if (!s.hasClass("collapse") && !s.hasClass("in")) return d();
                        t.resolve(f(a)).then(function() {
                            s.css(r(s[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), i ? i(s, {
                                removeClass: "in",
                                to: b
                            }).start().finally(d) : e.removeClass(s, "in", {
                                to: b
                            }).then(d)
                        })
                    }

                    function d() {
                        s.css(b), s.removeClass("collapsing").addClass("collapse"), g(a)
                    }
                    var p = n(o.expanding),
                        m = n(o.expanded),
                        f = n(o.collapsing),
                        g = n(o.collapsed),
                        h = !1,
                        v = {},
                        b = {};
                    (h = !!("horizontal" in o)) ? (v = {
                        width: "auto",
                        height: "inherit"
                    }, b = {
                        width: "0"
                    }) : (v = {
                        width: "inherit",
                        height: "auto"
                    }, b = {
                        height: "0"
                    }), a.$eval(o.uibCollapse) || s.addClass("in").addClass("collapse").attr("aria-expanded", !0).attr("aria-hidden", !1).css(v), a.$watch(o.uibCollapse, function(e) {
                        e ? u() : l()
                    })
                }
            }
        }
    ]), angular.module("ui.bootstrap.tabindex", []).directive("uibTabindexToggle", function() {
        return {
            restrict: "A",
            link: function(e, t, n) {
                n.$observe("disabled", function(e) {
                    n.$set("tabindex", e ? -1 : null)
                })
            }
        }
    }), angular.module("ui.bootstrap.accordion", ["ui.bootstrap.collapse", "ui.bootstrap.tabindex"]).constant("uibAccordionConfig", {
        closeOthers: !0
    }).controller("UibAccordionController", ["$scope", "$attrs", "uibAccordionConfig",
        function(e, t, n) {
            this.groups = [], this.closeOthers = function(a) {
                (angular.isDefined(t.closeOthers) ? e.$eval(t.closeOthers) : n.closeOthers) && angular.forEach(this.groups, function(e) {
                    e !== a && (e.isOpen = !1)
                })
            }, this.addGroup = function(e) {
                var t = this;
                this.groups.push(e), e.$on("$destroy", function(n) {
                    t.removeGroup(e)
                })
            }, this.removeGroup = function(e) {
                var t = this.groups.indexOf(e); - 1 !== t && this.groups.splice(t, 1)
            }
        }
    ]).directive("uibAccordion", function() {
        return {
            controller: "UibAccordionController",
            controllerAs: "accordion",
            transclude: !0,
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/accordion/accordion.html"
            }
        }
    }).directive("uibAccordionGroup", function() {
        return {
            require: "^uibAccordion",
            transclude: !0,
            restrict: "A",
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/accordion/accordion-group.html"
            },
            scope: {
                heading: "@",
                panelClass: "@?",
                isOpen: "=?",
                isDisabled: "=?"
            },
            controller: function() {
                this.setHeading = function(e) {
                    this.heading = e
                }
            },
            link: function(e, t, n, a) {
                t.addClass("panel"), a.addGroup(e), e.openClass = n.openClass || "panel-open", e.panelClass = n.panelClass || "panel-default", e.$watch("isOpen", function(n) {
                    t.toggleClass(e.openClass, !!n), n && a.closeOthers(e)
                }), e.toggleOpen = function(t) {
                    e.isDisabled || t && 32 !== t.which || (e.isOpen = !e.isOpen)
                };
                var i = "accordiongroup-" + e.$id + "-" + Math.floor(1e4 * Math.random());
                e.headingId = i + "-tab", e.panelId = i + "-panel"
            }
        }
    }).directive("uibAccordionHeading", function() {
        return {
            transclude: !0,
            template: "",
            replace: !0,
            require: "^uibAccordionGroup",
            link: function(e, t, n, a, i) {
                a.setHeading(i(e, angular.noop))
            }
        }
    }).directive("uibAccordionTransclude", function() {
        return {
            require: "^uibAccordionGroup",
            link: function(e, t, n, a) {
                e.$watch(function() {
                    return a[n.uibAccordionTransclude]
                }, function(e) {
                    if (e) {
                        var n = angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));
                        n.html(""), n.append(e)
                    }
                })
            }
        }
    }), angular.module("ui.bootstrap.alert", []).controller("UibAlertController", ["$scope", "$element", "$attrs", "$interpolate", "$timeout",
        function(e, t, n, a, i) {
            e.closeable = !!n.close, t.addClass("alert"), n.$set("role", "alert"), e.closeable && t.addClass("alert-dismissible");
            var s = angular.isDefined(n.dismissOnTimeout) ? a(n.dismissOnTimeout)(e.$parent) : null;
            s && i(function() {
                e.close()
            }, parseInt(s, 10))
        }
    ]).directive("uibAlert", function() {
        return {
            controller: "UibAlertController",
            controllerAs: "alert",
            restrict: "A",
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/alert/alert.html"
            },
            transclude: !0,
            scope: {
                close: "&"
            }
        }
    }), angular.module("ui.bootstrap.buttons", []).constant("uibButtonConfig", {
        activeClass: "active",
        toggleEvent: "click"
    }).controller("UibButtonsController", ["uibButtonConfig",
        function(e) {
            this.activeClass = e.activeClass || "active", this.toggleEvent = e.toggleEvent || "click"
        }
    ]).directive("uibBtnRadio", ["$parse",
        function(e) {
            return {
                require: ["uibBtnRadio", "ngModel"],
                controller: "UibButtonsController",
                controllerAs: "buttons",
                link: function(t, n, a, i) {
                    var s = i[0],
                        o = i[1],
                        r = e(a.uibUncheckable);
                    n.find("input").css({
                        display: "none"
                    }), o.$render = function() {
                        n.toggleClass(s.activeClass, angular.equals(o.$modelValue, t.$eval(a.uibBtnRadio)))
                    }, n.on(s.toggleEvent, function() {
                        if (!a.disabled) {
                            var e = n.hasClass(s.activeClass);
                            e && !angular.isDefined(a.uncheckable) || t.$apply(function() {
                                o.$setViewValue(e ? null : t.$eval(a.uibBtnRadio)), o.$render()
                            })
                        }
                    }), a.uibUncheckable && t.$watch(r, function(e) {
                        a.$set("uncheckable", e ? "" : void 0)
                    })
                }
            }
        }
    ]).directive("uibBtnCheckbox", function() {
        return {
            require: ["uibBtnCheckbox", "ngModel"],
            controller: "UibButtonsController",
            controllerAs: "button",
            link: function(e, t, n, a) {
                function i() {
                    return o(n.btnCheckboxTrue, !0)
                }

                function s() {
                    return o(n.btnCheckboxFalse, !1)
                }

                function o(t, n) {
                    return angular.isDefined(t) ? e.$eval(t) : n
                }
                var r = a[0],
                    l = a[1];
                t.find("input").css({
                    display: "none"
                }), l.$render = function() {
                    t.toggleClass(r.activeClass, angular.equals(l.$modelValue, i()))
                }, t.on(r.toggleEvent, function() {
                    n.disabled || e.$apply(function() {
                        l.$setViewValue(t.hasClass(r.activeClass) ? s() : i()), l.$render()
                    })
                })
            }
        }
    }), angular.module("ui.bootstrap.carousel", []).controller("UibCarouselController", ["$scope", "$element", "$interval", "$timeout", "$animate",
        function(e, t, n, a, i) {
            function s() {
                for (; b.length;) b.shift()
            }

            function o(e) {
                for (var t = 0; t < g.length; t++) g[t].slide.active = t === e
            }

            function r(n, a, l) {
                if (!y) {
                    if (angular.extend(n, {
                        direction: l
                    }), angular.extend(g[v].slide || {}, {
                        direction: l
                    }), i.enabled(t) && !e.$currentTransition && g[a].element && f.slides.length > 1) {
                        g[a].element.data(h, n.direction);
                        var c = f.getCurrentIndex();
                        angular.isNumber(c) && g[c].element && g[c].element.data(h, n.direction), e.$currentTransition = !0, i.on("addClass", g[a].element, function(t, n) {
                            if ("close" === n && (e.$currentTransition = null, i.off("addClass", t), b.length)) {
                                var a = b.pop().slide,
                                    o = a.index,
                                    l = o > f.getCurrentIndex() ? "next" : "prev";
                                s(), r(a, o, l)
                            }
                        })
                    }
                    e.active = n.index, v = n.index, o(a), u()
                }
            }

            function l(e) {
                for (var t = 0; t < g.length; t++)
                    if (g[t].slide === e) return t
            }

            function c() {
                p && (n.cancel(p), p = null)
            }

            function u() {
                c();
                var t = +e.interval;
                !isNaN(t) && t > 0 && (p = n(d, t))
            }

            function d() {
                var t = +e.interval;
                m && !isNaN(t) && t > 0 && g.length ? e.next() : e.pause()
            }
            var p, m, f = this,
                g = f.slides = e.slides = [],
                h = "uib-slideDirection",
                v = e.active,
                b = [],
                y = !1;
            t.addClass("carousel"), f.addSlide = function(t, n) {
                g.push({
                    slide: t,
                    element: n
                }), g.sort(function(e, t) {
                    return +e.slide.index - +t.slide.index
                }), (t.index === e.active || 1 === g.length && !angular.isNumber(e.active)) && (e.$currentTransition && (e.$currentTransition = null), v = t.index, e.active = t.index, o(v), f.select(g[l(t)]), 1 === g.length && e.play())
            }, f.getCurrentIndex = function() {
                for (var e = 0; e < g.length; e++)
                    if (g[e].slide.index === v) return e
            }, f.next = e.next = function() {
                var t = (f.getCurrentIndex() + 1) % g.length; {
                    if (0 !== t || !e.noWrap()) return f.select(g[t], "next");
                    e.pause()
                }
            }, f.prev = e.prev = function() {
                var t = f.getCurrentIndex() - 1 < 0 ? g.length - 1 : f.getCurrentIndex() - 1; {
                    if (!e.noWrap() || t !== g.length - 1) return f.select(g[t], "prev");
                    e.pause()
                }
            }, f.removeSlide = function(t) {
                var n = l(t),
                    a = b.indexOf(g[n]); - 1 !== a && b.splice(a, 1), g.splice(n, 1), g.length > 0 && v === n ? n >= g.length ? (v = g.length - 1, e.active = v, o(v), f.select(g[g.length - 1])) : (v = n, e.active = v, o(v), f.select(g[n])) : v > n && (v--, e.active = v), 0 === g.length && (v = null, e.active = null, s())
            }, f.select = e.select = function(t, n) {
                var a = l(t.slide);
                void 0 === n && (n = a > f.getCurrentIndex() ? "next" : "prev"), t.slide.index === v || e.$currentTransition ? t && t.slide.index !== v && e.$currentTransition && b.push(g[a]) : r(t.slide, a, n)
            }, e.indexOfSlide = function(e) {
                return +e.slide.index
            }, e.isActive = function(t) {
                return e.active === t.slide.index
            }, e.isPrevDisabled = function() {
                return 0 === e.active && e.noWrap()
            }, e.isNextDisabled = function() {
                return e.active === g.length - 1 && e.noWrap()
            }, e.pause = function() {
                e.noPause || (m = !1, c())
            }, e.play = function() {
                m || (m = !0, u())
            }, t.on("mouseenter", e.pause), t.on("mouseleave", e.play), e.$on("$destroy", function() {
                y = !0, c()
            }), e.$watch("noTransition", function(e) {
                i.enabled(t, !e)
            }), e.$watch("interval", u), e.$watchCollection("slides", function(t) {
                t.length || (e.$currentTransition = null, s())
            }), e.$watch("active", function(e) {
                if (angular.isNumber(e) && v !== e) {
                    for (var t = 0; t < g.length; t++)
                        if (g[t].slide.index === e) {
                            e = t;
                            break
                        }
                    g[e] && (o(e), f.select(g[e]), v = e)
                }
            })
        }
    ]).directive("uibCarousel", function() {
        return {
            transclude: !0,
            controller: "UibCarouselController",
            controllerAs: "carousel",
            restrict: "A",
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/carousel/carousel.html"
            },
            scope: {
                active: "=",
                interval: "=",
                noTransition: "=",
                noPause: "=",
                noWrap: "&"
            }
        }
    }).directive("uibSlide", ["$animate",
        function(e) {
            return {
                require: "^uibCarousel",
                restrict: "A",
                transclude: !0,
                templateUrl: function(e, t) {
                    return t.templateUrl || "uib/template/carousel/slide.html"
                },
                scope: {
                    actual: "=?",
                    index: "=?"
                },
                link: function(t, n, a, i) {
                    n.addClass("item"), i.addSlide(t, n), t.$on("$destroy", function() {
                        i.removeSlide(t)
                    }), t.$watch("active", function(t) {
                        e[t ? "addClass" : "removeClass"](n, "active")
                    })
                }
            }
        }
    ]).animation(".item", ["$animateCss",
        function(e) {
            function t(e, t, n) {
                e.removeClass(t), n && n()
            }
            return {
                beforeAddClass: function(n, a, i) {
                    if ("active" === a) {
                        var s = !1,
                            o = n.data("uib-slideDirection"),
                            r = "next" === o ? "left" : "right",
                            l = t.bind(this, n, r + " " + o, i);
                        return n.addClass(o), e(n, {
                                addClass: r
                            }).start().done(l),
                            function() {
                                s = !0
                            }
                    }
                    i()
                },
                beforeRemoveClass: function(n, a, i) {
                    if ("active" === a) {
                        var s = !1,
                            o = "next" === n.data("uib-slideDirection") ? "left" : "right",
                            r = t.bind(this, n, o, i);
                        return e(n, {
                                addClass: o
                            }).start().done(r),
                            function() {
                                s = !0
                            }
                    }
                    i()
                }
            }
        }
    ]), angular.module("ui.bootstrap.dateparser", []).service("uibDateParser", ["$log", "$locale", "dateFilter", "orderByFilter",
        function(e, t, n, a) {
            function i(e) {
                var t = [],
                    n = e.split(""),
                    i = e.indexOf("'");
                if (i > -1) {
                    var s = !1;
                    e = e.split("");
                    for (var o = i; o < e.length; o++) s ? ("'" === e[o] && (o + 1 < e.length && "'" === e[o + 1] ? (e[o + 1] = "$", n[o + 1] = "") : (n[o] = "", s = !1)), e[o] = "$") : "'" === e[o] && (e[o] = "$", n[o] = "", s = !0);
                    e = e.join("")
                }
                return angular.forEach(f, function(a) {
                    var i = e.indexOf(a.key);
                    if (i > -1) {
                        e = e.split(""), n[i] = "(" + a.regex + ")", e[i] = "$";
                        for (var s = i + 1, o = i + a.key.length; s < o; s++) n[s] = "", e[s] = "$";
                        e = e.join(""), t.push({
                            index: i,
                            key: a.key,
                            apply: a.apply,
                            matcher: a.regex
                        })
                    }
                }), {
                    regex: new RegExp("^" + n.join("") + "$"),
                    map: a(t, "index")
                }
            }

            function s(e) {
                for (var t, n, a = [], i = 0; i < e.length;)
                    if (angular.isNumber(n)) {
                        if ("'" === e.charAt(i))(i + 1 >= e.length || "'" !== e.charAt(i + 1)) && (a.push(o(e, n, i)), n = null);
                        else if (i === e.length)
                            for (; n < e.length;) t = r(e, n), a.push(t), n = t.endIdx;
                        i++
                    } else "'" !== e.charAt(i) ? (t = r(e, i), a.push(t.parser), i = t.endIdx) : (n = i, i++);
                return a
            }

            function o(e, t, n) {
                return function() {
                    return e.substr(t + 1, n - t - 1)
                }
            }

            function r(e, t) {
                for (var n = e.substr(t), a = 0; a < f.length; a++)
                    if (new RegExp("^" + f[a].key).test(n)) {
                        var i = f[a];
                        return {
                            endIdx: t + i.key.length,
                            parser: i.formatter
                        }
                    }
                return {
                    endIdx: t + 1,
                    parser: function() {
                        return n.charAt(0)
                    }
                }
            }

            function l(e, t, n) {
                return !(n < 1) && (1 === t && n > 28 ? 29 === n && (e % 4 == 0 && e % 100 != 0 || e % 400 == 0) : 3 !== t && 5 !== t && 8 !== t && 10 !== t || n < 31)
            }

            function c(e) {
                return parseInt(e, 10)
            }

            function u(e, t) {
                e = e.replace(/:/g, "");
                var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
                return isNaN(n) ? t : n
            }

            function d(e, t) {
                return (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t), e
            }

            function p(e, t, n) {
                n = n ? -1 : 1;
                var a = e.getTimezoneOffset();
                return d(e, n * (u(t, a) - a))
            }
            var m, f, g = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
            this.init = function() {
                m = t.id, this.parsers = {}, this.formatters = {}, f = [{
                    key: "yyyy",
                    regex: "\\d{4}",
                    apply: function(e) {
                        this.year = +e
                    },
                    formatter: function(e) {
                        var t = new Date;
                        return t.setFullYear(Math.abs(e.getFullYear())), n(t, "yyyy")
                    }
                }, {
                    key: "yy",
                    regex: "\\d{2}",
                    apply: function(e) {
                        e = +e, this.year = e < 69 ? e + 2e3 : e + 1900
                    },
                    formatter: function(e) {
                        var t = new Date;
                        return t.setFullYear(Math.abs(e.getFullYear())), n(t, "yy")
                    }
                }, {
                    key: "y",
                    regex: "\\d{1,4}",
                    apply: function(e) {
                        this.year = +e
                    },
                    formatter: function(e) {
                        var t = new Date;
                        return t.setFullYear(Math.abs(e.getFullYear())), n(t, "y")
                    }
                }, {
                    key: "M!",
                    regex: "0?[1-9]|1[0-2]",
                    apply: function(e) {
                        this.month = e - 1
                    },
                    formatter: function(e) {
                        var t = e.getMonth();
                        return /^[0-9]$/.test(t) ? n(e, "MM") : n(e, "M")
                    }
                }, {
                    key: "MMMM",
                    regex: t.DATETIME_FORMATS.MONTH.join("|"),
                    apply: function(e) {
                        this.month = t.DATETIME_FORMATS.MONTH.indexOf(e)
                    },
                    formatter: function(e) {
                        return n(e, "MMMM")
                    }
                }, {
                    key: "MMM",
                    regex: t.DATETIME_FORMATS.SHORTMONTH.join("|"),
                    apply: function(e) {
                        this.month = t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)
                    },
                    formatter: function(e) {
                        return n(e, "MMM")
                    }
                }, {
                    key: "MM",
                    regex: "0[1-9]|1[0-2]",
                    apply: function(e) {
                        this.month = e - 1
                    },
                    formatter: function(e) {
                        return n(e, "MM")
                    }
                }, {
                    key: "M",
                    regex: "[1-9]|1[0-2]",
                    apply: function(e) {
                        this.month = e - 1
                    },
                    formatter: function(e) {
                        return n(e, "M")
                    }
                }, {
                    key: "d!",
                    regex: "[0-2]?[0-9]{1}|3[0-1]{1}",
                    apply: function(e) {
                        this.date = +e
                    },
                    formatter: function(e) {
                        var t = e.getDate();
                        return /^[1-9]$/.test(t) ? n(e, "dd") : n(e, "d")
                    }
                }, {
                    key: "dd",
                    regex: "[0-2][0-9]{1}|3[0-1]{1}",
                    apply: function(e) {
                        this.date = +e
                    },
                    formatter: function(e) {
                        return n(e, "dd")
                    }
                }, {
                    key: "d",
                    regex: "[1-2]?[0-9]{1}|3[0-1]{1}",
                    apply: function(e) {
                        this.date = +e
                    },
                    formatter: function(e) {
                        return n(e, "d")
                    }
                }, {
                    key: "EEEE",
                    regex: t.DATETIME_FORMATS.DAY.join("|"),
                    formatter: function(e) {
                        return n(e, "EEEE")
                    }
                }, {
                    key: "EEE",
                    regex: t.DATETIME_FORMATS.SHORTDAY.join("|"),
                    formatter: function(e) {
                        return n(e, "EEE")
                    }
                }, {
                    key: "HH",
                    regex: "(?:0|1)[0-9]|2[0-3]",
                    apply: function(e) {
                        this.hours = +e
                    },
                    formatter: function(e) {
                        return n(e, "HH")
                    }
                }, {
                    key: "hh",
                    regex: "0[0-9]|1[0-2]",
                    apply: function(e) {
                        this.hours = +e
                    },
                    formatter: function(e) {
                        return n(e, "hh")
                    }
                }, {
                    key: "H",
                    regex: "1?[0-9]|2[0-3]",
                    apply: function(e) {
                        this.hours = +e
                    },
                    formatter: function(e) {
                        return n(e, "H")
                    }
                }, {
                    key: "h",
                    regex: "[0-9]|1[0-2]",
                    apply: function(e) {
                        this.hours = +e
                    },
                    formatter: function(e) {
                        return n(e, "h")
                    }
                }, {
                    key: "mm",
                    regex: "[0-5][0-9]",
                    apply: function(e) {
                        this.minutes = +e
                    },
                    formatter: function(e) {
                        return n(e, "mm")
                    }
                }, {
                    key: "m",
                    regex: "[0-9]|[1-5][0-9]",
                    apply: function(e) {
                        this.minutes = +e
                    },
                    formatter: function(e) {
                        return n(e, "m")
                    }
                }, {
                    key: "sss",
                    regex: "[0-9][0-9][0-9]",
                    apply: function(e) {
                        this.milliseconds = +e
                    },
                    formatter: function(e) {
                        return n(e, "sss")
                    }
                }, {
                    key: "ss",
                    regex: "[0-5][0-9]",
                    apply: function(e) {
                        this.seconds = +e
                    },
                    formatter: function(e) {
                        return n(e, "ss")
                    }
                }, {
                    key: "s",
                    regex: "[0-9]|[1-5][0-9]",
                    apply: function(e) {
                        this.seconds = +e
                    },
                    formatter: function(e) {
                        return n(e, "s")
                    }
                }, {
                    key: "a",
                    regex: t.DATETIME_FORMATS.AMPMS.join("|"),
                    apply: function(e) {
                        12 === this.hours && (this.hours = 0), "PM" === e && (this.hours += 12)
                    },
                    formatter: function(e) {
                        return n(e, "a")
                    }
                }, {
                    key: "Z",
                    regex: "[+-]\\d{4}",
                    apply: function(e) {
                        var t = e.match(/([+-])(\d{2})(\d{2})/),
                            n = t[1],
                            a = t[2],
                            i = t[3];
                        this.hours += c(n + a), this.minutes += c(n + i)
                    },
                    formatter: function(e) {
                        return n(e, "Z")
                    }
                }, {
                    key: "ww",
                    regex: "[0-4][0-9]|5[0-3]",
                    formatter: function(e) {
                        return n(e, "ww")
                    }
                }, {
                    key: "w",
                    regex: "[0-9]|[1-4][0-9]|5[0-3]",
                    formatter: function(e) {
                        return n(e, "w")
                    }
                }, {
                    key: "GGGG",
                    regex: t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g, "\\s"),
                    formatter: function(e) {
                        return n(e, "GGGG")
                    }
                }, {
                    key: "GGG",
                    regex: t.DATETIME_FORMATS.ERAS.join("|"),
                    formatter: function(e) {
                        return n(e, "GGG")
                    }
                }, {
                    key: "GG",
                    regex: t.DATETIME_FORMATS.ERAS.join("|"),
                    formatter: function(e) {
                        return n(e, "GG")
                    }
                }, {
                    key: "G",
                    regex: t.DATETIME_FORMATS.ERAS.join("|"),
                    formatter: function(e) {
                        return n(e, "G")
                    }
                }]
            }, this.init(), this.filter = function(e, n) {
                return angular.isDate(e) && !isNaN(e) && n ? (n = t.DATETIME_FORMATS[n] || n, t.id !== m && this.init(), this.formatters[n] || (this.formatters[n] = s(n)), this.formatters[n].reduce(function(t, n) {
                    return t + n(e)
                }, "")) : ""
            }, this.parse = function(n, a, s) {
                if (!angular.isString(n) || !a) return n;
                a = (a = t.DATETIME_FORMATS[a] || a).replace(g, "\\$&"), t.id !== m && this.init(), this.parsers[a] || (this.parsers[a] = i(a));
                var o = this.parsers[a],
                    r = o.regex,
                    c = o.map,
                    u = n.match(r),
                    d = !1;
                if (u && u.length) {
                    var p, f;
                    angular.isDate(s) && !isNaN(s.getTime()) ? p = {
                        year: s.getFullYear(),
                        month: s.getMonth(),
                        date: s.getDate(),
                        hours: s.getHours(),
                        minutes: s.getMinutes(),
                        seconds: s.getSeconds(),
                        milliseconds: s.getMilliseconds()
                    } : (s && e.warn("dateparser:", "baseDate is not a valid date"), p = {
                        year: 1900,
                        month: 0,
                        date: 1,
                        hours: 0,
                        minutes: 0,
                        seconds: 0,
                        milliseconds: 0
                    });
                    for (var h = 1, v = u.length; h < v; h++) {
                        var b = c[h - 1];
                        "Z" === b.matcher && (d = !0), b.apply && b.apply.call(p, u[h])
                    }
                    var y = d ? Date.prototype.setUTCFullYear : Date.prototype.setFullYear,
                        $ = d ? Date.prototype.setUTCHours : Date.prototype.setHours;
                    return l(p.year, p.month, p.date) && (!angular.isDate(s) || isNaN(s.getTime()) || d ? (f = new Date(0), y.call(f, p.year, p.month, p.date), $.call(f, p.hours || 0, p.minutes || 0, p.seconds || 0, p.milliseconds || 0)) : (f = new Date(s), y.call(f, p.year, p.month, p.date), $.call(f, p.hours, p.minutes, p.seconds, p.milliseconds))), f
                }
            }, this.toTimezone = function(e, t) {
                return e && t ? p(e, t) : e
            }, this.fromTimezone = function(e, t) {
                return e && t ? p(e, t, !0) : e
            }, this.timezoneToOffset = u, this.addDateMinutes = d, this.convertTimezoneToLocal = p
        }
    ]), angular.module("ui.bootstrap.isClass", []).directive("uibIsClass", ["$animate",
        function(e) {
            var t = /^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,
                n = /^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;
            return {
                restrict: "A",
                compile: function(a, i) {
                    function s(t, a) {
                        var i = t.match(n),
                            s = a.$eval(i[1]),
                            o = i[2],
                            r = c[t];
                        if (!r) {
                            var u = function(t) {
                                var n = null;
                                l.some(function(e) {
                                    if (e.scope.$eval(d) === t) return n = e, !0
                                }), r.lastActivated !== n && (r.lastActivated && e.removeClass(r.lastActivated.element, s), n && e.addClass(n.element, s), r.lastActivated = n)
                            };
                            c[t] = r = {
                                lastActivated: null,
                                scope: a,
                                watchFn: u,
                                compareWithExp: o,
                                watcher: a.$watch(o, u)
                            }
                        }
                        r.watchFn(a.$eval(o))
                    }

                    function o(e) {
                        var t = e.targetScope,
                            n = r.indexOf(t);
                        if (r.splice(n, 1), l.splice(n, 1), r.length) {
                            var a = r[0];
                            angular.forEach(c, function(e) {
                                e.scope === t && (e.watcher = a.$watch(e.compareWithExp, e.watchFn), e.scope = a)
                            })
                        } else c = {}
                    }
                    var r = [],
                        l = [],
                        c = {},
                        u = i.uibIsClass.match(t),
                        d = u[2],
                        p = u[1].split(",");
                    return function(e, t, n) {
                        r.push(e), l.push({
                            scope: e,
                            element: t
                        }), p.forEach(function(t, n) {
                            s(t, e)
                        }), e.$on("$destroy", o)
                    }
                }
            }
        }
    ]), angular.module("ui.bootstrap.datepicker", ["ui.bootstrap.dateparser", "ui.bootstrap.isClass"]).value("$datepickerSuppressError", !1).value("$datepickerLiteralWarning", !0).constant("uibDatepickerConfig", {
        datepickerMode: "day",
        formatDay: "dd",
        formatMonth: "MMMM",
        formatYear: "yyyy",
        formatDayHeader: "EEE",
        formatDayTitle: "MMMM yyyy",
        formatMonthTitle: "yyyy",
        maxDate: null,
        maxMode: "year",
        minDate: null,
        minMode: "day",
        monthColumns: 3,
        ngModelOptions: {},
        shortcutPropagation: !1,
        showWeeks: !0,
        yearColumns: 5,
        yearRows: 4
    }).controller("UibDatepickerController", ["$scope", "$element", "$attrs", "$parse", "$interpolate", "$locale", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerLiteralWarning", "$datepickerSuppressError", "uibDateParser",
        function(e, t, n, a, i, s, o, r, l, c, u, d) {
            function p(t) {
                e.datepickerMode = t, e.datepickerOptions.datepickerMode = t
            }
            var m = this,
                f = {
                    $setViewValue: angular.noop
                },
                g = {},
                h = [];
            t.addClass("uib-datepicker"), n.$set("role", "application"), e.datepickerOptions || (e.datepickerOptions = {}), this.modes = ["day", "month", "year"], ["customClass", "dateDisabled", "datepickerMode", "formatDay", "formatDayHeader", "formatDayTitle", "formatMonth", "formatMonthTitle", "formatYear", "maxDate", "maxMode", "minDate", "minMode", "monthColumns", "showWeeks", "shortcutPropagation", "startingDay", "yearColumns", "yearRows"].forEach(function(t) {
                switch (t) {
                    case "customClass":
                    case "dateDisabled":
                        e[t] = e.datepickerOptions[t] || angular.noop;
                        break;
                    case "datepickerMode":
                        e.datepickerMode = angular.isDefined(e.datepickerOptions.datepickerMode) ? e.datepickerOptions.datepickerMode : l.datepickerMode;
                        break;
                    case "formatDay":
                    case "formatDayHeader":
                    case "formatDayTitle":
                    case "formatMonth":
                    case "formatMonthTitle":
                    case "formatYear":
                        m[t] = angular.isDefined(e.datepickerOptions[t]) ? i(e.datepickerOptions[t])(e.$parent) : l[t];
                        break;
                    case "monthColumns":
                    case "showWeeks":
                    case "shortcutPropagation":
                    case "yearColumns":
                    case "yearRows":
                        m[t] = angular.isDefined(e.datepickerOptions[t]) ? e.datepickerOptions[t] : l[t];
                        break;
                    case "startingDay":
                        angular.isDefined(e.datepickerOptions.startingDay) ? m.startingDay = e.datepickerOptions.startingDay : angular.isNumber(l.startingDay) ? m.startingDay = l.startingDay : m.startingDay = (s.DATETIME_FORMATS.FIRSTDAYOFWEEK + 8) % 7;
                        break;
                    case "maxDate":
                    case "minDate":
                        e.$watch("datepickerOptions." + t, function(e) {
                            e ? angular.isDate(e) ? m[t] = d.fromTimezone(new Date(e), g.timezone) : (c && o.warn("Literal date support has been deprecated, please switch to date object usage"), m[t] = new Date(r(e, "medium"))) : m[t] = l[t] ? d.fromTimezone(new Date(l[t]), g.timezone) : null, m.refreshView()
                        });
                        break;
                    case "maxMode":
                    case "minMode":
                        e.datepickerOptions[t] ? e.$watch(function() {
                            return e.datepickerOptions[t]
                        }, function(n) {
                            m[t] = e[t] = angular.isDefined(n) ? n : datepickerOptions[t], ("minMode" === t && m.modes.indexOf(e.datepickerOptions.datepickerMode) < m.modes.indexOf(m[t]) || "maxMode" === t && m.modes.indexOf(e.datepickerOptions.datepickerMode) > m.modes.indexOf(m[t])) && (e.datepickerMode = m[t], e.datepickerOptions.datepickerMode = m[t])
                        }) : m[t] = e[t] = l[t] || null
                }
            }), e.uniqueId = "datepicker-" + e.$id + "-" + Math.floor(1e4 * Math.random()), e.disabled = angular.isDefined(n.disabled) || !1, angular.isDefined(n.ngDisabled) && h.push(e.$parent.$watch(n.ngDisabled, function(t) {
                e.disabled = t, m.refreshView()
            })), e.isActive = function(t) {
                return 0 === m.compare(t.date, m.activeDate) && (e.activeDateId = t.uid, !0)
            }, this.init = function(t) {
                f = t, g = t.$options || e.datepickerOptions.ngModelOptions || l.ngModelOptions, e.datepickerOptions.initDate ? (m.activeDate = d.fromTimezone(e.datepickerOptions.initDate, g.timezone) || new Date, e.$watch("datepickerOptions.initDate", function(e) {
                    e && (f.$isEmpty(f.$modelValue) || f.$invalid) && (m.activeDate = d.fromTimezone(e, g.timezone), m.refreshView())
                })) : m.activeDate = new Date;
                var n = f.$modelValue ? new Date(f.$modelValue) : new Date;
                this.activeDate = isNaN(n) ? d.fromTimezone(new Date, g.timezone) : d.fromTimezone(n, g.timezone), f.$render = function() {
                    m.render()
                }
            }, this.render = function() {
                if (f.$viewValue) {
                    var e = new Date(f.$viewValue);
                    !isNaN(e) ? this.activeDate = d.fromTimezone(e, g.timezone) : u || o.error('Datepicker directive: "ng-model" value must be a Date object')
                }
                this.refreshView()
            }, this.refreshView = function() {
                if (this.element) {
                    e.selectedDt = null, this._refreshView(), e.activeDt && (e.activeDateId = e.activeDt.uid);
                    var t = f.$viewValue ? new Date(f.$viewValue) : null;
                    t = d.fromTimezone(t, g.timezone), f.$setValidity("dateDisabled", !t || this.element && !this.isDisabled(t))
                }
            }, this.createDateObject = function(t, n) {
                var a = f.$viewValue ? new Date(f.$viewValue) : null;
                a = d.fromTimezone(a, g.timezone);
                var i = new Date;
                i = d.fromTimezone(i, g.timezone);
                var s = this.compare(t, i),
                    o = {
                        date: t,
                        label: d.filter(t, n),
                        selected: a && 0 === this.compare(t, a),
                        disabled: this.isDisabled(t),
                        past: s < 0,
                        current: 0 === s,
                        future: s > 0,
                        customClass: this.customClass(t) || null
                    };
                return a && 0 === this.compare(t, a) && (e.selectedDt = o), m.activeDate && 0 === this.compare(o.date, m.activeDate) && (e.activeDt = o), o
            }, this.isDisabled = function(t) {
                return e.disabled || this.minDate && this.compare(t, this.minDate) < 0 || this.maxDate && this.compare(t, this.maxDate) > 0 || e.dateDisabled && e.dateDisabled({
                    date: t,
                    mode: e.datepickerMode
                })
            }, this.customClass = function(t) {
                return e.customClass({
                    date: t,
                    mode: e.datepickerMode
                })
            }, this.split = function(e, t) {
                for (var n = []; e.length > 0;) n.push(e.splice(0, t));
                return n
            }, e.select = function(t) {
                if (e.datepickerMode === m.minMode) {
                    var n = f.$viewValue ? d.fromTimezone(new Date(f.$viewValue), g.timezone) : new Date(0, 0, 0, 0, 0, 0, 0);
                    n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), n = d.toTimezone(n, g.timezone), f.$setViewValue(n), f.$render()
                } else m.activeDate = t, p(m.modes[m.modes.indexOf(e.datepickerMode) - 1]), e.$emit("uib:datepicker.mode");
                e.$broadcast("uib:datepicker.focus")
            }, e.move = function(e) {
                var t = m.activeDate.getFullYear() + e * (m.step.years || 0),
                    n = m.activeDate.getMonth() + e * (m.step.months || 0);
                m.activeDate.setFullYear(t, n, 1), m.refreshView()
            }, e.toggleMode = function(t) {
                t = t || 1, e.datepickerMode === m.maxMode && 1 === t || e.datepickerMode === m.minMode && -1 === t || (p(m.modes[m.modes.indexOf(e.datepickerMode) + t]), e.$emit("uib:datepicker.mode"))
            }, e.keys = {
                13: "enter",
                32: "space",
                33: "pageup",
                34: "pagedown",
                35: "end",
                36: "home",
                37: "left",
                38: "up",
                39: "right",
                40: "down"
            };
            e.$on("uib:datepicker.focus", function() {
                m.element[0].focus()
            }), e.keydown = function(t) {
                var n = e.keys[t.which];
                if (n && !t.shiftKey && !t.altKey && !e.disabled)
                    if (t.preventDefault(), m.shortcutPropagation || t.stopPropagation(), "enter" === n || "space" === n) {
                        if (m.isDisabled(m.activeDate)) return;
                        e.select(m.activeDate)
                    } else !t.ctrlKey || "up" !== n && "down" !== n ? (m.handleKeyDown(n, t), m.refreshView()) : e.toggleMode("up" === n ? 1 : -1)
            }, t.on("keydown", function(t) {
                e.$apply(function() {
                    e.keydown(t)
                })
            }), e.$on("$destroy", function() {
                for (; h.length;) h.shift()()
            })
        }
    ]).controller("UibDaypickerController", ["$scope", "$element", "dateFilter",
        function(e, t, n) {
            function a(e, t) {
                return 1 !== t || e % 4 != 0 || e % 100 == 0 && e % 400 != 0 ? s[t] : 29
            }

            function i(e) {
                var t = new Date(e);
                t.setDate(t.getDate() + 4 - (t.getDay() || 7));
                var n = t.getTime();
                return t.setMonth(0), t.setDate(1), Math.floor(Math.round((n - t) / 864e5) / 7) + 1
            }
            var s = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            this.step = {
                months: 1
            }, this.element = t, this.init = function(t) {
                angular.extend(t, this), e.showWeeks = t.showWeeks, t.refreshView()
            }, this.getDates = function(e, t) {
                for (var n, a = new Array(t), i = new Date(e), s = 0; s < t;) n = new Date(i), a[s++] = n, i.setDate(i.getDate() + 1);
                return a
            }, this._refreshView = function() {
                var t = this.activeDate.getFullYear(),
                    a = this.activeDate.getMonth(),
                    s = new Date(this.activeDate);
                s.setFullYear(t, a, 1);
                var o = this.startingDay - s.getDay(),
                    r = o > 0 ? 7 - o : -o,
                    l = new Date(s);
                r > 0 && l.setDate(1 - r);
                for (var c = this.getDates(l, 42), u = 0; u < 42; u++) c[u] = angular.extend(this.createDateObject(c[u], this.formatDay), {
                    secondary: c[u].getMonth() !== a,
                    uid: e.uniqueId + "-" + u
                });
                e.labels = new Array(7);
                for (var d = 0; d < 7; d++) e.labels[d] = {
                    abbr: n(c[d].date, this.formatDayHeader),
                    full: n(c[d].date, "EEEE")
                };
                if (e.title = n(this.activeDate, this.formatDayTitle), e.rows = this.split(c, 7), e.showWeeks) {
                    e.weekNumbers = [];
                    for (var p = (11 - this.startingDay) % 7, m = e.rows.length, f = 0; f < m; f++) e.weekNumbers.push(i(e.rows[f][p].date))
                }
            }, this.compare = function(e, t) {
                var n = new Date(e.getFullYear(), e.getMonth(), e.getDate()),
                    a = new Date(t.getFullYear(), t.getMonth(), t.getDate());
                return n.setFullYear(e.getFullYear()), a.setFullYear(t.getFullYear()), n - a
            }, this.handleKeyDown = function(e, t) {
                var n = this.activeDate.getDate();
                if ("left" === e) n -= 1;
                else if ("up" === e) n -= 7;
                else if ("right" === e) n += 1;
                else if ("down" === e) n += 7;
                else if ("pageup" === e || "pagedown" === e) {
                    var i = this.activeDate.getMonth() + ("pageup" === e ? -1 : 1);
                    this.activeDate.setMonth(i, 1), n = Math.min(a(this.activeDate.getFullYear(), this.activeDate.getMonth()), n)
                } else "home" === e ? n = 1 : "end" === e && (n = a(this.activeDate.getFullYear(), this.activeDate.getMonth()));
                this.activeDate.setDate(n)
            }
        }
    ]).controller("UibMonthpickerController", ["$scope", "$element", "dateFilter",
        function(e, t, n) {
            this.step = {
                years: 1
            }, this.element = t, this.init = function(e) {
                angular.extend(e, this), e.refreshView()
            }, this._refreshView = function() {
                for (var t, a = new Array(12), i = this.activeDate.getFullYear(), s = 0; s < 12; s++)(t = new Date(this.activeDate)).setFullYear(i, s, 1), a[s] = angular.extend(this.createDateObject(t, this.formatMonth), {
                    uid: e.uniqueId + "-" + s
                });
                e.title = n(this.activeDate, this.formatMonthTitle), e.rows = this.split(a, this.monthColumns), e.yearHeaderColspan = this.monthColumns > 3 ? this.monthColumns - 2 : 1
            }, this.compare = function(e, t) {
                var n = new Date(e.getFullYear(), e.getMonth()),
                    a = new Date(t.getFullYear(), t.getMonth());
                return n.setFullYear(e.getFullYear()), a.setFullYear(t.getFullYear()), n - a
            }, this.handleKeyDown = function(e, t) {
                var n = this.activeDate.getMonth();
                if ("left" === e) n -= 1;
                else if ("up" === e) n -= this.monthColumns;
                else if ("right" === e) n += 1;
                else if ("down" === e) n += this.monthColumns;
                else if ("pageup" === e || "pagedown" === e) {
                    var a = this.activeDate.getFullYear() + ("pageup" === e ? -1 : 1);
                    this.activeDate.setFullYear(a)
                } else "home" === e ? n = 0 : "end" === e && (n = 11);
                this.activeDate.setMonth(n)
            }
        }
    ]).controller("UibYearpickerController", ["$scope", "$element", "dateFilter",
        function(e, t, n) {
            function a(e) {
                return parseInt((e - 1) / s, 10) * s + 1
            }
            var i, s;
            this.element = t, this.yearpickerInit = function() {
                i = this.yearColumns, s = this.yearRows * i, this.step = {
                    years: s
                }
            }, this._refreshView = function() {
                for (var t, n = new Array(s), o = 0, r = a(this.activeDate.getFullYear()); o < s; o++)(t = new Date(this.activeDate)).setFullYear(r + o, 0, 1), n[o] = angular.extend(this.createDateObject(t, this.formatYear), {
                    uid: e.uniqueId + "-" + o
                });
                e.title = [n[0].label, n[s - 1].label].join(" - "), e.rows = this.split(n, i), e.columns = i
            }, this.compare = function(e, t) {
                return e.getFullYear() - t.getFullYear()
            }, this.handleKeyDown = function(e, t) {
                var n = this.activeDate.getFullYear();
                "left" === e ? n -= 1 : "up" === e ? n -= i : "right" === e ? n += 1 : "down" === e ? n += i : "pageup" === e || "pagedown" === e ? n += ("pageup" === e ? -1 : 1) * s : "home" === e ? n = a(this.activeDate.getFullYear()) : "end" === e && (n = a(this.activeDate.getFullYear()) + s - 1), this.activeDate.setFullYear(n)
            }
        }
    ]).directive("uibDatepicker", function() {
        return {
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/datepicker/datepicker.html"
            },
            scope: {
                datepickerOptions: "=?"
            },
            require: ["uibDatepicker", "^ngModel"],
            restrict: "A",
            controller: "UibDatepickerController",
            controllerAs: "datepicker",
            link: function(e, t, n, a) {
                var i = a[0],
                    s = a[1];
                i.init(s)
            }
        }
    }).directive("uibDaypicker", function() {
        return {
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/datepicker/day.html"
            },
            require: ["^uibDatepicker", "uibDaypicker"],
            restrict: "A",
            controller: "UibDaypickerController",
            link: function(e, t, n, a) {
                var i = a[0];
                a[1].init(i)
            }
        }
    }).directive("uibMonthpicker", function() {
        return {
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/datepicker/month.html"
            },
            require: ["^uibDatepicker", "uibMonthpicker"],
            restrict: "A",
            controller: "UibMonthpickerController",
            link: function(e, t, n, a) {
                var i = a[0];
                a[1].init(i)
            }
        }
    }).directive("uibYearpicker", function() {
        return {
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/datepicker/year.html"
            },
            require: ["^uibDatepicker", "uibYearpicker"],
            restrict: "A",
            controller: "UibYearpickerController",
            link: function(e, t, n, a) {
                var i = a[0];
                angular.extend(i, a[1]), i.yearpickerInit(), i.refreshView()
            }
        }
    }), angular.module("ui.bootstrap.position", []).factory("$uibPosition", ["$document", "$window",
        function(e, t) {
            var n, a, i = {
                    normal: /(auto|scroll)/,
                    hidden: /(auto|scroll|hidden)/
                },
                s = {
                    auto: /\s?auto?\s?/i,
                    primary: /^(top|bottom|left|right)$/,
                    secondary: /^(top|bottom|left|right|center)$/,
                    vertical: /^(top|bottom)$/
                },
                o = /(HTML|BODY)/;
            return {
                getRawNode: function(e) {
                    return e.nodeName ? e : e[0] || e
                },
                parseStyle: function(e) {
                    return e = parseFloat(e), isFinite(e) ? e : 0
                },
                offsetParent: function(n) {
                    for (var a = (n = this.getRawNode(n)).offsetParent || e[0].documentElement; a && a !== e[0].documentElement && function(e) {
                        return "static" === (t.getComputedStyle(e).position || "static")
                    }(a);) a = a.offsetParent;
                    return a || e[0].documentElement
                },
                scrollbarWidth: function(i) {
                    if (i) {
                        if (angular.isUndefined(a)) {
                            var s = e.find("body");
                            s.addClass("uib-position-body-scrollbar-measure"), a = t.innerWidth - s[0].clientWidth, a = isFinite(a) ? a : 0, s.removeClass("uib-position-body-scrollbar-measure")
                        }
                        return a
                    }
                    if (angular.isUndefined(n)) {
                        var o = angular.element('<div class="uib-position-scrollbar-measure"></div>');
                        e.find("body").append(o), n = o[0].offsetWidth - o[0].clientWidth, n = isFinite(n) ? n : 0, o.remove()
                    }
                    return n
                },
                scrollbarPadding: function(e) {
                    e = this.getRawNode(e);
                    var n = t.getComputedStyle(e),
                        a = this.parseStyle(n.paddingRight),
                        i = this.parseStyle(n.paddingBottom),
                        s = this.scrollParent(e, !1, !0),
                        r = this.scrollbarWidth(s, o.test(s.tagName));
                    return {
                        scrollbarWidth: r,
                        widthOverflow: s.scrollWidth > s.clientWidth,
                        right: a + r,
                        originalRight: a,
                        heightOverflow: s.scrollHeight > s.clientHeight,
                        bottom: i + r,
                        originalBottom: i
                    }
                },
                isScrollable: function(e, n) {
                    e = this.getRawNode(e);
                    var a = n ? i.hidden : i.normal,
                        s = t.getComputedStyle(e);
                    return a.test(s.overflow + s.overflowY + s.overflowX)
                },
                scrollParent: function(n, a, s) {
                    n = this.getRawNode(n);
                    var o = a ? i.hidden : i.normal,
                        r = e[0].documentElement,
                        l = t.getComputedStyle(n);
                    if (s && o.test(l.overflow + l.overflowY + l.overflowX)) return n;
                    var c = "absolute" === l.position,
                        u = n.parentElement || r;
                    if (u === r || "fixed" === l.position) return r;
                    for (; u.parentElement && u !== r;) {
                        var d = t.getComputedStyle(u);
                        if (c && "static" !== d.position && (c = !1), !c && o.test(d.overflow + d.overflowY + d.overflowX)) break;
                        u = u.parentElement
                    }
                    return u
                },
                position: function(n, a) {
                    n = this.getRawNode(n);
                    var i = this.offset(n);
                    if (a) {
                        var s = t.getComputedStyle(n);
                        i.top -= this.parseStyle(s.marginTop), i.left -= this.parseStyle(s.marginLeft)
                    }
                    var o = this.offsetParent(n),
                        r = {
                            top: 0,
                            left: 0
                        };
                    return o !== e[0].documentElement && ((r = this.offset(o)).top += o.clientTop - o.scrollTop, r.left += o.clientLeft - o.scrollLeft), {
                        width: Math.round(angular.isNumber(i.width) ? i.width : n.offsetWidth),
                        height: Math.round(angular.isNumber(i.height) ? i.height : n.offsetHeight),
                        top: Math.round(i.top - r.top),
                        left: Math.round(i.left - r.left)
                    }
                },
                offset: function(n) {
                    var a = (n = this.getRawNode(n)).getBoundingClientRect();
                    return {
                        width: Math.round(angular.isNumber(a.width) ? a.width : n.offsetWidth),
                        height: Math.round(angular.isNumber(a.height) ? a.height : n.offsetHeight),
                        top: Math.round(a.top + (t.pageYOffset || e[0].documentElement.scrollTop)),
                        left: Math.round(a.left + (t.pageXOffset || e[0].documentElement.scrollLeft))
                    }
                },
                viewportOffset: function(n, a, i) {
                    i = !1 !== i;
                    var s = (n = this.getRawNode(n)).getBoundingClientRect(),
                        o = {
                            top: 0,
                            left: 0,
                            bottom: 0,
                            right: 0
                        },
                        r = a ? e[0].documentElement : this.scrollParent(n),
                        l = r.getBoundingClientRect();
                    if (o.top = l.top + r.clientTop, o.left = l.left + r.clientLeft, r === e[0].documentElement && (o.top += t.pageYOffset, o.left += t.pageXOffset), o.bottom = o.top + r.clientHeight, o.right = o.left + r.clientWidth, i) {
                        var c = t.getComputedStyle(r);
                        o.top += this.parseStyle(c.paddingTop), o.bottom -= this.parseStyle(c.paddingBottom), o.left += this.parseStyle(c.paddingLeft), o.right -= this.parseStyle(c.paddingRight)
                    }
                    return {
                        top: Math.round(s.top - o.top),
                        bottom: Math.round(o.bottom - s.bottom),
                        left: Math.round(s.left - o.left),
                        right: Math.round(o.right - s.right)
                    }
                },
                parsePlacement: function(e) {
                    var t = s.auto.test(e);
                    return t && (e = e.replace(s.auto, "")), e = e.split("-"), e[0] = e[0] || "top", s.primary.test(e[0]) || (e[0] = "top"), e[1] = e[1] || "center", s.secondary.test(e[1]) || (e[1] = "center"), e[2] = !!t, e
                },
                positionElements: function(e, n, a, i) {
                    e = this.getRawNode(e), n = this.getRawNode(n);
                    var o = angular.isDefined(n.offsetWidth) ? n.offsetWidth : n.prop("offsetWidth"),
                        r = angular.isDefined(n.offsetHeight) ? n.offsetHeight : n.prop("offsetHeight");
                    a = this.parsePlacement(a);
                    var l = i ? this.offset(e) : this.position(e),
                        c = {
                            top: 0,
                            left: 0,
                            placement: ""
                        };
                    if (a[2]) {
                        var u = this.viewportOffset(e, i),
                            d = t.getComputedStyle(n),
                            p = {
                                width: o + Math.round(Math.abs(this.parseStyle(d.marginLeft) + this.parseStyle(d.marginRight))),
                                height: r + Math.round(Math.abs(this.parseStyle(d.marginTop) + this.parseStyle(d.marginBottom)))
                            };
                        if (a[0] = "top" === a[0] && p.height > u.top && p.height <= u.bottom ? "bottom" : "bottom" === a[0] && p.height > u.bottom && p.height <= u.top ? "top" : "left" === a[0] && p.width > u.left && p.width <= u.right ? "right" : "right" === a[0] && p.width > u.right && p.width <= u.left ? "left" : a[0], a[1] = "top" === a[1] && p.height - l.height > u.bottom && p.height - l.height <= u.top ? "bottom" : "bottom" === a[1] && p.height - l.height > u.top && p.height - l.height <= u.bottom ? "top" : "left" === a[1] && p.width - l.width > u.right && p.width - l.width <= u.left ? "right" : "right" === a[1] && p.width - l.width > u.left && p.width - l.width <= u.right ? "left" : a[1], "center" === a[1])
                            if (s.vertical.test(a[0])) {
                                var m = l.width / 2 - o / 2;
                                u.left + m < 0 && p.width - l.width <= u.right ? a[1] = "left" : u.right + m < 0 && p.width - l.width <= u.left && (a[1] = "right")
                            } else {
                                var f = l.height / 2 - p.height / 2;
                                u.top + f < 0 && p.height - l.height <= u.bottom ? a[1] = "top" : u.bottom + f < 0 && p.height - l.height <= u.top && (a[1] = "bottom")
                            }
                    }
                    switch (a[0]) {
                        case "top":
                            c.top = l.top - r;
                            break;
                        case "bottom":
                            c.top = l.top + l.height;
                            break;
                        case "left":
                            c.left = l.left - o;
                            break;
                        case "right":
                            c.left = l.left + l.width
                    }
                    switch (a[1]) {
                        case "top":
                            c.top = l.top;
                            break;
                        case "bottom":
                            c.top = l.top + l.height - r;
                            break;
                        case "left":
                            c.left = l.left;
                            break;
                        case "right":
                            c.left = l.left + l.width - o;
                            break;
                        case "center":
                            s.vertical.test(a[0]) ? c.left = l.left + l.width / 2 - o / 2 : c.top = l.top + l.height / 2 - r / 2
                    }
                    return c.top = Math.round(c.top), c.left = Math.round(c.left), c.placement = "center" === a[1] ? a[0] : a[0] + "-" + a[1], c
                },
                adjustTop: function(e, t, n, a) {
                    if (-1 !== e.indexOf("top") && n !== a) return {
                        top: t.top - a + "px"
                    }
                },
                positionArrow: function(e, n) {
                    var a = (e = this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");
                    if (a) {
                        var i = angular.element(a).hasClass("tooltip-inner"),
                            o = i ? e.querySelector(".tooltip-arrow") : e.querySelector(".arrow");
                        if (o) {
                            var r = {
                                top: "",
                                bottom: "",
                                left: "",
                                right: ""
                            };
                            if ("center" !== (n = this.parsePlacement(n))[1]) {
                                var l = "border-" + n[0] + "-width",
                                    c = t.getComputedStyle(o)[l],
                                    u = "border-";
                                s.vertical.test(n[0]) ? u += n[0] + "-" + n[1] : u += n[1] + "-" + n[0], u += "-radius";
                                var d = t.getComputedStyle(i ? a : e)[u];
                                switch (n[0]) {
                                    case "top":
                                        r.bottom = i ? "0" : "-" + c;
                                        break;
                                    case "bottom":
                                        r.top = i ? "0" : "-" + c;
                                        break;
                                    case "left":
                                        r.right = i ? "0" : "-" + c;
                                        break;
                                    case "right":
                                        r.left = i ? "0" : "-" + c
                                }
                                r[n[1]] = d, angular.element(o).css(r)
                            } else angular.element(o).css(r)
                        }
                    }
                }
            }
        }
    ]), angular.module("ui.bootstrap.datepickerPopup", ["ui.bootstrap.datepicker", "ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning", !0).constant("uibDatepickerPopupConfig", {
        altInputFormats: [],
        appendToBody: !1,
        clearText: "Clear",
        closeOnDateSelection: !0,
        closeText: "Done",
        currentText: "Today",
        datepickerPopup: "yyyy-MM-dd",
        datepickerPopupTemplateUrl: "uib/template/datepickerPopup/popup.html",
        datepickerTemplateUrl: "uib/template/datepicker/datepicker.html",
        html5Types: {
            date: "yyyy-MM-dd",
            "datetime-local": "yyyy-MM-ddTHH:mm:ss.sss",
            month: "yyyy-MM"
        },
        onOpenFocus: !0,
        showButtonBar: !0,
        placement: "auto bottom-left"
    }).controller("UibDatepickerPopupController", ["$scope", "$element", "$attrs", "$compile", "$log", "$parse", "$window", "$document", "$rootScope", "$uibPosition", "dateFilter", "uibDateParser", "uibDatepickerPopupConfig", "$timeout", "uibDatepickerConfig", "$datepickerPopupLiteralWarning",
        function(e, t, n, a, i, s, o, r, l, c, u, d, p, m, f, g) {
            function h(t) {
                var n = d.parse(t, x, e.date);
                if (isNaN(n))
                    for (var a = 0; a < O.length; a++)
                        if (n = d.parse(t, O[a], e.date), !isNaN(n)) return n;
                return n
            }

            function v(e) {
                if (angular.isNumber(e) && (e = new Date(e)), !e) return null;
                if (angular.isDate(e) && !isNaN(e)) return e;
                if (angular.isString(e)) {
                    var t = h(e);
                    if (!isNaN(t)) return t
                }
                return T.$options && T.$options.allowInvalid ? e : void 0
            }

            function b(e, t) {
                var a = e || t;
                return !n.ngRequired && !a || (angular.isNumber(a) && (a = new Date(a)), !a || (!(!angular.isDate(a) || isNaN(a)) || !!angular.isString(a) && !isNaN(h(a))))
            }

            function y(n) {
                if (e.isOpen || !e.disabled) {
                    var a = P[0],
                        i = t[0].contains(n.target),
                        s = void 0 !== a.contains && a.contains(n.target);
                    !e.isOpen || i || s || e.$apply(function() {
                        e.isOpen = !1
                    })
                }
            }

            function $(n) {
                27 === n.which && e.isOpen ? (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
                    e.isOpen = !1
                }), t[0].focus()) : 40 !== n.which || e.isOpen || (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
                    e.isOpen = !0
                }))
            }

            function w() {
                if (e.isOpen) {
                    var a = angular.element(P[0].querySelector(".uib-datepicker-popup")),
                        i = n.popupPlacement ? n.popupPlacement : p.placement,
                        s = c.positionElements(t, a, i, S);
                    a.css({
                        top: s.top + "px",
                        left: s.left + "px"
                    }), a.hasClass("uib-position-measure") && a.removeClass("uib-position-measure")
                }
            }
            var x, k, S, I, C, _, M, A, D, T, E, P, O, j = !1,
                N = [];
            this.init = function(i) {
                if (T = i, E = i.$options, k = angular.isDefined(n.closeOnDateSelection) ? e.$parent.$eval(n.closeOnDateSelection) : p.closeOnDateSelection, S = angular.isDefined(n.datepickerAppendToBody) ? e.$parent.$eval(n.datepickerAppendToBody) : p.appendToBody, I = angular.isDefined(n.onOpenFocus) ? e.$parent.$eval(n.onOpenFocus) : p.onOpenFocus, C = angular.isDefined(n.datepickerPopupTemplateUrl) ? n.datepickerPopupTemplateUrl : p.datepickerPopupTemplateUrl, _ = angular.isDefined(n.datepickerTemplateUrl) ? n.datepickerTemplateUrl : p.datepickerTemplateUrl, O = angular.isDefined(n.altInputFormats) ? e.$parent.$eval(n.altInputFormats) : p.altInputFormats, e.showButtonBar = angular.isDefined(n.showButtonBar) ? e.$parent.$eval(n.showButtonBar) : p.showButtonBar, p.html5Types[n.type] ? (x = p.html5Types[n.type], j = !0) : (x = n.uibDatepickerPopup || p.datepickerPopup, n.$observe("uibDatepickerPopup", function(e, t) {
                    var n = e || p.datepickerPopup;
                    if (n !== x && (x = n, T.$modelValue = null, !x)) throw new Error("uibDatepickerPopup must have a date format specified.")
                })), !x) throw new Error("uibDatepickerPopup must have a date format specified.");
                if (j && n.uibDatepickerPopup) throw new Error("HTML5 date input types do not support custom formats.");
                (M = angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({
                    "ng-model": "date",
                    "ng-change": "dateSelection(date)",
                    "template-url": C
                }), (A = angular.element(M.children()[0])).attr("template-url", _), e.datepickerOptions || (e.datepickerOptions = {}), j && "month" === n.type && (e.datepickerOptions.datepickerMode = "month", e.datepickerOptions.minMode = "month"), A.attr("datepicker-options", "datepickerOptions"), j ? T.$formatters.push(function(t) {
                    return e.date = t, t
                }) : (T.$$parserName = "date", T.$validators.date = b, T.$parsers.unshift(v), T.$formatters.push(function(t) {
                    return T.$isEmpty(t) ? (e.date = t, t) : (angular.isNumber(t) && (t = new Date(t)), e.date = t, d.filter(e.date, x))
                })), T.$viewChangeListeners.push(function() {
                    e.date = h(T.$viewValue)
                }), t.on("keydown", $), P = a(M)(e), M.remove(), S ? r.find("body").append(P) : t.after(P), e.$on("$destroy", function() {
                    for (!0 === e.isOpen && (l.$$phase || e.$apply(function() {
                        e.isOpen = !1
                    })), P.remove(), t.off("keydown", $), r.off("click", y), D && D.off("scroll", w), angular.element(o).off("resize", w); N.length;) N.shift()()
                })
            }, e.getText = function(t) {
                return e[t + "Text"] || p[t + "Text"]
            }, e.isDisabled = function(t) {
                "today" === t && (t = new Date);
                var n = {};
                return angular.forEach(["minDate", "maxDate"], function(t) {
                    e.datepickerOptions[t] ? angular.isDate(e.datepickerOptions[t]) ? n[t] = new Date(e.datepickerOptions[t]) : (g && i.warn("Literal date support has been deprecated, please switch to date object usage"), n[t] = new Date(u(e.datepickerOptions[t], "medium"))) : n[t] = null
                }), e.datepickerOptions && n.minDate && e.compare(t, n.minDate) < 0 || n.maxDate && e.compare(t, n.maxDate) > 0
            }, e.compare = function(e, t) {
                return new Date(e.getFullYear(), e.getMonth(), e.getDate()) - new Date(t.getFullYear(), t.getMonth(), t.getDate())
            }, e.dateSelection = function(n) {
                e.date = n;
                var a = e.date ? d.filter(e.date, x) : null;
                t.val(a), T.$setViewValue(a), k && (e.isOpen = !1, t[0].focus())
            }, e.keydown = function(n) {
                27 === n.which && (n.stopPropagation(), e.isOpen = !1, t[0].focus())
            }, e.select = function(t, n) {
                if (n.stopPropagation(), "today" === t) {
                    var a = new Date;
                    angular.isDate(e.date) ? (t = new Date(e.date)).setFullYear(a.getFullYear(), a.getMonth(), a.getDate()) : t = new Date(a.setHours(0, 0, 0, 0))
                }
                e.dateSelection(t)
            }, e.close = function(n) {
                n.stopPropagation(), e.isOpen = !1, t[0].focus()
            }, e.disabled = angular.isDefined(n.disabled) || !1, n.ngDisabled && N.push(e.$parent.$watch(s(n.ngDisabled), function(t) {
                e.disabled = t
            })), e.$watch("isOpen", function(a) {
                a ? e.disabled ? e.isOpen = !1 : m(function() {
                    w(), I && e.$broadcast("uib:datepicker.focus"), r.on("click", y);
                    var a = n.popupPlacement ? n.popupPlacement : p.placement;
                    S || c.parsePlacement(a)[2] ? (D = D || angular.element(c.scrollParent(t))) && D.on("scroll", w) : D = null, angular.element(o).on("resize", w)
                }, 0, !1) : (r.off("click", y), D && D.off("scroll", w), angular.element(o).off("resize", w))
            }), e.$on("uib:datepicker.mode", function() {
                m(w, 0, !1)
            })
        }
    ]).directive("uibDatepickerPopup", function() {
        return {
            require: ["ngModel", "uibDatepickerPopup"],
            controller: "UibDatepickerPopupController",
            scope: {
                datepickerOptions: "=?",
                isOpen: "=?",
                currentText: "@",
                clearText: "@",
                closeText: "@"
            },
            link: function(e, t, n, a) {
                var i = a[0];
                a[1].init(i)
            }
        }
    }).directive("uibDatepickerPopupWrap", function() {
        return {
            restrict: "A",
            transclude: !0,
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/datepickerPopup/popup.html"
            }
        }
    }), angular.module("ui.bootstrap.debounce", []).factory("$$debounce", ["$timeout",
        function(e) {
            return function(t, n) {
                var a;
                return function() {
                    var i = this,
                        s = Array.prototype.slice.call(arguments);
                    a && e.cancel(a), a = e(function() {
                        t.apply(i, s)
                    }, n)
                }
            }
        }
    ]), angular.module("ui.bootstrap.dropdown", ["ui.bootstrap.position"]).constant("uibDropdownConfig", {
        appendToOpenClass: "uib-dropdown-open",
        openClass: "open"
    }).service("uibDropdownService", ["$document", "$rootScope",
        function(e, t) {
            var n = null;
            this.open = function(t, i) {
                n || e.on("click", a), n && n !== t && (n.isOpen = !1), n = t
            }, this.close = function(t, i) {
                if (n === t) {
                    n = null, e.off("click", a);
                    var s = t.getDropdownElement();
                    s && s.off("keydown", this.keybindFilter)
                }
            };
            var a = function(e) {
                if (n && !(e && "disabled" === n.getAutoClose() || e && 3 === e.which)) {
                    var a = n.getToggleElement();
                    if (!(e && a && a[0].contains(e.target))) {
                        var i = n.getDropdownElement();
                        e && "outsideClick" === n.getAutoClose() && i && i[0].contains(e.target) || (n.isOpen = !1, n.focusToggleElement(), t.$$phase || n.$apply())
                    }
                }
            };
            this.keybindFilter = function(e) {
                27 === e.which ? (e.stopPropagation(), n.focusToggleElement(), a()) : n.isKeynavEnabled() && -1 !== [38, 40].indexOf(e.which) && n.isOpen && (e.preventDefault(), e.stopPropagation(), n.focusDropdownEntry(e.which))
            }
        }
    ]).controller("UibDropdownController", ["$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest",
        function(e, t, n, a, i, s, o, r, l, c, u) {
            var d, p, m = this,
                f = e.$new(),
                g = i.appendToOpenClass,
                h = i.openClass,
                v = angular.noop,
                b = n.onToggle ? a(n.onToggle) : angular.noop,
                y = !1,
                $ = null,
                w = !1,
                x = l.find("body");
            t.addClass("dropdown"), this.init = function() {
                if (n.isOpen && (p = a(n.isOpen), v = p.assign, e.$watch(p, function(e) {
                    f.isOpen = !!e
                })), angular.isDefined(n.dropdownAppendTo)) {
                    var i = a(n.dropdownAppendTo)(f);
                    i && ($ = angular.element(i))
                }
                y = angular.isDefined(n.dropdownAppendToBody), w = angular.isDefined(n.keyboardNav), y && !$ && ($ = x), $ && m.dropdownMenu && ($.append(m.dropdownMenu), t.on("$destroy", function() {
                    m.dropdownMenu.remove()
                }))
            }, this.toggle = function(e) {
                return f.isOpen = arguments.length ? !!e : !f.isOpen, angular.isFunction(v) && v(f, f.isOpen), f.isOpen
            }, this.isOpen = function() {
                return f.isOpen
            }, f.getToggleElement = function() {
                return m.toggleElement
            }, f.getAutoClose = function() {
                return n.autoClose || "always"
            }, f.getElement = function() {
                return t
            }, f.isKeynavEnabled = function() {
                return w
            }, f.focusDropdownEntry = function(e) {
                var n = m.dropdownMenu ? angular.element(m.dropdownMenu).find("a") : t.find("ul").eq(0).find("a");
                switch (e) {
                    case 40:
                        angular.isNumber(m.selectedOption) ? m.selectedOption = m.selectedOption === n.length - 1 ? m.selectedOption : m.selectedOption + 1 : m.selectedOption = 0;
                        break;
                    case 38:
                        angular.isNumber(m.selectedOption) ? m.selectedOption = 0 === m.selectedOption ? 0 : m.selectedOption - 1 : m.selectedOption = n.length - 1
                }
                n[m.selectedOption].focus()
            }, f.getDropdownElement = function() {
                return m.dropdownMenu
            }, f.focusToggleElement = function() {
                m.toggleElement && m.toggleElement[0].focus()
            }, f.$watch("isOpen", function(n, a) {
                if ($ && m.dropdownMenu) {
                    var i, l, p, w = r.positionElements(t, m.dropdownMenu, "bottom-left", !0),
                        x = 0;
                    if (i = {
                        top: w.top + "px",
                        display: n ? "block" : "none"
                    }, (l = m.dropdownMenu.hasClass("dropdown-menu-right")) ? (i.left = "auto", (p = r.scrollbarPadding($)).heightOverflow && p.scrollbarWidth && (x = p.scrollbarWidth), i.right = window.innerWidth - x - (w.left + t.prop("offsetWidth")) + "px") : (i.left = w.left + "px", i.right = "auto"), !y) {
                        var k = r.offset($);
                        i.top = w.top - k.top + "px", l ? i.right = window.innerWidth - (w.left - k.left + t.prop("offsetWidth")) + "px" : i.left = w.left - k.left + "px"
                    }
                    m.dropdownMenu.css(i)
                }
                var S = $ || t;
                if (S.hasClass($ ? g : h) === !n && o[n ? "addClass" : "removeClass"](S, $ ? g : h).then(function() {
                    angular.isDefined(n) && n !== a && b(e, {
                        open: !!n
                    })
                }), n) m.dropdownMenuTemplateUrl ? u(m.dropdownMenuTemplateUrl).then(function(e) {
                    d = f.$new(), c(e.trim())(d, function(e) {
                        var t = e;
                        m.dropdownMenu.replaceWith(t), m.dropdownMenu = t, m.dropdownMenu.on("keydown", s.keybindFilter)
                    })
                }) : m.dropdownMenu && m.dropdownMenu.on("keydown", s.keybindFilter), f.focusToggleElement(), s.open(f, t);
                else {
                    if (s.close(f, t), m.dropdownMenuTemplateUrl) {
                        d && d.$destroy();
                        var I = angular.element('<ul class="dropdown-menu"></ul>');
                        m.dropdownMenu.replaceWith(I), m.dropdownMenu = I
                    }
                    m.selectedOption = null
                }
                angular.isFunction(v) && v(e, n)
            })
        }
    ]).directive("uibDropdown", function() {
        return {
            controller: "UibDropdownController",
            link: function(e, t, n, a) {
                a.init()
            }
        }
    }).directive("uibDropdownMenu", function() {
        return {
            restrict: "A",
            require: "?^uibDropdown",
            link: function(e, t, n, a) {
                if (a && !angular.isDefined(n.dropdownNested)) {
                    t.addClass("dropdown-menu");
                    var i = n.templateUrl;
                    i && (a.dropdownMenuTemplateUrl = i), a.dropdownMenu || (a.dropdownMenu = t)
                }
            }
        }
    }).directive("uibDropdownToggle", function() {
        return {
            require: "?^uibDropdown",
            link: function(e, t, n, a) {
                if (a) {
                    t.addClass("dropdown-toggle"), a.toggleElement = t;
                    var i = function(i) {
                        i.preventDefault(), t.hasClass("disabled") || n.disabled || e.$apply(function() {
                            a.toggle()
                        })
                    };
                    t.bind("click", i), t.attr({
                        "aria-haspopup": !0,
                        "aria-expanded": !1
                    }), e.$watch(a.isOpen, function(e) {
                        t.attr("aria-expanded", !!e)
                    }), e.$on("$destroy", function() {
                        t.unbind("click", i)
                    })
                }
            }
        }
    }), angular.module("ui.bootstrap.stackedMap", []).factory("$$stackedMap", function() {
        return {
            createNew: function() {
                var e = [];
                return {
                    add: function(t, n) {
                        e.push({
                            key: t,
                            value: n
                        })
                    },
                    get: function(t) {
                        for (var n = 0; n < e.length; n++)
                            if (t === e[n].key) return e[n]
                    },
                    keys: function() {
                        for (var t = [], n = 0; n < e.length; n++) t.push(e[n].key);
                        return t
                    },
                    top: function() {
                        return e[e.length - 1]
                    },
                    remove: function(t) {
                        for (var n = -1, a = 0; a < e.length; a++)
                            if (t === e[a].key) {
                                n = a;
                                break
                            }
                        return e.splice(n, 1)[0]
                    },
                    removeTop: function() {
                        return e.pop()
                    },
                    length: function() {
                        return e.length
                    }
                }
            }
        }
    }), angular.module("ui.bootstrap.modal", ["ui.bootstrap.stackedMap", "ui.bootstrap.position"]).factory("$$multiMap", function() {
        return {
            createNew: function() {
                var e = {};
                return {
                    entries: function() {
                        return Object.keys(e).map(function(t) {
                            return {
                                key: t,
                                value: e[t]
                            }
                        })
                    },
                    get: function(t) {
                        return e[t]
                    },
                    hasKey: function(t) {
                        return !!e[t]
                    },
                    keys: function() {
                        return Object.keys(e)
                    },
                    put: function(t, n) {
                        e[t] || (e[t] = []), e[t].push(n)
                    },
                    remove: function(t, n) {
                        var a = e[t];
                        if (a) {
                            var i = a.indexOf(n); - 1 !== i && a.splice(i, 1), a.length || delete e[t]
                        }
                    }
                }
            }
        }
    }).provider("$uibResolve", function() {
        var e = this;
        this.resolver = null, this.setResolver = function(e) {
            this.resolver = e
        }, this.$get = ["$injector", "$q",
            function(t, n) {
                var a = e.resolver ? t.get(e.resolver) : null;
                return {
                    resolve: function(e, i, s, o) {
                        if (a) return a.resolve(e, i, s, o);
                        var r = [];
                        return angular.forEach(e, function(e) {
                            angular.isFunction(e) || angular.isArray(e) ? r.push(n.resolve(t.invoke(e))) : angular.isString(e) ? r.push(n.resolve(t.get(e))) : r.push(n.resolve(e))
                        }), n.all(r).then(function(t) {
                            var n = {},
                                a = 0;
                            return angular.forEach(e, function(e, i) {
                                n[i] = t[a++]
                            }), n
                        })
                    }
                }
            }
        ]
    }).directive("uibModalBackdrop", ["$animate", "$injector", "$uibModalStack",
        function(e, t, n) {
            function a(t, a, i) {
                i.modalInClass && (e.addClass(a, i.modalInClass), t.$on(n.NOW_CLOSING_EVENT, function(n, s) {
                    var o = s();
                    t.modalOptions.animation ? e.removeClass(a, i.modalInClass).then(o) : o()
                }))
            }
            return {
                restrict: "A",
                compile: function(e, t) {
                    return e.addClass(t.backdropClass), a
                }
            }
        }
    ]).directive("uibModalWindow", ["$uibModalStack", "$q", "$animateCss", "$document",
        function(e, t, n, a) {
            return {
                scope: {
                    index: "@"
                },
                restrict: "A",
                transclude: !0,
                templateUrl: function(e, t) {
                    return t.templateUrl || "uib/template/modal/window.html"
                },
                link: function(i, s, o) {
                    s.addClass(o.windowTopClass || ""), i.size = o.size, i.close = function(t) {
                        var n = e.getTop();
                        n && n.value.backdrop && "static" !== n.value.backdrop && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), e.dismiss(n.key, "backdrop click"))
                    }, s.on("click", i.close), i.$isRendered = !0;
                    var r = t.defer();
                    i.$$postDigest(function() {
                        r.resolve()
                    }), r.promise.then(function() {
                        var r = null;
                        o.modalInClass && (r = n(s, {
                            addClass: o.modalInClass
                        }).start(), i.$on(e.NOW_CLOSING_EVENT, function(e, t) {
                            var a = t();
                            n(s, {
                                removeClass: o.modalInClass
                            }).start().then(a)
                        })), t.when(r).then(function() {
                            var t = e.getTop();
                            if (t && e.modalRendered(t.key), !a[0].activeElement || !s[0].contains(a[0].activeElement)) {
                                var n = s[0].querySelector("[autofocus]");
                                n ? n.focus() : s[0].focus()
                            }
                        })
                    })
                }
            }
        }
    ]).directive("uibModalAnimationClass", function() {
        return {
            compile: function(e, t) {
                t.modalAnimation && e.addClass(t.uibModalAnimationClass)
            }
        }
    }).directive("uibModalTransclude", ["$animate",
        function(e) {
            return {
                link: function(t, n, a, i, s) {
                    s(t.$parent, function(t) {
                        n.empty(), e.enter(t, n)
                    })
                }
            }
        }
    ]).factory("$uibModalStack", ["$animate", "$animateCss", "$document", "$compile", "$rootScope", "$q", "$$multiMap", "$$stackedMap", "$uibPosition",
        function(e, t, n, a, i, s, o, r, l) {
            function c(e) {
                return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
            }

            function u() {
                for (var e = -1, t = w.keys(), n = 0; n < t.length; n++) w.get(t[n]).value.backdrop && (e = n);
                return e > -1 && e < S && (e = S), e
            }

            function d(e, t) {
                var n = w.get(e).value,
                    a = n.appendTo;
                w.remove(e), (I = w.top()) && (S = parseInt(I.value.modalDomEl.attr("index"), 10)), f(n.modalDomEl, n.modalScope, function() {
                    var t = n.openedClass || $;
                    x.remove(t, e);
                    var i = x.hasKey(t);
                    a.toggleClass(t, i), !i && y && y.heightOverflow && y.scrollbarWidth && (y.originalRight ? a.css({
                        paddingRight: y.originalRight + "px"
                    }) : a.css({
                        paddingRight: ""
                    }), y = null), p(!0)
                }, n.closedDeferred), m(), t && t.focus ? t.focus() : a.focus && a.focus()
            }

            function p(e) {
                var t;
                w.length() > 0 && (t = w.top().value).modalDomEl.toggleClass(t.windowTopClass || "", e)
            }

            function m() {
                if (v && -1 === u()) {
                    var e = b;
                    f(v, b, function() {
                        e = null
                    }), v = void 0, b = void 0
                }
            }

            function f(t, n, a, i) {
                function o() {
                    o.done || (o.done = !0, e.leave(t).then(function() {
                        a && a(), t.remove(), i && i.resolve()
                    }), n.$destroy())
                }
                var r, l = null;
                return n.$broadcast(k.NOW_CLOSING_EVENT, function() {
                    return r || (r = s.defer(), l = r.promise),
                        function() {
                            r.resolve()
                        }
                }), s.when(l).then(o)
            }

            function g(e) {
                if (e.isDefaultPrevented()) return e;
                var t = w.top();
                if (t) switch (e.which) {
                    case 27:
                        t.value.keyboard && (e.preventDefault(), i.$apply(function() {
                            k.dismiss(t.key, "escape key press")
                        }));
                        break;
                    case 9:
                        var n = k.loadFocusElementList(t),
                            a = !1;
                        e.shiftKey ? (k.isFocusInFirstItem(e, n) || k.isModalFocused(e, t)) && (a = k.focusLastFocusableElement(n)) : k.isFocusInLastItem(e, n) && (a = k.focusFirstFocusableElement(n)), a && (e.preventDefault(), e.stopPropagation())
                }
            }

            function h(e, t, n) {
                return !e.value.modalScope.$broadcast("modal.closing", t, n).defaultPrevented
            }
            var v, b, y, $ = "modal-open",
                w = r.createNew(),
                x = o.createNew(),
                k = {
                    NOW_CLOSING_EVENT: "modal.stack.now-closing"
                },
                S = 0,
                I = null;
            return i.$watch(u, function(e) {
                b && (b.index = e)
            }), n.on("keydown", g), i.$on("$destroy", function() {
                n.off("keydown", g)
            }), k.open = function(t, s) {
                var o = n[0].activeElement,
                    r = s.openedClass || $;
                p(!1), I = w.top(), w.add(t, {
                    deferred: s.deferred,
                    renderDeferred: s.renderDeferred,
                    closedDeferred: s.closedDeferred,
                    modalScope: s.scope,
                    backdrop: s.backdrop,
                    keyboard: s.keyboard,
                    openedClass: s.openedClass,
                    windowTopClass: s.windowTopClass,
                    animation: s.animation,
                    appendTo: s.appendTo
                }), x.put(r, t);
                var c = s.appendTo,
                    d = u();
                if (!c.length) throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");
                d >= 0 && !v && ((b = i.$new(!0)).modalOptions = s, b.index = d, (v = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({
                    class: "modal-backdrop",
                    "ng-style": "{'z-index': 1040 + (index && 1 || 0) + index*10}",
                    "uib-modal-animation-class": "fade",
                    "modal-in-class": "in"
                }), s.backdropClass && v.addClass(s.backdropClass), s.animation && v.attr("modal-animation", "true"), a(v)(b), e.enter(v, c), l.isScrollable(c) && (y = l.scrollbarPadding(c)).heightOverflow && y.scrollbarWidth && c.css({
                    paddingRight: y.right + "px"
                })), S = I ? parseInt(I.value.modalDomEl.attr("index"), 10) + 1 : 0;
                var m = angular.element('<div uib-modal-window="modal-window"></div>');
                m.attr({
                    class: "modal",
                    "template-url": s.windowTemplateUrl,
                    "window-top-class": s.windowTopClass,
                    role: "dialog",
                    size: s.size,
                    index: S,
                    animate: "animate",
                    "ng-style": "{'z-index': 1050 + index*10, display: 'block'}",
                    tabindex: -1,
                    "uib-modal-animation-class": "fade",
                    "modal-in-class": "in"
                }).html(s.content), s.windowClass && m.addClass(s.windowClass), s.animation && m.attr("modal-animation", "true"), c.addClass(r), e.enter(a(m)(s.scope), c), w.top().value.modalDomEl = m, w.top().value.modalOpener = o
            }, k.close = function(e, t) {
                var n = w.get(e);
                return n && h(n, t, !0) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.resolve(t), d(e, n.value.modalOpener), !0) : !n
            }, k.dismiss = function(e, t) {
                var n = w.get(e);
                return n && h(n, t, !1) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.reject(t), d(e, n.value.modalOpener), !0) : !n
            }, k.dismissAll = function(e) {
                for (var t = this.getTop(); t && this.dismiss(t.key, e);) t = this.getTop()
            }, k.getTop = function() {
                return w.top()
            }, k.modalRendered = function(e) {
                var t = w.get(e);
                t && t.value.renderDeferred.resolve()
            }, k.focusFirstFocusableElement = function(e) {
                return e.length > 0 && (e[0].focus(), !0)
            }, k.focusLastFocusableElement = function(e) {
                return e.length > 0 && (e[e.length - 1].focus(), !0)
            }, k.isModalFocused = function(e, t) {
                if (e && t) {
                    var n = t.value.modalDomEl;
                    if (n && n.length) return (e.target || e.srcElement) === n[0]
                }
                return !1
            }, k.isFocusInFirstItem = function(e, t) {
                return t.length > 0 && (e.target || e.srcElement) === t[0]
            }, k.isFocusInLastItem = function(e, t) {
                return t.length > 0 && (e.target || e.srcElement) === t[t.length - 1]
            }, k.loadFocusElementList = function(e) {
                if (e) {
                    var t = e.value.modalDomEl;
                    if (t && t.length) {
                        var n = t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");
                        return n ? Array.prototype.filter.call(n, function(e) {
                            return c(e)
                        }) : n
                    }
                }
            }, k
        }
    ]).provider("$uibModal", function() {
        var e = {
            options: {
                animation: !0,
                backdrop: !0,
                keyboard: !0
            },
            $get: ["$rootScope", "$q", "$document", "$templateRequest", "$controller", "$uibResolve", "$uibModalStack",
                function(t, n, a, i, s, o, r) {
                    function l(e) {
                        return e.template ? n.when(e.template) : i(angular.isFunction(e.templateUrl) ? e.templateUrl() : e.templateUrl)
                    }
                    var c = {},
                        u = null;
                    return c.getPromiseChain = function() {
                        return u
                    }, c.open = function(i) {
                        function c() {
                            return v
                        }
                        var d = n.defer(),
                            p = n.defer(),
                            m = n.defer(),
                            f = n.defer(),
                            g = {
                                result: d.promise,
                                opened: p.promise,
                                closed: m.promise,
                                rendered: f.promise,
                                close: function(e) {
                                    return r.close(g, e)
                                },
                                dismiss: function(e) {
                                    return r.dismiss(g, e)
                                }
                            };
                        if (i = angular.extend({}, e.options, i), i.resolve = i.resolve || {}, i.appendTo = i.appendTo || a.find("body").eq(0), !i.template && !i.templateUrl) throw new Error("One of template or templateUrl options is required.");
                        var h, v = n.all([l(i), o.resolve(i.resolve, {}, null, null)]);
                        return h = u = n.all([u]).then(c, c).then(function(e) {
                            var n = i.scope || t,
                                a = n.$new();
                            a.$close = g.close, a.$dismiss = g.dismiss, a.$on("$destroy", function() {
                                a.$$uibDestructionScheduled || a.$dismiss("$uibUnscheduledDestruction")
                            });
                            var o, l, c = {};
                            i.controller && (c.$scope = a, c.$scope.$resolve = {}, c.$uibModalInstance = g, angular.forEach(e[1], function(e, t) {
                                c[t] = e, c.$scope.$resolve[t] = e
                            }), l = s(i.controller, c, !0, i.controllerAs), i.controllerAs && i.bindToController && ((o = l.instance).$close = a.$close, o.$dismiss = a.$dismiss, angular.extend(o, {
                                $resolve: c.$scope.$resolve
                            }, n)), o = l(), angular.isFunction(o.$onInit) && o.$onInit()), r.open(g, {
                                scope: a,
                                deferred: d,
                                renderDeferred: f,
                                closedDeferred: m,
                                content: e[0],
                                animation: i.animation,
                                backdrop: i.backdrop,
                                keyboard: i.keyboard,
                                backdropClass: i.backdropClass,
                                windowTopClass: i.windowTopClass,
                                windowClass: i.windowClass,
                                windowTemplateUrl: i.windowTemplateUrl,
                                size: i.size,
                                openedClass: i.openedClass,
                                appendTo: i.appendTo
                            }), p.resolve(!0)
                        }, function(e) {
                            p.reject(e), d.reject(e)
                        }).finally(function() {
                            u === h && (u = null)
                        }), g
                    }, c
                }
            ]
        };
        return e
    }), angular.module("ui.bootstrap.paging", []).factory("uibPaging", ["$parse",
        function(e) {
            return {
                create: function(t, n, a) {
                    t.setNumPages = a.numPages ? e(a.numPages).assign : angular.noop, t.ngModelCtrl = {
                        $setViewValue: angular.noop
                    }, t._watchers = [], t.init = function(e, i) {
                        t.ngModelCtrl = e, t.config = i, e.$render = function() {
                            t.render()
                        }, a.itemsPerPage ? t._watchers.push(n.$parent.$watch(a.itemsPerPage, function(e) {
                            t.itemsPerPage = parseInt(e, 10), n.totalPages = t.calculateTotalPages(), t.updatePage()
                        })) : t.itemsPerPage = i.itemsPerPage, n.$watch("totalItems", function(e, a) {
                            (angular.isDefined(e) || e !== a) && (n.totalPages = t.calculateTotalPages(), t.updatePage())
                        })
                    }, t.calculateTotalPages = function() {
                        var e = t.itemsPerPage < 1 ? 1 : Math.ceil(n.totalItems / t.itemsPerPage);
                        return Math.max(e || 0, 1)
                    }, t.render = function() {
                        n.page = parseInt(t.ngModelCtrl.$viewValue, 10) || 1
                    }, n.selectPage = function(e, a) {
                        a && a.preventDefault(), (!n.ngDisabled || !a) && n.page !== e && e > 0 && e <= n.totalPages && (a && a.target && a.target.blur(), t.ngModelCtrl.$setViewValue(e), t.ngModelCtrl.$render())
                    }, n.getText = function(e) {
                        return n[e + "Text"] || t.config[e + "Text"]
                    }, n.noPrevious = function() {
                        return 1 === n.page
                    }, n.noNext = function() {
                        return n.page === n.totalPages
                    }, t.updatePage = function() {
                        t.setNumPages(n.$parent, n.totalPages), n.page > n.totalPages ? n.selectPage(n.totalPages) : t.ngModelCtrl.$render()
                    }, n.$on("$destroy", function() {
                        for (; t._watchers.length;) t._watchers.shift()()
                    })
                }
            }
        }
    ]), angular.module("ui.bootstrap.pager", ["ui.bootstrap.paging", "ui.bootstrap.tabindex"]).controller("UibPagerController", ["$scope", "$attrs", "uibPaging", "uibPagerConfig",
        function(e, t, n, a) {
            e.align = angular.isDefined(t.align) ? e.$parent.$eval(t.align) : a.align, n.create(this, e, t)
        }
    ]).constant("uibPagerConfig", {
        itemsPerPage: 10,
        previousText: "« Previous",
        nextText: "Next »",
        align: !0
    }).directive("uibPager", ["uibPagerConfig",
        function(e) {
            return {
                scope: {
                    totalItems: "=",
                    previousText: "@",
                    nextText: "@",
                    ngDisabled: "="
                },
                require: ["uibPager", "?ngModel"],
                restrict: "A",
                controller: "UibPagerController",
                controllerAs: "pager",
                templateUrl: function(e, t) {
                    return t.templateUrl || "uib/template/pager/pager.html"
                },
                link: function(t, n, a, i) {
                    n.addClass("pager");
                    var s = i[0],
                        o = i[1];
                    o && s.init(o, e)
                }
            }
        }
    ]), angular.module("ui.bootstrap.pagination", ["ui.bootstrap.paging", "ui.bootstrap.tabindex"]).controller("UibPaginationController", ["$scope", "$attrs", "$parse", "uibPaging", "uibPaginationConfig",
        function(e, t, n, a, i) {
            function s(e, t, n) {
                return {
                    number: e,
                    text: t,
                    active: n
                }
            }

            function o(e, t) {
                var n = [],
                    a = 1,
                    i = t,
                    o = angular.isDefined(l) && l < t;
                o && (c ? (i = (a = Math.max(e - Math.floor(l / 2), 1)) + l - 1) > t && (a = (i = t) - l + 1) : (a = (Math.ceil(e / l) - 1) * l + 1, i = Math.min(a + l - 1, t)));
                for (var r = a; r <= i; r++) {
                    var m = s(r, p(r), r === e);
                    n.push(m)
                }
                if (o && l > 0 && (!c || u || d)) {
                    if (a > 1) {
                        if (!d || a > 3) {
                            var f = s(a - 1, "...", !1);
                            n.unshift(f)
                        }
                        if (d) {
                            if (3 === a) {
                                var g = s(2, "2", !1);
                                n.unshift(g)
                            }
                            var h = s(1, "1", !1);
                            n.unshift(h)
                        }
                    }
                    if (i < t) {
                        if (!d || i < t - 2) {
                            var v = s(i + 1, "...", !1);
                            n.push(v)
                        }
                        if (d) {
                            if (i === t - 2) {
                                var b = s(t - 1, t - 1, !1);
                                n.push(b)
                            }
                            var y = s(t, t, !1);
                            n.push(y)
                        }
                    }
                }
                return n
            }
            var r = this,
                l = angular.isDefined(t.maxSize) ? e.$parent.$eval(t.maxSize) : i.maxSize,
                c = angular.isDefined(t.rotate) ? e.$parent.$eval(t.rotate) : i.rotate,
                u = angular.isDefined(t.forceEllipses) ? e.$parent.$eval(t.forceEllipses) : i.forceEllipses,
                d = angular.isDefined(t.boundaryLinkNumbers) ? e.$parent.$eval(t.boundaryLinkNumbers) : i.boundaryLinkNumbers,
                p = angular.isDefined(t.pageLabel) ? function(n) {
                    return e.$parent.$eval(t.pageLabel, {
                        $page: n
                    })
                } : angular.identity;
            e.boundaryLinks = angular.isDefined(t.boundaryLinks) ? e.$parent.$eval(t.boundaryLinks) : i.boundaryLinks, e.directionLinks = angular.isDefined(t.directionLinks) ? e.$parent.$eval(t.directionLinks) : i.directionLinks, a.create(this, e, t), t.maxSize && r._watchers.push(e.$parent.$watch(n(t.maxSize), function(e) {
                l = parseInt(e, 10), r.render()
            }));
            var m = this.render;
            this.render = function() {
                m(), e.page > 0 && e.page <= e.totalPages && (e.pages = o(e.page, e.totalPages))
            }
        }
    ]).constant("uibPaginationConfig", {
        itemsPerPage: 10,
        boundaryLinks: !1,
        boundaryLinkNumbers: !1,
        directionLinks: !0,
        firstText: "First",
        previousText: "Previous",
        nextText: "Next",
        lastText: "Last",
        rotate: !0,
        forceEllipses: !1
    }).directive("uibPagination", ["$parse", "uibPaginationConfig",
        function(e, t) {
            return {
                scope: {
                    totalItems: "=",
                    firstText: "@",
                    previousText: "@",
                    nextText: "@",
                    lastText: "@",
                    ngDisabled: "="
                },
                require: ["uibPagination", "?ngModel"],
                restrict: "A",
                controller: "UibPaginationController",
                controllerAs: "pagination",
                templateUrl: function(e, t) {
                    return t.templateUrl || "uib/template/pagination/pagination.html"
                },
                link: function(e, n, a, i) {
                    n.addClass("pagination");
                    var s = i[0],
                        o = i[1];
                    o && s.init(o, t)
                }
            }
        }
    ]), angular.module("ui.bootstrap.tooltip", ["ui.bootstrap.position", "ui.bootstrap.stackedMap"]).provider("$uibTooltip", function() {
        function e(e) {
            var t = /[A-Z]/g;
            return e.replace(t, function(e, t) {
                return (t ? "-" : "") + e.toLowerCase()
            })
        }
        var t = {
                placement: "top",
                placementClassPrefix: "",
                animation: !0,
                popupDelay: 0,
                popupCloseDelay: 0,
                useContentExp: !1
            },
            n = {
                mouseenter: "mouseleave",
                click: "click",
                outsideClick: "outsideClick",
                focus: "blur",
                none: ""
            },
            a = {};
        this.options = function(e) {
            angular.extend(a, e)
        }, this.setTriggers = function(e) {
            angular.extend(n, e)
        }, this.$get = ["$window", "$compile", "$timeout", "$document", "$uibPosition", "$interpolate", "$rootScope", "$parse", "$$stackedMap",
            function(i, s, o, r, l, c, u, d, p) {
                function m(e) {
                    if (27 === e.which) {
                        var t = f.top();
                        t && (t.value.close(), f.removeTop(), t = null)
                    }
                }
                var f = p.createNew();
                return r.on("keypress", m), u.$on("$destroy", function() {
                        r.off("keypress", m)
                    }),
                    function(i, u, p, m) {
                        function g(e) {
                            var t = (e || m.trigger || p).split(" ");
                            return {
                                show: t,
                                hide: t.map(function(e) {
                                    return n[e] || e
                                })
                            }
                        }
                        m = angular.extend({}, t, a, m);
                        var h = e(i),
                            v = c.startSymbol(),
                            b = c.endSymbol(),
                            y = "<div " + h + '-popup uib-title="' + v + "title" + b + '" ' + (m.useContentExp ? 'content-exp="contentExp()" ' : 'content="' + v + "content" + b + '" ') + 'origin-scope="origScope" class="uib-position-measure ' + u + '" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';
                        return {
                            compile: function(e, t) {
                                var n = s(y);
                                return function(e, t, a, s) {
                                    function c() {
                                        U.isOpen ? h() : p()
                                    }

                                    function p() {
                                        L && !e.$eval(a[u + "Enable"]) || ($(), k(), U.popupDelay ? T || (T = o(v, U.popupDelay, !1)) : v())
                                    }

                                    function h() {
                                        b(), U.popupCloseDelay ? E || (E = o(y, U.popupCloseDelay, !1)) : y()
                                    }

                                    function v() {
                                        if (b(), $(), !U.content) return angular.noop;
                                        w(), U.$evalAsync(function() {
                                            U.isOpen = !0, S(!0), F()
                                        })
                                    }

                                    function b() {
                                        T && (o.cancel(T), T = null), P && (o.cancel(P), P = null)
                                    }

                                    function y() {
                                        U && U.$evalAsync(function() {
                                            U && (U.isOpen = !1, S(!1), U.animation ? D || (D = o(x, 150, !1)) : x())
                                        })
                                    }

                                    function $() {
                                        E && (o.cancel(E), E = null), D && (o.cancel(D), D = null)
                                    }

                                    function w() {
                                        M || (A = U.$new(), M = n(A, function(e) {
                                            j ? r.find("body").append(e) : t.after(e)
                                        }), I())
                                    }

                                    function x() {
                                        b(), $(), C(), M && (M.remove(), M = null), A && (A.$destroy(), A = null)
                                    }

                                    function k() {
                                        U.title = a[u + "Title"], U.content = R ? R(e) : a[i], U.popupClass = a[u + "Class"], U.placement = angular.isDefined(a[u + "Placement"]) ? a[u + "Placement"] : m.placement;
                                        var t = l.parsePlacement(U.placement);
                                        O = t[1] ? t[0] + "-" + t[1] : t[0];
                                        var n = parseInt(a[u + "PopupDelay"], 10),
                                            s = parseInt(a[u + "PopupCloseDelay"], 10);
                                        U.popupDelay = isNaN(n) ? m.popupDelay : n, U.popupCloseDelay = isNaN(s) ? m.popupCloseDelay : s
                                    }

                                    function S(t) {
                                        H && angular.isFunction(H.assign) && H.assign(e, t)
                                    }

                                    function I() {
                                        V.length = 0, R ? (V.push(e.$watch(R, function(e) {
                                            U.content = e, !e && U.isOpen && y()
                                        })), V.push(A.$watch(function() {
                                            B || (B = !0, A.$$postDigest(function() {
                                                B = !1, U && U.isOpen && F()
                                            }))
                                        }))) : V.push(a.$observe(i, function(e) {
                                            U.content = e, !e && U.isOpen ? y() : F()
                                        })), V.push(a.$observe(u + "Title", function(e) {
                                            U.title = e, U.isOpen && F()
                                        })), V.push(a.$observe(u + "Placement", function(e) {
                                            U.placement = e || m.placement, U.isOpen && F()
                                        }))
                                    }

                                    function C() {
                                        V.length && (angular.forEach(V, function(e) {
                                            e()
                                        }), V.length = 0)
                                    }

                                    function _(e) {
                                        U && U.isOpen && M && (t[0].contains(e.target) || M[0].contains(e.target) || h())
                                    }
                                    var M, A, D, T, E, P, O, j = !!angular.isDefined(m.appendToBody) && m.appendToBody,
                                        N = g(void 0),
                                        L = angular.isDefined(a[u + "Enable"]),
                                        U = e.$new(!0),
                                        B = !1,
                                        H = !!angular.isDefined(a[u + "IsOpen"]) && d(a[u + "IsOpen"]),
                                        R = !!m.useContentExp && d(a[i]),
                                        V = [],
                                        F = function() {
                                            M && M.html() && (P || (P = o(function() {
                                                var e = l.positionElements(t, M, U.placement, j),
                                                    n = angular.isDefined(M.offsetHeight) ? M.offsetHeight : M.prop("offsetHeight"),
                                                    a = j ? l.offset(t) : l.position(t);
                                                M.css({
                                                    top: e.top + "px",
                                                    left: e.left + "px"
                                                });
                                                var i = e.placement.split("-");
                                                M.hasClass(i[0]) || (M.removeClass(O.split("-")[0]), M.addClass(i[0])), M.hasClass(m.placementClassPrefix + e.placement) || (M.removeClass(m.placementClassPrefix + O), M.addClass(m.placementClassPrefix + e.placement)), o(function() {
                                                    var e = angular.isDefined(M.offsetHeight) ? M.offsetHeight : M.prop("offsetHeight"),
                                                        t = l.adjustTop(i, a, n, e);
                                                    t && M.css(t)
                                                }, 0, !1), M.hasClass("uib-position-measure") ? (l.positionArrow(M, e.placement), M.removeClass("uib-position-measure")) : O !== e.placement && l.positionArrow(M, e.placement), O = e.placement, P = null
                                            }, 0, !1)))
                                        };
                                    U.origScope = e, U.isOpen = !1, f.add(U, {
                                        close: y
                                    }), U.contentExp = function() {
                                        return U.content
                                    }, a.$observe("disabled", function(e) {
                                        e && b(), e && U.isOpen && y()
                                    }), H && e.$watch(H, function(e) {
                                        U && !e === U.isOpen && c()
                                    });
                                    var q = function() {
                                        N.show.forEach(function(e) {
                                            "outsideClick" === e ? t.off("click", c) : (t.off(e, p), t.off(e, c))
                                        }), N.hide.forEach(function(e) {
                                            "outsideClick" === e ? r.off("click", _) : t.off(e, h)
                                        })
                                    };
                                    ! function() {
                                        var n = [],
                                            i = [],
                                            s = e.$eval(a[u + "Trigger"]);
                                        q(), angular.isObject(s) ? (Object.keys(s).forEach(function(e) {
                                            n.push(e), i.push(s[e])
                                        }), N = {
                                            show: n,
                                            hide: i
                                        }) : N = g(s), "none" !== N.show && N.show.forEach(function(e, n) {
                                            "outsideClick" === e ? (t.on("click", c), r.on("click", _)) : e === N.hide[n] ? t.on(e, c) : e && (t.on(e, p), t.on(N.hide[n], h)), t.on("keypress", function(e) {
                                                27 === e.which && h()
                                            })
                                        })
                                    }();
                                    var z = e.$eval(a[u + "Animation"]);
                                    U.animation = angular.isDefined(z) ? !!z : m.animation;
                                    var W, G = u + "AppendToBody";
                                    W = G in a && void 0 === a[G] || e.$eval(a[G]), j = angular.isDefined(W) ? W : j, e.$on("$destroy", function() {
                                        q(), x(), f.remove(U), U = null
                                    })
                                }
                            }
                        }
                    }
            }
        ]
    }).directive("uibTooltipTemplateTransclude", ["$animate", "$sce", "$compile", "$templateRequest",
        function(e, t, n, a) {
            return {
                link: function(i, s, o) {
                    var r, l, c, u = i.$eval(o.tooltipTemplateTranscludeScope),
                        d = 0,
                        p = function() {
                            l && (l.remove(), l = null), r && (r.$destroy(), r = null), c && (e.leave(c).then(function() {
                                l = null
                            }), l = c, c = null)
                        };
                    i.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude), function(t) {
                        var o = ++d;
                        t ? (a(t, !0).then(function(a) {
                            if (o === d) {
                                var i = u.$new(),
                                    l = n(a)(i, function(t) {
                                        p(), e.enter(t, s)
                                    });
                                c = l, (r = i).$emit("$includeContentLoaded", t)
                            }
                        }, function() {
                            o === d && (p(), i.$emit("$includeContentError", t))
                        }), i.$emit("$includeContentRequested", t)) : p()
                    }), i.$on("$destroy", p)
                }
            }
        }
    ]).directive("uibTooltipClasses", ["$uibPosition",
        function(e) {
            return {
                restrict: "A",
                link: function(t, n, a) {
                    if (t.placement) {
                        var i = e.parsePlacement(t.placement);
                        n.addClass(i[0])
                    }
                    t.popupClass && n.addClass(t.popupClass), t.animation && n.addClass(a.tooltipAnimationClass)
                }
            }
        }
    ]).directive("uibTooltipPopup", function() {
        return {
            restrict: "A",
            scope: {
                content: "@"
            },
            templateUrl: "uib/template/tooltip/tooltip-popup.html"
        }
    }).directive("uibTooltip", ["$uibTooltip",
        function(e) {
            return e("uibTooltip", "tooltip", "mouseenter")
        }
    ]).directive("uibTooltipTemplatePopup", function() {
        return {
            restrict: "A",
            scope: {
                contentExp: "&",
                originScope: "&"
            },
            templateUrl: "uib/template/tooltip/tooltip-template-popup.html"
        }
    }).directive("uibTooltipTemplate", ["$uibTooltip",
        function(e) {
            return e("uibTooltipTemplate", "tooltip", "mouseenter", {
                useContentExp: !0
            })
        }
    ]).directive("uibTooltipHtmlPopup", function() {
        return {
            restrict: "A",
            scope: {
                contentExp: "&"
            },
            templateUrl: "uib/template/tooltip/tooltip-html-popup.html"
        }
    }).directive("uibTooltipHtml", ["$uibTooltip",
        function(e) {
            return e("uibTooltipHtml", "tooltip", "mouseenter", {
                useContentExp: !0
            })
        }
    ]), angular.module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup", function() {
        return {
            restrict: "A",
            scope: {
                uibTitle: "@",
                contentExp: "&",
                originScope: "&"
            },
            templateUrl: "uib/template/popover/popover-template.html"
        }
    }).directive("uibPopoverTemplate", ["$uibTooltip",
        function(e) {
            return e("uibPopoverTemplate", "popover", "click", {
                useContentExp: !0
            })
        }
    ]).directive("uibPopoverHtmlPopup", function() {
        return {
            restrict: "A",
            scope: {
                contentExp: "&",
                uibTitle: "@"
            },
            templateUrl: "uib/template/popover/popover-html.html"
        }
    }).directive("uibPopoverHtml", ["$uibTooltip",
        function(e) {
            return e("uibPopoverHtml", "popover", "click", {
                useContentExp: !0
            })
        }
    ]).directive("uibPopoverPopup", function() {
        return {
            restrict: "A",
            scope: {
                uibTitle: "@",
                content: "@"
            },
            templateUrl: "uib/template/popover/popover.html"
        }
    }).directive("uibPopover", ["$uibTooltip",
        function(e) {
            return e("uibPopover", "popover", "click")
        }
    ]), angular.module("ui.bootstrap.progressbar", []).constant("uibProgressConfig", {
        animate: !0,
        max: 100
    }).controller("UibProgressController", ["$scope", "$attrs", "uibProgressConfig",
        function(e, t, n) {
            function a() {
                return angular.isDefined(e.maxParam) ? e.maxParam : n.max
            }
            var i = this,
                s = angular.isDefined(t.animate) ? e.$parent.$eval(t.animate) : n.animate;
            this.bars = [], e.max = a(), this.addBar = function(e, t, n) {
                s || t.css({
                    transition: "none"
                }), this.bars.push(e), e.max = a(), e.title = n && angular.isDefined(n.title) ? n.title : "progressbar", e.$watch("value", function(t) {
                    e.recalculatePercentage()
                }), e.recalculatePercentage = function() {
                    var t = i.bars.reduce(function(e, t) {
                        return t.percent = +(100 * t.value / t.max).toFixed(2), e + t.percent
                    }, 0);
                    t > 100 && (e.percent -= t - 100)
                }, e.$on("$destroy", function() {
                    t = null, i.removeBar(e)
                })
            }, this.removeBar = function(e) {
                this.bars.splice(this.bars.indexOf(e), 1), this.bars.forEach(function(e) {
                    e.recalculatePercentage()
                })
            }, e.$watch("maxParam", function(e) {
                i.bars.forEach(function(e) {
                    e.max = a(), e.recalculatePercentage()
                })
            })
        }
    ]).directive("uibProgress", function() {
        return {
            replace: !0,
            transclude: !0,
            controller: "UibProgressController",
            require: "uibProgress",
            scope: {
                maxParam: "=?max"
            },
            templateUrl: "uib/template/progressbar/progress.html"
        }
    }).directive("uibBar", function() {
        return {
            replace: !0,
            transclude: !0,
            require: "^uibProgress",
            scope: {
                value: "=",
                type: "@"
            },
            templateUrl: "uib/template/progressbar/bar.html",
            link: function(e, t, n, a) {
                a.addBar(e, t, n)
            }
        }
    }).directive("uibProgressbar", function() {
        return {
            replace: !0,
            transclude: !0,
            controller: "UibProgressController",
            scope: {
                value: "=",
                maxParam: "=?max",
                type: "@"
            },
            templateUrl: "uib/template/progressbar/progressbar.html",
            link: function(e, t, n, a) {
                a.addBar(e, angular.element(t.children()[0]), {
                    title: n.title
                })
            }
        }
    }), angular.module("ui.bootstrap.rating", []).constant("uibRatingConfig", {
        max: 5,
        stateOn: null,
        stateOff: null,
        enableReset: !0,
        titles: ["one", "two", "three", "four", "five"]
    }).controller("UibRatingController", ["$scope", "$attrs", "uibRatingConfig",
        function(e, t, n) {
            var a = {
                    $setViewValue: angular.noop
                },
                i = this;
            this.init = function(i) {
                (a = i).$render = this.render, a.$formatters.push(function(e) {
                    return angular.isNumber(e) && e << 0 !== e && (e = Math.round(e)), e
                }), this.stateOn = angular.isDefined(t.stateOn) ? e.$parent.$eval(t.stateOn) : n.stateOn, this.stateOff = angular.isDefined(t.stateOff) ? e.$parent.$eval(t.stateOff) : n.stateOff, this.enableReset = angular.isDefined(t.enableReset) ? e.$parent.$eval(t.enableReset) : n.enableReset;
                var s = angular.isDefined(t.titles) ? e.$parent.$eval(t.titles) : n.titles;
                this.titles = angular.isArray(s) && s.length > 0 ? s : n.titles;
                var o = angular.isDefined(t.ratingStates) ? e.$parent.$eval(t.ratingStates) : new Array(angular.isDefined(t.max) ? e.$parent.$eval(t.max) : n.max);
                e.range = this.buildTemplateObjects(o)
            }, this.buildTemplateObjects = function(e) {
                for (var t = 0, n = e.length; t < n; t++) e[t] = angular.extend({
                    index: t
                }, {
                    stateOn: this.stateOn,
                    stateOff: this.stateOff,
                    title: this.getTitle(t)
                }, e[t]);
                return e
            }, this.getTitle = function(e) {
                return e >= this.titles.length ? e + 1 : this.titles[e]
            }, e.rate = function(t) {
                if (!e.readonly && t >= 0 && t <= e.range.length) {
                    var n = i.enableReset && a.$viewValue === t ? 0 : t;
                    a.$setViewValue(n), a.$render()
                }
            }, e.enter = function(t) {
                e.readonly || (e.value = t), e.onHover({
                    value: t
                })
            }, e.reset = function() {
                e.value = a.$viewValue, e.onLeave()
            }, e.onKeydown = function(t) {
                /(37|38|39|40)/.test(t.which) && (t.preventDefault(), t.stopPropagation(), e.rate(e.value + (38 === t.which || 39 === t.which ? 1 : -1)))
            }, this.render = function() {
                e.value = a.$viewValue, e.title = i.getTitle(e.value - 1)
            }
        }
    ]).directive("uibRating", function() {
        return {
            require: ["uibRating", "ngModel"],
            restrict: "A",
            scope: {
                readonly: "=?readOnly",
                onHover: "&",
                onLeave: "&"
            },
            controller: "UibRatingController",
            templateUrl: "uib/template/rating/rating.html",
            link: function(e, t, n, a) {
                var i = a[0],
                    s = a[1];
                i.init(s)
            }
        }
    }), angular.module("ui.bootstrap.tabs", []).controller("UibTabsetController", ["$scope",
        function(e) {
            function t(e) {
                for (var t = 0; t < a.tabs.length; t++)
                    if (a.tabs[t].index === e) return t
            }
            var n, a = this;
            a.tabs = [], a.select = function(e, s) {
                if (!i) {
                    var o = t(n),
                        r = a.tabs[o];
                    if (r) {
                        if (r.tab.onDeselect({
                            $event: s,
                            $selectedIndex: e
                        }), s && s.isDefaultPrevented()) return;
                        r.tab.active = !1
                    }
                    var l = a.tabs[e];
                    l ? (l.tab.onSelect({
                        $event: s
                    }), l.tab.active = !0, a.active = l.index, n = l.index) : !l && angular.isDefined(n) && (a.active = null, n = null)
                }
            }, a.addTab = function(e) {
                if (a.tabs.push({
                    tab: e,
                    index: e.index
                }), a.tabs.sort(function(e, t) {
                    return e.index > t.index ? 1 : e.index < t.index ? -1 : 0
                }), e.index === a.active || !angular.isDefined(a.active) && 1 === a.tabs.length) {
                    var n = t(e.index);
                    a.select(n)
                }
            }, a.removeTab = function(e) {
                for (var t, n = 0; n < a.tabs.length; n++)
                    if (a.tabs[n].tab === e) {
                        t = n;
                        break
                    }
                if (a.tabs[t].index === a.active) {
                    var i = t === a.tabs.length - 1 ? t - 1 : t + 1 % a.tabs.length;
                    a.select(i)
                }
                a.tabs.splice(t, 1)
            }, e.$watch("tabset.active", function(e) {
                angular.isDefined(e) && e !== n && a.select(t(e))
            });
            var i;
            e.$on("$destroy", function() {
                i = !0
            })
        }
    ]).directive("uibTabset", function() {
        return {
            transclude: !0,
            replace: !0,
            scope: {},
            bindToController: {
                active: "=?",
                type: "@"
            },
            controller: "UibTabsetController",
            controllerAs: "tabset",
            templateUrl: function(e, t) {
                return t.templateUrl || "uib/template/tabs/tabset.html"
            },
            link: function(e, t, n) {
                e.vertical = !!angular.isDefined(n.vertical) && e.$parent.$eval(n.vertical), e.justified = !!angular.isDefined(n.justified) && e.$parent.$eval(n.justified)
            }
        }
    }).directive("uibTab", ["$parse",
        function(e) {
            return {
                require: "^uibTabset",
                replace: !0,
                templateUrl: function(e, t) {
                    return t.templateUrl || "uib/template/tabs/tab.html"
                },
                transclude: !0,
                scope: {
                    heading: "@",
                    index: "=?",
                    classes: "@?",
                    onSelect: "&select",
                    onDeselect: "&deselect"
                },
                controller: function() {},
                controllerAs: "tab",
                link: function(t, n, a, i, s) {
                    t.disabled = !1, a.disable && t.$parent.$watch(e(a.disable), function(e) {
                        t.disabled = !!e
                    }), angular.isUndefined(a.index) && (i.tabs && i.tabs.length ? t.index = Math.max.apply(null, i.tabs.map(function(e) {
                        return e.index
                    })) + 1 : t.index = 0), angular.isUndefined(a.classes) && (t.classes = ""), t.select = function(e) {
                        if (!t.disabled) {
                            for (var n, a = 0; a < i.tabs.length; a++)
                                if (i.tabs[a].tab === t) {
                                    n = a;
                                    break
                                }
                            i.select(n, e)
                        }
                    }, i.addTab(t), t.$on("$destroy", function() {
                        i.removeTab(t)
                    }), t.$transcludeFn = s
                }
            }
        }
    ]).directive("uibTabHeadingTransclude", function() {
        return {
            restrict: "A",
            require: "^uibTab",
            link: function(e, t) {
                e.$watch("headingElement", function(e) {
                    e && (t.html(""), t.append(e))
                })
            }
        }
    }).directive("uibTabContentTransclude", function() {
        function e(e) {
            return e.tagName && (e.hasAttribute("uib-tab-heading") || e.hasAttribute("data-uib-tab-heading") || e.hasAttribute("x-uib-tab-heading") || "uib-tab-heading" === e.tagName.toLowerCase() || "data-uib-tab-heading" === e.tagName.toLowerCase() || "x-uib-tab-heading" === e.tagName.toLowerCase() || "uib:tab-heading" === e.tagName.toLowerCase())
        }
        return {
            restrict: "A",
            require: "^uibTabset",
            link: function(t, n, a) {
                var i = t.$eval(a.uibTabContentTransclude).tab;
                i.$transcludeFn(i.$parent, function(t) {
                    angular.forEach(t, function(t) {
                        e(t) ? i.headingElement = t : n.append(t)
                    })
                })
            }
        }
    }), angular.module("ui.bootstrap.timepicker", []).constant("uibTimepickerConfig", {
        hourStep: 1,
        minuteStep: 1,
        secondStep: 1,
        showMeridian: !0,
        showSeconds: !1,
        meridians: null,
        readonlyInput: !1,
        mousewheel: !0,
        arrowkeys: !0,
        showSpinners: !0,
        templateUrl: "uib/template/timepicker/timepicker.html"
    }).controller("UibTimepickerController", ["$scope", "$element", "$attrs", "$parse", "$log", "$locale", "uibTimepickerConfig",
        function(e, t, n, a, i, s, o) {
            function r() {
                var t = +e.hours;
                if ((e.showMeridian ? t > 0 && t < 13 : t >= 0 && t < 24) && "" !== e.hours) return e.showMeridian && (12 === t && (t = 0), e.meridian === w[1] && (t += 12)), t
            }

            function l() {
                var t = +e.minutes;
                if (t >= 0 && t < 60 && "" !== e.minutes) return t
            }

            function c() {
                var t = +e.seconds;
                return t >= 0 && t < 60 ? t : void 0
            }

            function u(e, t) {
                return null === e ? "" : angular.isDefined(e) && e.toString().length < 2 && !t ? "0" + e : e.toString()
            }

            function d(e) {
                p(), $.$setViewValue(new Date(b)), m(e)
            }

            function p() {
                $.$setValidity("time", !0), e.invalidHours = !1, e.invalidMinutes = !1, e.invalidSeconds = !1
            }

            function m(t) {
                if ($.$modelValue) {
                    var n = b.getHours(),
                        a = b.getMinutes(),
                        i = b.getSeconds();
                    e.showMeridian && (n = 0 === n || 12 === n ? 12 : n % 12), e.hours = "h" === t ? n : u(n, !x), "m" !== t && (e.minutes = u(a)), e.meridian = b.getHours() < 12 ? w[0] : w[1], "s" !== t && (e.seconds = u(i)), e.meridian = b.getHours() < 12 ? w[0] : w[1]
                } else e.hours = null, e.minutes = null, e.seconds = null, e.meridian = w[0]
            }

            function f(e) {
                b = h(b, e), d()
            }

            function g(e, t) {
                return h(e, 60 * t)
            }

            function h(e, t) {
                var n = new Date(e.getTime() + 1e3 * t),
                    a = new Date(e);
                return a.setHours(n.getHours(), n.getMinutes(), n.getSeconds()), a
            }

            function v() {
                return (null === e.hours || "" === e.hours) && (null === e.minutes || "" === e.minutes) && (!e.showSeconds || e.showSeconds && (null === e.seconds || "" === e.seconds))
            }
            var b = new Date,
                y = [],
                $ = {
                    $setViewValue: angular.noop
                },
                w = angular.isDefined(n.meridians) ? e.$parent.$eval(n.meridians) : o.meridians || s.DATETIME_FORMATS.AMPMS,
                x = !angular.isDefined(n.padHours) || e.$parent.$eval(n.padHours);
            e.tabindex = angular.isDefined(n.tabindex) ? n.tabindex : 0, t.removeAttr("tabindex"), this.init = function(t, a) {
                ($ = t).$render = this.render, $.$formatters.unshift(function(e) {
                    return e ? new Date(e) : null
                });
                var i = a.eq(0),
                    s = a.eq(1),
                    r = a.eq(2);
                (angular.isDefined(n.mousewheel) ? e.$parent.$eval(n.mousewheel) : o.mousewheel) && this.setupMousewheelEvents(i, s, r), (angular.isDefined(n.arrowkeys) ? e.$parent.$eval(n.arrowkeys) : o.arrowkeys) && this.setupArrowkeyEvents(i, s, r), e.readonlyInput = angular.isDefined(n.readonlyInput) ? e.$parent.$eval(n.readonlyInput) : o.readonlyInput, this.setupInputEvents(i, s, r)
            };
            var k = o.hourStep;
            n.hourStep && y.push(e.$parent.$watch(a(n.hourStep), function(e) {
                k = +e
            }));
            var S = o.minuteStep;
            n.minuteStep && y.push(e.$parent.$watch(a(n.minuteStep), function(e) {
                S = +e
            }));
            var I;
            y.push(e.$parent.$watch(a(n.min), function(e) {
                var t = new Date(e);
                I = isNaN(t) ? void 0 : t
            }));
            var C;
            y.push(e.$parent.$watch(a(n.max), function(e) {
                var t = new Date(e);
                C = isNaN(t) ? void 0 : t
            }));
            var _ = !1;
            n.ngDisabled && y.push(e.$parent.$watch(a(n.ngDisabled), function(e) {
                _ = e
            })), e.noIncrementHours = function() {
                var e = g(b, 60 * k);
                return _ || e > C || e < b && e < I
            }, e.noDecrementHours = function() {
                var e = g(b, 60 * -k);
                return _ || e < I || e > b && e > C
            }, e.noIncrementMinutes = function() {
                var e = g(b, S);
                return _ || e > C || e < b && e < I
            }, e.noDecrementMinutes = function() {
                var e = g(b, -S);
                return _ || e < I || e > b && e > C
            }, e.noIncrementSeconds = function() {
                var e = h(b, M);
                return _ || e > C || e < b && e < I
            }, e.noDecrementSeconds = function() {
                var e = h(b, -M);
                return _ || e < I || e > b && e > C
            }, e.noToggleMeridian = function() {
                return b.getHours() < 12 ? _ || g(b, 720) > C : _ || g(b, -720) < I
            };
            var M = o.secondStep;
            n.secondStep && y.push(e.$parent.$watch(a(n.secondStep), function(e) {
                M = +e
            })), e.showSeconds = o.showSeconds, n.showSeconds && y.push(e.$parent.$watch(a(n.showSeconds), function(t) {
                e.showSeconds = !!t
            })), e.showMeridian = o.showMeridian, n.showMeridian && y.push(e.$parent.$watch(a(n.showMeridian), function(t) {
                if (e.showMeridian = !!t, $.$error.time) {
                    var n = r(),
                        a = l();
                    angular.isDefined(n) && angular.isDefined(a) && (b.setHours(n), d())
                } else m()
            })), this.setupMousewheelEvents = function(t, n, a) {
                var i = function(e) {
                    e.originalEvent && (e = e.originalEvent);
                    var t = e.wheelDelta ? e.wheelDelta : -e.deltaY;
                    return e.detail || t > 0
                };
                t.bind("mousewheel wheel", function(t) {
                    _ || e.$apply(i(t) ? e.incrementHours() : e.decrementHours()), t.preventDefault()
                }), n.bind("mousewheel wheel", function(t) {
                    _ || e.$apply(i(t) ? e.incrementMinutes() : e.decrementMinutes()), t.preventDefault()
                }), a.bind("mousewheel wheel", function(t) {
                    _ || e.$apply(i(t) ? e.incrementSeconds() : e.decrementSeconds()), t.preventDefault()
                })
            }, this.setupArrowkeyEvents = function(t, n, a) {
                t.bind("keydown", function(t) {
                    _ || (38 === t.which ? (t.preventDefault(), e.incrementHours(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementHours(), e.$apply()))
                }), n.bind("keydown", function(t) {
                    _ || (38 === t.which ? (t.preventDefault(), e.incrementMinutes(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementMinutes(), e.$apply()))
                }), a.bind("keydown", function(t) {
                    _ || (38 === t.which ? (t.preventDefault(), e.incrementSeconds(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementSeconds(), e.$apply()))
                })
            }, this.setupInputEvents = function(t, n, a) {
                if (e.readonlyInput) return e.updateHours = angular.noop, e.updateMinutes = angular.noop, void(e.updateSeconds = angular.noop);
                var i = function(t, n, a) {
                    $.$setViewValue(null), $.$setValidity("time", !1), angular.isDefined(t) && (e.invalidHours = t), angular.isDefined(n) && (e.invalidMinutes = n), angular.isDefined(a) && (e.invalidSeconds = a)
                };
                e.updateHours = function() {
                    var e = r(),
                        t = l();
                    $.$setDirty(), angular.isDefined(e) && angular.isDefined(t) ? (b.setHours(e), b.setMinutes(t), b < I || b > C ? i(!0) : d("h")) : i(!0)
                }, t.bind("blur", function(t) {
                    $.$setTouched(), v() ? p() : null === e.hours || "" === e.hours ? i(!0) : !e.invalidHours && e.hours < 10 && e.$apply(function() {
                        e.hours = u(e.hours, !x)
                    })
                }), e.updateMinutes = function() {
                    var e = l(),
                        t = r();
                    $.$setDirty(), angular.isDefined(e) && angular.isDefined(t) ? (b.setHours(t), b.setMinutes(e), b < I || b > C ? i(void 0, !0) : d("m")) : i(void 0, !0)
                }, n.bind("blur", function(t) {
                    $.$setTouched(), v() ? p() : null === e.minutes ? i(void 0, !0) : !e.invalidMinutes && e.minutes < 10 && e.$apply(function() {
                        e.minutes = u(e.minutes)
                    })
                }), e.updateSeconds = function() {
                    var e = c();
                    $.$setDirty(), angular.isDefined(e) ? (b.setSeconds(e), d("s")) : i(void 0, void 0, !0)
                }, a.bind("blur", function(t) {
                    v() ? p() : !e.invalidSeconds && e.seconds < 10 && e.$apply(function() {
                        e.seconds = u(e.seconds)
                    })
                })
            }, this.render = function() {
                var t = $.$viewValue;
                isNaN(t) ? ($.$setValidity("time", !1), i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (t && (b = t), b < I || b > C ? ($.$setValidity("time", !1), e.invalidHours = !0, e.invalidMinutes = !0) : p(), m())
            }, e.showSpinners = angular.isDefined(n.showSpinners) ? e.$parent.$eval(n.showSpinners) : o.showSpinners, e.incrementHours = function() {
                e.noIncrementHours() || f(60 * k * 60)
            }, e.decrementHours = function() {
                e.noDecrementHours() || f(60 * -k * 60)
            }, e.incrementMinutes = function() {
                e.noIncrementMinutes() || f(60 * S)
            }, e.decrementMinutes = function() {
                e.noDecrementMinutes() || f(60 * -S)
            }, e.incrementSeconds = function() {
                e.noIncrementSeconds() || f(M)
            }, e.decrementSeconds = function() {
                e.noDecrementSeconds() || f(-M)
            }, e.toggleMeridian = function() {
                var t = l(),
                    n = r();
                e.noToggleMeridian() || (angular.isDefined(t) && angular.isDefined(n) ? f(720 * (b.getHours() < 12 ? 60 : -60)) : e.meridian = e.meridian === w[0] ? w[1] : w[0])
            }, e.blur = function() {
                $.$setTouched()
            }, e.$on("$destroy", function() {
                for (; y.length;) y.shift()()
            })
        }
    ]).directive("uibTimepicker", ["uibTimepickerConfig",
        function(e) {
            return {
                require: ["uibTimepicker", "?^ngModel"],
                restrict: "A",
                controller: "UibTimepickerController",
                controllerAs: "timepicker",
                scope: {},
                templateUrl: function(t, n) {
                    return n.templateUrl || e.templateUrl
                },
                link: function(e, t, n, a) {
                    var i = a[0],
                        s = a[1];
                    s && i.init(s, t.find("input"))
                }
            }
        }
    ]), angular.module("ui.bootstrap.typeahead", ["ui.bootstrap.debounce", "ui.bootstrap.position"]).factory("uibTypeaheadParser", ["$parse",
        function(e) {
            var t = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
            return {
                parse: function(n) {
                    var a = n.match(t);
                    if (!a) throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + n + '".');
                    return {
                        itemName: a[3],
                        source: e(a[4]),
                        viewMapper: e(a[2] || a[1]),
                        modelMapper: e(a[1])
                    }
                }
            }
        }
    ]).controller("UibTypeaheadController", ["$scope", "$element", "$attrs", "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$$debounce", "$uibPosition", "uibTypeaheadParser",
        function(e, t, n, a, i, s, o, r, l, c, u, d, p) {
            function m() {
                B.moveInProgress || (B.moveInProgress = !0, B.$digest()), Z()
            }

            function f() {
                B.position = A ? d.offset(t) : d.position(t), B.position.top += t.prop("offsetHeight")
            }
            var g, h, v = [9, 13, 27, 38, 40],
                b = e.$eval(n.typeaheadMinLength);
            b || 0 === b || (b = 1), e.$watch(n.typeaheadMinLength, function(e) {
                b = e || 0 === e ? e : 1
            });
            var y = e.$eval(n.typeaheadWaitMs) || 0,
                $ = !1 !== e.$eval(n.typeaheadEditable);
            e.$watch(n.typeaheadEditable, function(e) {
                $ = !1 !== e
            });
            var w, x, k = i(n.typeaheadLoading).assign || angular.noop,
                S = n.typeaheadShouldSelect ? i(n.typeaheadShouldSelect) : function(e, t) {
                    var n = t.$event;
                    return 13 === n.which || 9 === n.which
                },
                I = i(n.typeaheadOnSelect),
                C = !!angular.isDefined(n.typeaheadSelectOnBlur) && e.$eval(n.typeaheadSelectOnBlur),
                _ = i(n.typeaheadNoResults).assign || angular.noop,
                M = n.typeaheadInputFormatter ? i(n.typeaheadInputFormatter) : void 0,
                A = !!n.typeaheadAppendToBody && e.$eval(n.typeaheadAppendToBody),
                D = n.typeaheadAppendTo ? e.$eval(n.typeaheadAppendTo) : null,
                T = !1 !== e.$eval(n.typeaheadFocusFirst),
                E = !!n.typeaheadSelectOnExact && e.$eval(n.typeaheadSelectOnExact),
                P = i(n.typeaheadIsOpen).assign || angular.noop,
                O = e.$eval(n.typeaheadShowHint) || !1,
                j = i(n.ngModel),
                N = i(n.ngModel + "($$$p)"),
                L = function(t, n) {
                    return angular.isFunction(j(e)) && h && h.$options && h.$options.getterSetter ? N(t, {
                        $$$p: n
                    }) : j.assign(t, n)
                },
                U = p.parse(n.uibTypeahead),
                B = e.$new(),
                H = e.$on("$destroy", function() {
                    B.$destroy()
                });
            B.$on("$destroy", H);
            var R = "typeahead-" + B.$id + "-" + Math.floor(1e4 * Math.random());
            t.attr({
                "aria-autocomplete": "list",
                "aria-expanded": !1,
                "aria-owns": R
            });
            var V, F;
            O && ((V = angular.element("<div></div>")).css("position", "relative"), t.after(V), (F = t.clone()).attr("placeholder", ""), F.attr("tabindex", "-1"), F.val(""), F.css({
                position: "absolute",
                top: "0px",
                left: "0px",
                "border-color": "transparent",
                "box-shadow": "none",
                opacity: 1,
                background: "none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",
                color: "#999"
            }), t.css({
                position: "relative",
                "vertical-align": "top",
                "background-color": "transparent"
            }), F.attr("id") && F.removeAttr("id"), V.append(F), F.after(t));
            var q = angular.element("<div uib-typeahead-popup></div>");
            q.attr({
                id: R,
                matches: "matches",
                active: "activeIdx",
                select: "select(activeIdx, evt)",
                "move-in-progress": "moveInProgress",
                query: "query",
                position: "position",
                "assign-is-open": "assignIsOpen(isOpen)",
                debounce: "debounceUpdate"
            }), angular.isDefined(n.typeaheadTemplateUrl) && q.attr("template-url", n.typeaheadTemplateUrl), angular.isDefined(n.typeaheadPopupTemplateUrl) && q.attr("popup-template-url", n.typeaheadPopupTemplateUrl);
            var z = function() {
                    O && F.val("")
                },
                W = function() {
                    B.matches = [], B.activeIdx = -1, t.attr("aria-expanded", !1), z()
                },
                G = function(e) {
                    return R + "-option-" + e
                };
            B.$watch("activeIdx", function(e) {
                e < 0 ? t.removeAttr("aria-activedescendant") : t.attr("aria-activedescendant", G(e))
            });
            var Y = function(e, t) {
                    return !!(B.matches.length > t && e) && e.toUpperCase() === B.matches[t].label.toUpperCase()
                },
                K = function(n, a) {
                    var i = {
                        $viewValue: n
                    };
                    k(e, !0), _(e, !1), s.when(U.source(e, i)).then(function(s) {
                        var o = n === g.$viewValue;
                        if (o && w)
                            if (s && s.length > 0) {
                                B.activeIdx = T ? 0 : -1, _(e, !1), B.matches.length = 0;
                                for (var r = 0; r < s.length; r++) i[U.itemName] = s[r], B.matches.push({
                                    id: G(r),
                                    label: U.viewMapper(B, i),
                                    model: s[r]
                                });
                                if (B.query = n, f(), t.attr("aria-expanded", !0), E && 1 === B.matches.length && Y(n, 0) && (angular.isNumber(B.debounceUpdate) || angular.isObject(B.debounceUpdate) ? u(function() {
                                    B.select(0, a)
                                }, angular.isNumber(B.debounceUpdate) ? B.debounceUpdate : B.debounceUpdate.default) : B.select(0, a)), O) {
                                    var l = B.matches[0].label;
                                    angular.isString(n) && n.length > 0 && l.slice(0, n.length).toUpperCase() === n.toUpperCase() ? F.val(n + l.slice(n.length)) : F.val("")
                                }
                            } else W(), _(e, !0);
                        o && k(e, !1)
                    }, function() {
                        W(), k(e, !1), _(e, !0)
                    })
                };
            A && (angular.element(l).on("resize", m), r.find("body").on("scroll", m));
            var Z = u(function() {
                B.matches.length && f(), B.moveInProgress = !1
            }, 200);
            B.moveInProgress = !1, B.query = void 0;
            var Q, J = function(e) {
                    Q = o(function() {
                        K(e)
                    }, y)
                },
                X = function() {
                    Q && o.cancel(Q)
                };
            W(), B.assignIsOpen = function(t) {
                P(e, t)
            }, B.select = function(a, i) {
                var s, r, l = {};
                x = !0, l[U.itemName] = r = B.matches[a].model, s = U.modelMapper(e, l), L(e, s), g.$setValidity("editable", !0), g.$setValidity("parse", !0), I(e, {
                    $item: r,
                    $model: s,
                    $label: U.viewMapper(e, l),
                    $event: i
                }), W(), !1 !== B.$eval(n.typeaheadFocusOnSelect) && o(function() {
                    t[0].focus()
                }, 0, !1)
            }, t.on("keydown", function(t) {
                if (0 !== B.matches.length && -1 !== v.indexOf(t.which)) {
                    var n = S(e, {
                        $event: t
                    });
                    if (-1 === B.activeIdx && n || 9 === t.which && t.shiftKey) return W(), void B.$digest();
                    t.preventDefault();
                    var a;
                    switch (t.which) {
                        case 27:
                            t.stopPropagation(), W(), e.$digest();
                            break;
                        case 38:
                            B.activeIdx = (B.activeIdx > 0 ? B.activeIdx : B.matches.length) - 1, B.$digest(), (a = q[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx]).parentNode.scrollTop = a.offsetTop;
                            break;
                        case 40:
                            B.activeIdx = (B.activeIdx + 1) % B.matches.length, B.$digest(), (a = q[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx]).parentNode.scrollTop = a.offsetTop;
                            break;
                        default:
                            n && B.$apply(function() {
                                angular.isNumber(B.debounceUpdate) || angular.isObject(B.debounceUpdate) ? u(function() {
                                    B.select(B.activeIdx, t)
                                }, angular.isNumber(B.debounceUpdate) ? B.debounceUpdate : B.debounceUpdate.default) : B.select(B.activeIdx, t)
                            })
                    }
                }
            }), t.bind("focus", function(e) {
                w = !0, 0 !== b || g.$viewValue || o(function() {
                    K(g.$viewValue, e)
                }, 0)
            }), t.bind("blur", function(e) {
                C && B.matches.length && -1 !== B.activeIdx && !x && (x = !0, B.$apply(function() {
                    angular.isObject(B.debounceUpdate) && angular.isNumber(B.debounceUpdate.blur) ? u(function() {
                        B.select(B.activeIdx, e)
                    }, B.debounceUpdate.blur) : B.select(B.activeIdx, e)
                })), !$ && g.$error.editable && (g.$setViewValue(), B.$apply(function() {
                    g.$setValidity("editable", !0), g.$setValidity("parse", !0)
                }), t.val("")), w = !1, x = !1
            });
            var ee = function(n) {
                t[0] !== n.target && 3 !== n.which && 0 !== B.matches.length && (W(), c.$$phase || e.$digest())
            };
            r.on("click", ee), e.$on("$destroy", function() {
                r.off("click", ee), (A || D) && te.remove(), A && (angular.element(l).off("resize", m), r.find("body").off("scroll", m)), q.remove(), O && V.remove()
            });
            var te = a(q)(B);
            A ? r.find("body").append(te) : D ? angular.element(D).eq(0).append(te) : t.after(te), this.init = function(t, n) {
                g = t, h = n, B.debounceUpdate = g.$options && i(g.$options.debounce)(e), g.$parsers.unshift(function(t) {
                    return w = !0, 0 === b || t && t.length >= b ? y > 0 ? (X(), J(t)) : K(t) : (k(e, !1), X(), W()), $ ? t : t ? void g.$setValidity("editable", !1) : (g.$setValidity("editable", !0), null)
                }), g.$formatters.push(function(t) {
                    var n, a, i = {};
                    return $ || g.$setValidity("editable", !0), M ? (i.$model = t, M(e, i)) : (i[U.itemName] = t, n = U.viewMapper(e, i), i[U.itemName] = void 0, a = U.viewMapper(e, i), n !== a ? n : t)
                })
            }
        }
    ]).directive("uibTypeahead", function() {
        return {
            controller: "UibTypeaheadController",
            require: ["ngModel", "^?ngModelOptions", "uibTypeahead"],
            link: function(e, t, n, a) {
                a[2].init(a[0], a[1])
            }
        }
    }).directive("uibTypeaheadPopup", ["$$debounce",
        function(e) {
            return {
                scope: {
                    matches: "=",
                    query: "=",
                    active: "=",
                    position: "&",
                    moveInProgress: "=",
                    select: "&",
                    assignIsOpen: "&",
                    debounce: "&"
                },
                replace: !0,
                templateUrl: function(e, t) {
                    return t.popupTemplateUrl || "uib/template/typeahead/typeahead-popup.html"
                },
                link: function(t, n, a) {
                    t.templateUrl = a.templateUrl, t.isOpen = function() {
                        var e = t.matches.length > 0;
                        return t.assignIsOpen({
                            isOpen: e
                        }), e
                    }, t.isActive = function(e) {
                        return t.active === e
                    }, t.selectActive = function(e) {
                        t.active = e
                    }, t.selectMatch = function(n, a) {
                        var i = t.debounce();
                        angular.isNumber(i) || angular.isObject(i) ? e(function() {
                            t.select({
                                activeIdx: n,
                                evt: a
                            })
                        }, angular.isNumber(i) ? i : i.default) : t.select({
                            activeIdx: n,
                            evt: a
                        })
                    }
                }
            }
        }
    ]).directive("uibTypeaheadMatch", ["$templateRequest", "$compile", "$parse",
        function(e, t, n) {
            return {
                scope: {
                    index: "=",
                    match: "=",
                    query: "="
                },
                link: function(a, i, s) {
                    var o = n(s.templateUrl)(a.$parent) || "uib/template/typeahead/typeahead-match.html";
                    e(o).then(function(e) {
                        var n = angular.element(e.trim());
                        i.replaceWith(n), t(n)(a)
                    })
                }
            }
        }
    ]).filter("uibTypeaheadHighlight", ["$sce", "$injector", "$log",
        function(e, t, n) {
            function a(e) {
                return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
            }

            function i(e) {
                return /<.*>/g.test(e)
            }
            var s;
            return s = t.has("$sanitize"),
                function(t, o) {
                    return !s && i(t) && n.warn("Unsafe use of typeahead please use ngSanitize"), t = o ? ("" + t).replace(new RegExp(a(o), "gi"), "<strong>$&</strong>") : t, s || (t = e.trustAsHtml(t)), t
                }
        }
    ]), angular.module("uib/template/accordion/accordion-group.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/accordion/accordion-group.html", '<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')
        }
    ]), angular.module("uib/template/accordion/accordion.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/accordion/accordion.html", '<div role="tablist" class="panel-group" ng-transclude></div>')
        }
    ]), angular.module("uib/template/alert/alert.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/alert/alert.html", '<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')
        }
    ]), angular.module("uib/template/carousel/carousel.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/carousel/carousel.html", '<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')
        }
    ]), angular.module("uib/template/carousel/slide.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/carousel/slide.html", '<div class="text-center" ng-transclude></div>\n')
        }
    ]), angular.module("uib/template/datepicker/datepicker.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/datepicker/datepicker.html", '<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')
        }
    ]), angular.module("uib/template/datepicker/day.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/datepicker/day.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
        }
    ]), angular.module("uib/template/datepicker/month.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/datepicker/month.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
        }
    ]), angular.module("uib/template/datepicker/year.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/datepicker/year.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
        }
    ]), angular.module("uib/template/datepickerPopup/popup.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/datepickerPopup/popup.html", '<ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')
        }
    ]), angular.module("uib/template/modal/window.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/modal/window.html", "<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")
        }
    ]), angular.module("uib/template/pager/pager.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/pager/pager.html", '<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')
        }
    ]), angular.module("uib/template/pagination/pagination.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/pagination/pagination.html", '<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')
        }
    ]), angular.module("uib/template/tooltip/tooltip-html-popup.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/tooltip/tooltip-html-popup.html", '<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')
        }
    ]), angular.module("uib/template/tooltip/tooltip-popup.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/tooltip/tooltip-popup.html", '<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')
        }
    ]), angular.module("uib/template/tooltip/tooltip-template-popup.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/tooltip/tooltip-template-popup.html", '<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')
        }
    ]), angular.module("uib/template/popover/popover-html.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/popover/popover-html.html", '<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')
        }
    ]), angular.module("uib/template/popover/popover-template.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/popover/popover-template.html", '<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')
        }
    ]), angular.module("uib/template/popover/popover.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/popover/popover.html", '<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')
        }
    ]), angular.module("uib/template/progressbar/bar.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')
        }
    ]), angular.module("uib/template/progressbar/progress.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/progressbar/progress.html", '<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')
        }
    ]), angular.module("uib/template/progressbar/progressbar.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')
        }
    ]), angular.module("uib/template/rating/rating.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')
        }
    ]), angular.module("uib/template/tabs/tab.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/tabs/tab.html", '<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')
        }
    ]), angular.module("uib/template/tabs/tabset.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/tabs/tabset.html", '<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
        }
    ]), angular.module("uib/template/timepicker/timepicker.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/timepicker/timepicker.html", '<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')
        }
    ]), angular.module("uib/template/typeahead/typeahead-match.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/typeahead/typeahead-match.html", '<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')
        }
    ]), angular.module("uib/template/typeahead/typeahead-popup.html", []).run(["$templateCache",
        function(e) {
            e.put("uib/template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')
        }
    ]), angular.module("ui.bootstrap.carousel").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibCarouselCss && angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'), angular.$$uibCarouselCss = !0
    }), angular.module("ui.bootstrap.datepicker").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibDatepickerCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'), angular.$$uibDatepickerCss = !0
    }), angular.module("ui.bootstrap.position").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibPositionCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'), angular.$$uibPositionCss = !0
    }), angular.module("ui.bootstrap.datepickerPopup").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibDatepickerpopupCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'), angular.$$uibDatepickerpopupCss = !0
    }), angular.module("ui.bootstrap.tooltip").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibTooltipCss && angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'), angular.$$uibTooltipCss = !0
    }), angular.module("ui.bootstrap.timepicker").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibTimepickerCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'), angular.$$uibTimepickerCss = !0
    }), angular.module("ui.bootstrap.typeahead").run(function() {
        !angular.$$csp().noInlineStyle && !angular.$$uibTypeaheadCss && angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'), angular.$$uibTypeaheadCss = !0
    }),
    function(e, t) {
        "function" == typeof define && define.amd ? define(["angular"], t) : "object" == typeof module && module.exports ? module.exports = t(require("angular")) : e.angularClipboard = t(e.angular)
    }(this, function(e) {
        return e.module("angular-clipboard", []).factory("clipboard", ["$document", "$window",
            function(e, t) {
                function n(n, a) {
                    var i = e[0].createElement("textarea");
                    return i.style.position = "absolute", i.textContent = n, i.style.left = "-10000px", i.style.top = (t.pageYOffset || e[0].documentElement.scrollTop) + "px", i
                }

                function a(t) {
                    try {
                        e[0].body.style.webkitUserSelect = "initial";
                        var n = e[0].getSelection();
                        if (n.removeAllRanges(), t.select(), !e[0].execCommand("copy")) throw "failure copy";
                        n.removeAllRanges()
                    } finally {
                        e[0].body.style.webkitUserSelect = ""
                    }
                }
                return {
                    copyText: function(t, i) {
                        var s = n(t, i);
                        e[0].body.appendChild(s), a(s), e[0].body.removeChild(s)
                    },
                    supported: "queryCommandSupported" in e[0] && e[0].queryCommandSupported("copy")
                }
            }
        ]).directive("clipboard", ["clipboard",
            function(t) {
                return {
                    restrict: "A",
                    scope: {
                        onCopied: "&",
                        onError: "&",
                        text: "=",
                        supported: "=?"
                    },
                    link: function(n, a) {
                        n.supported = t.supported, a.on("click", function(i) {
                            try {
                                t.copyText(n.text, a[0]), e.isFunction(n.onCopied) && n.$evalAsync(n.onCopied())
                            } catch (t) {
                                e.isFunction(n.onError) && n.$evalAsync(n.onError({
                                    err: t
                                }))
                            }
                        })
                    }
                }
            }
        ])
    }),
    function() {
        "use strict";
        angular.module("cfp.hotkeys", []).provider("hotkeys", ["$injector",
            function(e) {
                this.includeCheatSheet = !0, this.useNgRoute = e.has("ngViewDirective"), this.templateTitle = "Keyboard Shortcuts:", this.templateHeader = null, this.templateFooter = null, this.template = '<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>', this.cheatSheetHotkey = "?", this.cheatSheetDescription = "Show / hide this help menu", this.$get = ["$rootElement", "$rootScope", "$compile", "$window", "$document",
                    function(e, t, n, a, i) {
                        function s(e) {
                            var t = {
                                command: "⌘",
                                shift: "⇧",
                                left: "←",
                                right: "→",
                                up: "↑",
                                down: "↓",
                                return :"⏎",
                                backspace: "⌫"
                            };
                            e = e.split("+");
                            for (var n = 0; n < e.length; n++) "mod" === e[n] && (a.navigator && a.navigator.platform.indexOf("Mac") >= 0 ? e[n] = "command" : e[n] = "ctrl"), e[n] = t[e[n]] || e[n];
                            return e.join(" + ")
                        }

                        function o(e, t, n, a, i, s) {
                            this.combo = e instanceof Array ? e : [e], this.description = t, this.callback = n, this.action = a, this.allowIn = i, this.persistent = s, this._formated = null
                        }

                        function r() {
                            for (var e = f.hotkeys.length; e--;) {
                                var t = f.hotkeys[e];
                                t && !t.persistent && u(t)
                            }
                        }

                        function l() {
                            f.helpVisible = !f.helpVisible, f.helpVisible ? (y = d("esc"), u("esc"), c("esc", y.description, l, null, ["INPUT", "SELECT", "TEXTAREA"])) : (u("esc"), !1 !== y && c(y))
                        }

                        function c(e, t, n, a, i, s) {
                            var r, l = ["INPUT", "SELECT", "TEXTAREA"];
                            if ("[object Object]" === Object.prototype.toString.call(e) && (t = e.description, n = e.callback, a = e.action, s = e.persistent, i = e.allowIn, e = e.combo), u(e), t instanceof Function ? (a = n, n = t, t = "$$undefined$$") : angular.isUndefined(t) && (t = "$$undefined$$"), void 0 === s && (s = !0), "function" == typeof n) {
                                r = n, i instanceof Array || (i = []);
                                for (var c, d = 0; d < i.length; d++) i[d] = i[d].toUpperCase(), -1 !== (c = l.indexOf(i[d])) && l.splice(c, 1);
                                n = function(e) {
                                    var t = !0;
                                    if (e) {
                                        var n = e.target || e.srcElement,
                                            a = n.nodeName.toUpperCase();
                                        if ((" " + n.className + " ").indexOf(" mousetrap ") > -1) t = !0;
                                        else
                                            for (var i = 0; i < l.length; i++)
                                                if (l[i] === a) {
                                                    t = !1;
                                                    break
                                                }
                                    }
                                    t && p(r.apply(this, arguments))
                                }
                            }
                            "string" == typeof a ? Mousetrap.bind(e, p(n), a) : Mousetrap.bind(e, p(n));
                            var m = new o(e, t, n, a, i, s);
                            return f.hotkeys.push(m), m
                        }

                        function u(e) {
                            var t = e instanceof o ? e.combo : e;
                            if (Mousetrap.unbind(t), angular.isArray(t)) {
                                for (var n = !0, a = t.length; a--;) n = u(t[a]) && n;
                                return n
                            }
                            var i = f.hotkeys.indexOf(d(t));
                            return i > -1 && (f.hotkeys[i].combo.length > 1 ? f.hotkeys[i].combo.splice(f.hotkeys[i].combo.indexOf(t), 1) : (angular.forEach(g, function(e) {
                                var t = e.indexOf(f.hotkeys[i]); - 1 !== t && e.splice(t, 1)
                            }), f.hotkeys.splice(i, 1)), !0)
                        }

                        function d(e) {
                            if (!e) return f.hotkeys;
                            for (var t, n = 0; n < f.hotkeys.length; n++)
                                if ((t = f.hotkeys[n]).combo.indexOf(e) > -1) return t;
                            return !1
                        }

                        function p(e) {
                            return function(n, a) {
                                if (e instanceof Array) {
                                    var i = e[0],
                                        s = e[1];
                                    e = function(e) {
                                        s.scope.$eval(i)
                                    }
                                }
                                t.$apply(function() {
                                    e(n, d(a))
                                })
                            }
                        }
                        var m = !0;
                        Mousetrap.prototype.stopCallback = function(e, t) {
                            return !m || !((" " + t.className + " ").indexOf(" mousetrap ") > -1) && (t.contentEditable && "true" == t.contentEditable)
                        }, o.prototype.format = function() {
                            if (null === this._formated) {
                                for (var e = this.combo[0].split(/[\s]/), t = 0; t < e.length; t++) e[t] = s(e[t]);
                                this._formated = e
                            }
                            return this._formated
                        };
                        var f = t.$new();
                        f.hotkeys = [], f.helpVisible = !1, f.title = this.templateTitle, f.header = this.templateHeader, f.footer = this.templateFooter, f.toggleCheatSheet = l;
                        var g = {};
                        if (this.useNgRoute && t.$on("$routeChangeSuccess", function(e, t) {
                            r(), t && t.hotkeys && angular.forEach(t.hotkeys, function(e) {
                                var n = e[2];
                                ("string" == typeof n || n instanceof String) && (e[2] = [n, t]), e[5] = !1, c.apply(this, e)
                            })
                        }), this.includeCheatSheet) {
                            var h = i[0],
                                v = e[0],
                                b = angular.element(this.template);
                            c(this.cheatSheetHotkey, this.cheatSheetDescription, l), v !== h && v !== h.documentElement || (v = h.body), angular.element(v).append(n(b)(f))
                        }
                        var y = !1;
                        return {
                            add: c,
                            del: u,
                            get: d,
                            bindTo: function(e) {
                                return e.$id in g || (g[e.$id] = [], e.$on("$destroy", function() {
                                    for (var t = g[e.$id].length; t--;) u(g[e.$id].pop())
                                })), {
                                    add: function(t) {
                                        var n;
                                        return n = arguments.length > 1 ? c.apply(this, arguments) : c(t), g[e.$id].push(n), this
                                    }
                                }
                            },
                            template: this.template,
                            toggleCheatSheet: l,
                            includeCheatSheet: this.includeCheatSheet,
                            cheatSheetHotkey: this.cheatSheetHotkey,
                            cheatSheetDescription: this.cheatSheetDescription,
                            useNgRoute: this.useNgRoute,
                            purgeHotkeys: r,
                            templateTitle: this.templateTitle,
                            pause: function() {
                                m = !1
                            },
                            unpause: function() {
                                m = !0
                            }
                        }
                    }
                ]
            }
        ]).directive("hotkey", ["hotkeys",
            function(e) {
                return {
                    restrict: "A",
                    link: function(t, n, a) {
                        var i, s = [];
                        angular.forEach(t.$eval(a.hotkey), function(t, n) {
                            i = "string" == typeof a.hotkeyAllowIn ? a.hotkeyAllowIn.split(/[\s,]+/) : [], s.push(n), e.add({
                                combo: n,
                                description: a.hotkeyDescription,
                                callback: t,
                                action: a.hotkeyAction,
                                allowIn: i
                            })
                        }), n.bind("$destroy", function() {
                            angular.forEach(s, e.del)
                        })
                    }
                }
            }
        ]).run(["hotkeys",
            function(e) {}
        ])
    }(),
    function(e, t, n) {
        function a(e, t, n) {
            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
        }

        function i(e) {
            if ("keypress" == e.type) {
                var t = String.fromCharCode(e.which);
                return e.shiftKey || (t = t.toLowerCase()), t
            }
            return v[e.which] ? v[e.which] : b[e.which] ? b[e.which] : String.fromCharCode(e.which).toLowerCase()
        }

        function s(e, t) {
            return e.sort().join(",") === t.sort().join(",")
        }

        function o(e) {
            var t = [];
            return e.shiftKey && t.push("shift"), e.altKey && t.push("alt"), e.ctrlKey && t.push("ctrl"), e.metaKey && t.push("meta"), t
        }

        function r(e) {
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        }

        function l(e) {
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
        }

        function c(e) {
            return "shift" == e || "ctrl" == e || "alt" == e || "meta" == e
        }

        function u() {
            if (!h) {
                h = {};
                for (var e in v) e > 95 && e < 112 || v.hasOwnProperty(e) && (h[v[e]] = e)
            }
            return h
        }

        function d(e, t, n) {
            return n || (n = u()[e] ? "keydown" : "keypress"), "keypress" == n && t.length && (n = "keydown"), n
        }

        function p(e) {
            return "+" === e ? ["+"] : (e = e.replace(/\+{2}/g, "+plus")).split("+")
        }

        function m(e, t) {
            var n, a, i, s = [];
            for (n = p(e), i = 0; i < n.length; ++i) a = n[i], $[a] && (a = $[a]), t && "keypress" != t && y[a] && (a = y[a], s.push("shift")), c(a) && s.push(a);
            return t = d(a, s, t), {
                key: a,
                modifiers: s,
                action: t
            }
        }

        function f(e, n) {
            return e !== t && (e === n || f(e.parentNode, n))
        }

        function g(e) {
            function n(e) {
                e = e || {};
                var t, n = !1;
                for (t in $) e[t] ? n = !0 : $[t] = 0;
                n || (k = !1)
            }

            function u(e, t, n, a, i, o) {
                var r, l, u = [],
                    d = n.type;
                if (!b._callbacks[e]) return [];
                for ("keyup" == d && c(e) && (t = [e]), r = 0; r < b._callbacks[e].length; ++r)
                    if (l = b._callbacks[e][r], (a || !l.seq || $[l.seq] == l.level) && d == l.action && ("keypress" == d && !n.metaKey && !n.ctrlKey || s(t, l.modifiers))) {
                        var p = !a && l.combo == i,
                            m = a && l.seq == a && l.level == o;
                        (p || m) && b._callbacks[e].splice(r, 1), u.push(l)
                    }
                return u
            }

            function d(e, t, n, a) {
                b.stopCallback(t, t.target || t.srcElement, n, a) || !1 === e(t, n) && (r(t), l(t))
            }

            function p(e) {
                "number" != typeof e.which && (e.which = e.keyCode);
                var t = i(e);
                t && ("keyup" != e.type || w !== t ? b.handleKey(t, o(e), e) : w = !1)
            }

            function f() {
                clearTimeout(y), y = setTimeout(n, 1e3)
            }

            function h(e, t, a, s) {
                $[e] = 0;
                for (var o = 0; o < t.length; ++o) {
                    var r = o + 1 === t.length ? function(t) {
                        d(a, t, e), "keyup" !== s && (w = i(t)), setTimeout(n, 10)
                    } : function(t) {
                        return function() {
                            k = t, ++$[e], f()
                        }
                    }(s || m(t[o + 1]).action);
                    v(t[o], r, s, e, o)
                }
            }

            function v(e, t, n, a, i) {
                b._directMap[e + ":" + n] = t;
                var s, o = (e = e.replace(/\s+/g, " ")).split(" ");
                o.length > 1 ? h(e, o, t, n) : (s = m(e, n), b._callbacks[s.key] = b._callbacks[s.key] || [], u(s.key, s.modifiers, {
                    type: s.action
                }, a, e, i), b._callbacks[s.key][a ? "unshift" : "push"]({
                    callback: t,
                    modifiers: s.modifiers,
                    action: s.action,
                    seq: a,
                    level: i,
                    combo: e
                }))
            }
            var b = this;
            if (e = e || t, !(b instanceof g)) return new g(e);
            b.target = e, b._callbacks = {}, b._directMap = {};
            var y, $ = {},
                w = !1,
                x = !1,
                k = !1;
            b._handleKey = function(e, t, a) {
                var i, s = u(e, t, a),
                    o = {},
                    r = 0,
                    l = !1;
                for (i = 0; i < s.length; ++i) s[i].seq && (r = Math.max(r, s[i].level));
                for (i = 0; i < s.length; ++i)
                    if (s[i].seq) {
                        if (s[i].level != r) continue;
                        l = !0, o[s[i].seq] = 1, d(s[i].callback, a, s[i].combo, s[i].seq)
                    } else l || d(s[i].callback, a, s[i].combo);
                var p = "keypress" == a.type && x;
                a.type != k || c(e) || p || n(o), x = l && "keydown" == a.type
            }, b._bindMultiple = function(e, t, n) {
                for (var a = 0; a < e.length; ++a) v(e[a], t, n)
            }, a(e, "keypress", p), a(e, "keydown", p), a(e, "keyup", p)
        }
        for (var h, v = {
            8: "backspace",
            9: "tab",
            13: "enter",
            16: "shift",
            17: "ctrl",
            18: "alt",
            20: "capslock",
            27: "esc",
            32: "space",
            33: "pageup",
            34: "pagedown",
            35: "end",
            36: "home",
            37: "left",
            38: "up",
            39: "right",
            40: "down",
            45: "ins",
            46: "del",
            91: "meta",
            93: "meta",
            224: "meta"
        }, b = {
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'"
        }, y = {
            "~": "`",
            "!": "1",
            "@": "2",
            "#": "3",
            $: "4",
            "%": "5",
            "^": "6",
            "&": "7",
            "*": "8",
            "(": "9",
            ")": "0",
            _: "-",
            "+": "=",
            ":": ";",
            '"': "'",
            "<": ",",
            ">": ".",
            "?": "/",
            "|": "\\"
        }, $ = {
            option: "alt",
            command: "meta",
            return :"enter",
            escape: "esc",
            plus: "+",
            mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
        }, w = 1; w < 20; ++w) v[111 + w] = "f" + w;
        for (w = 0; w <= 9; ++w) v[w + 96] = w;
        g.prototype.bind = function(e, t, n) {
            var a = this;
            return e = e instanceof Array ? e : [e], a._bindMultiple.call(a, e, t, n), a
        }, g.prototype.unbind = function(e, t) {
            var n = this;
            return n.bind.call(n, e, function() {}, t)
        }, g.prototype.trigger = function(e, t) {
            var n = this;
            return n._directMap[e + ":" + t] && n._directMap[e + ":" + t]({}, e), n
        }, g.prototype.reset = function() {
            var e = this;
            return e._callbacks = {}, e._directMap = {}, e
        }, g.prototype.stopCallback = function(e, t) {
            var n = this;
            return !((" " + t.className + " ").indexOf(" mousetrap ") > -1) && (!f(t, n.target) && ("INPUT" == t.tagName || "SELECT" == t.tagName || "TEXTAREA" == t.tagName || t.isContentEditable))
        }, g.prototype.handleKey = function() {
            var e = this;
            return e._handleKey.apply(e, arguments)
        }, g.init = function() {
            var e = g(t);
            for (var n in e) "_" !== n.charAt(0) && (g[n] = function(t) {
                return function() {
                    return e[t].apply(e, arguments)
                }
            }(n))
        }, g.init(), e.Mousetrap = g, "undefined" != typeof module && module.exports && (module.exports = g), "function" == typeof define && define.amd && define(function() {
            return g
        })
    }(window, document),
    function(e, t) {
        "use strict";

        function n(e) {
            var n = [];
            return r(n, t.noop).chars(e), n.join("")
        }

        function a(e, n) {
            var a, i = {},
                s = e.split(",");
            for (a = 0; a < s.length; a++) i[n ? t.lowercase(s[a]) : s[a]] = !0;
            return i
        }

        function i(t, n) {
            null === t || void 0 === t ? t = "" : "string" != typeof t && (t = "" + t), c.innerHTML = t;
            var a = 5;
            do {
                if (0 === a) throw u("uinput", "Failed to sanitize html because the input is unstable");
                a--, e.document.documentMode && l(c), t = c.innerHTML, c.innerHTML = t
            } while (t !== c.innerHTML);
            for (var i = c.firstChild; i;) {
                switch (i.nodeType) {
                    case 1:
                        n.start(i.nodeName.toLowerCase(), s(i.attributes));
                        break;
                    case 3:
                        n.chars(i.textContent)
                }
                var o;
                if (!((o = i.firstChild) || (1 == i.nodeType && n.end(i.nodeName.toLowerCase()), o = i.nextSibling)))
                    for (; null == o && (i = i.parentNode) !== c;) o = i.nextSibling, 1 == i.nodeType && n.end(i.nodeName.toLowerCase());
                i = o
            }
            for (; i = c.firstChild;) c.removeChild(i)
        }

        function s(e) {
            for (var t = {}, n = 0, a = e.length; n < a; n++) {
                var i = e[n];
                t[i.name] = i.value
            }
            return t
        }

        function o(e) {
            return e.replace(/&/g, "&amp;").replace(d, function(e) {
                return "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";"
            }).replace(p, function(e) {
                return "&#" + e.charCodeAt(0) + ";"
            }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }

        function r(e, n) {
            var a = !1,
                i = t.bind(e, e.push);
            return {
                start: function(e, s) {
                    e = t.lowercase(e), !a && $[e] && (a = e), a || !0 !== w[e] || (i("<"), i(e), t.forEach(s, function(a, s) {
                        var r = t.lowercase(s),
                            l = "img" === e && "src" === r || "background" === r;
                        !0 !== I[r] || !0 === x[r] && !n(a, l) || (i(" "), i(s), i('="'), i(o(a)), i('"'))
                    }), i(">"))
                },
                end: function(e) {
                    e = t.lowercase(e), a || !0 !== w[e] || !0 === m[e] || (i("</"), i(e), i(">")), e == a && (a = !1)
                },
                chars: function(e) {
                    a || i(o(e))
                }
            }
        }

        function l(t) {
            if (t.nodeType === e.Node.ELEMENT_NODE)
                for (var n = t.attributes, a = 0, i = n.length; a < i; a++) {
                    var s = n[a],
                        o = s.name.toLowerCase();
                    "xmlns:ns1" !== o && 0 !== o.lastIndexOf("ns1:", 0) || (t.removeAttributeNode(s), a--, i--)
                }
            var r = t.firstChild;
            r && l(r), (r = t.nextSibling) && l(r)
        }
        var c, u = t.$$minErr("$sanitize"),
            d = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            p = /([^\#-~ |!])/g,
            m = a("area,br,col,hr,img,wbr"),
            f = a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),
            g = a("rp,rt"),
            h = t.extend({}, g, f),
            v = t.extend({}, f, a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),
            b = t.extend({}, g, a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
            y = a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),
            $ = a("script,style"),
            w = t.extend({}, m, v, b, h),
            x = a("background,cite,href,longdesc,src,xlink:href"),
            k = a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),
            S = a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0),
            I = t.extend({}, x, S, k);
        ! function(e) {
            var t;
            if (!e.document || !e.document.implementation) throw u("noinert", "Can't create an inert html document");
            var n = ((t = e.document.implementation.createHTMLDocument("inert")).documentElement || t.getDocumentElement()).getElementsByTagName("body");
            if (1 === n.length) c = n[0];
            else {
                var a = t.createElement("html");
                c = t.createElement("body"), a.appendChild(c), t.appendChild(a)
            }
        }(e), t.module("ngSanitize", []).provider("$sanitize", function() {
            var e = !1;
            this.$get = ["$$sanitizeUri",
                function(n) {
                    return e && t.extend(w, y),
                        function(e) {
                            var t = [];
                            return i(e, r(t, function(e, t) {
                                return !/^unsafe:/.test(n(e, t))
                            })), t.join("")
                        }
                }
            ], this.enableSvg = function(n) {
                return t.isDefined(n) ? (e = n, this) : e
            }
        }), t.module("ngSanitize").filter("linky", ["$sanitize",
            function(e) {
                var a = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
                    i = /^mailto:/i,
                    s = t.$$minErr("linky"),
                    o = t.isString;
                return function(r, l, c) {
                    function u(e) {
                        e && g.push(n(e))
                    }
                    if (null == r || "" === r) return r;
                    if (!o(r)) throw s("notstring", "Expected string but received: {0}", r);
                    for (var d, p, m, f = r, g = []; d = f.match(a);) p = d[0], d[2] || d[4] || (p = (d[3] ? "http://" : "mailto:") + p), m = d.index, u(f.substr(0, m)),
                        function(e, n) {
                            var a;
                            if (g.push("<a "), t.isFunction(c) && (c = c(e)), t.isObject(c))
                                for (a in c) g.push(a + '="' + c[a] + '" ');
                            else c = {};
                            !t.isDefined(l) || "target" in c || g.push('target="', l, '" '), g.push('href="', e.replace(/"/g, "&quot;"), '">'), u(n), g.push("</a>")
                        }(p, d[0].replace(i, "")), f = f.substring(m + d[0].length);
                    return u(f), e(g.join(""))
                }
            }
        ])
    }(window, window.angular);
var mod;
(mod = angular.module("infinite-scroll", [])).directive("infiniteScroll", ["$rootScope", "$window", "$timeout",
        function(e, t, n) {
            return {
                link: function(a, i, s) {
                    var o, r, l, c;
                    return t = angular.element(t), l = 0, null != s.infiniteScrollDistance && a.$watch(s.infiniteScrollDistance, function(e) {
                        return l = parseInt(e, 10)
                    }), c = !0, o = !1, null != s.infiniteScrollDisabled && a.$watch(s.infiniteScrollDisabled, function(e) {
                        if ((c = !e) && o) return o = !1, r()
                    }), r = function() {
                        var n, r, u, d;
                        return d = t.height() + t.scrollTop(), n = i.offset().top + i.height(), r = n - d, (u = r <= t.height() * l) && c ? e.$$phase ? a.$eval(s.infiniteScroll) : a.$apply(s.infiniteScroll) : u ? o = !0 : void 0
                    }, t.on("scroll", r), a.$on("$destroy", function() {
                        return t.off("scroll", r)
                    }), n(function() {
                        return s.infiniteScrollImmediateCheck ? a.$eval(s.infiniteScrollImmediateCheck) ? r() : void 0 : r()
                    }, 0)
                }
            }
        }
    ]),
    function(e, t) {
        "use strict";

        function n(e) {
            return t.lowercase(e.nodeName || e[0] && e[0].nodeName)
        }

        function a(e, n) {
            var a = !1,
                i = !1;
            this.ngClickOverrideEnabled = function(s) {
                return t.isDefined(s) ? (s && !i && (i = !0, o.$$moduleName = "ngTouch", n.directive("ngClick", o), e.decorator("ngClickDirective", ["$delegate",
                    function(e) {
                        if (a) e.shift();
                        else
                            for (var t = e.length - 1; t >= 0;) {
                                if ("ngTouch" === e[t].$$moduleName) {
                                    e.splice(t, 1);
                                    break
                                }
                                t--
                            }
                        return e
                    }
                ])), a = s, this) : a
            }, this.$get = function() {
                return {
                    ngClickOverrideEnabled: function() {
                        return a
                    }
                }
            }
        }

        function i(e, n, a) {
            s.directive(e, ["$parse", "$swipe",
                function(i, s) {
                    var o = 75,
                        r = .3,
                        l = 30;
                    return function(c, u, d) {
                        function p(e) {
                            if (!m) return !1;
                            var t = Math.abs(e.y - m.y),
                                a = (e.x - m.x) * n;
                            return f && t < o && a > 0 && a > l && t / a < r
                        }
                        var m, f, g = i(d[e]),
                            h = ["touch"];
                        t.isDefined(d.ngSwipeDisableMouse) || h.push("mouse"), s.bind(u, {
                            start: function(e, t) {
                                m = e, f = !0
                            },
                            cancel: function(e) {
                                f = !1
                            },
                            end: function(e, t) {
                                p(e) && c.$apply(function() {
                                    u.triggerHandler(a), g(c, {
                                        $event: t
                                    })
                                })
                            }
                        }, h)
                    }
                }
            ])
        }
        var s = t.module("ngTouch", []);
        s.provider("$touch", a), a.$inject = ["$provide", "$compileProvider"], s.factory("$swipe", [
            function() {
                function e(e) {
                    var t = e.originalEvent || e,
                        n = t.touches && t.touches.length ? t.touches : [t],
                        a = t.changedTouches && t.changedTouches[0] || n[0];
                    return {
                        x: a.clientX,
                        y: a.clientY
                    }
                }

                function n(e, n) {
                    var i = [];
                    return t.forEach(e, function(e) {
                        var t = a[e][n];
                        t && i.push(t)
                    }), i.join(" ")
                }
                var a = {
                    mouse: {
                        start: "mousedown",
                        move: "mousemove",
                        end: "mouseup"
                    },
                    touch: {
                        start: "touchstart",
                        move: "touchmove",
                        end: "touchend",
                        cancel: "touchcancel"
                    }
                };
                return {
                    bind: function(t, a, i) {
                        var s, o, r, l, c = !1;
                        i = i || ["mouse", "touch"], t.on(n(i, "start"), function(t) {
                            r = e(t), c = !0, s = 0, o = 0, l = r, a.start && a.start(r, t)
                        });
                        var u = n(i, "cancel");
                        u && t.on(u, function(e) {
                            c = !1, a.cancel && a.cancel(e)
                        }), t.on(n(i, "move"), function(t) {
                            if (c && r) {
                                var n = e(t);
                                if (s += Math.abs(n.x - l.x), o += Math.abs(n.y - l.y), l = n, !(s < 10 && o < 10)) return o > s ? (c = !1, void(a.cancel && a.cancel(t))) : (t.preventDefault(), void(a.move && a.move(n, t)))
                            }
                        }), t.on(n(i, "end"), function(t) {
                            c && (c = !1, a.end && a.end(e(t), t))
                        })
                    }
                }
            }
        ]);
        var o = ["$parse", "$timeout", "$rootElement",
            function(e, a, i) {
                function s(e, t, n, a) {
                    return Math.abs(e - n) < f && Math.abs(t - a) < f
                }

                function o(e, t, n) {
                    for (var a = 0; a < e.length; a += 2)
                        if (s(e[a], e[a + 1], t, n)) return e.splice(a, a + 2), !0;
                    return !1
                }

                function r(e) {
                    if (!(Date.now() - u > m)) {
                        var t = e.touches && e.touches.length ? e.touches : [e],
                            a = t[0].clientX,
                            i = t[0].clientY;
                        a < 1 && i < 1 || p && p[0] === a && p[1] === i || (p && (p = null), "label" === n(e.target) && (p = [a, i]), o(d, a, i) || (e.stopPropagation(), e.preventDefault(), e.target && e.target.blur && e.target.blur()))
                    }
                }

                function l(e) {
                    var t = e.touches && e.touches.length ? e.touches : [e],
                        n = t[0].clientX,
                        i = t[0].clientY;
                    d.push(n, i), a(function() {
                        for (var e = 0; e < d.length; e += 2)
                            if (d[e] == n && d[e + 1] == i) return void d.splice(e, e + 2)
                    }, m, !1)
                }

                function c(e, t) {
                    d || (i[0].addEventListener("click", r, !0), i[0].addEventListener("touchstart", l, !0), d = []), u = Date.now(), o(d, e, t)
                }
                var u, d, p, m = 2500,
                    f = 25,
                    g = "ng-click-active";
                return function(n, a, i) {
                    function s() {
                        p = !1, a.removeClass(g)
                    }
                    var o, r, l, u, d = e(i.ngClick),
                        p = !1;
                    a.on("touchstart", function(e) {
                        p = !0, 3 == (o = e.target ? e.target : e.srcElement).nodeType && (o = o.parentNode), a.addClass(g), r = Date.now();
                        var t = e.originalEvent || e,
                            n = (t.touches && t.touches.length ? t.touches : [t])[0];
                        l = n.clientX, u = n.clientY
                    }), a.on("touchcancel", function(e) {
                        s()
                    }), a.on("touchend", function(e) {
                        var n = Date.now() - r,
                            d = e.originalEvent || e,
                            m = (d.changedTouches && d.changedTouches.length ? d.changedTouches : d.touches && d.touches.length ? d.touches : [d])[0],
                            f = m.clientX,
                            g = m.clientY,
                            h = Math.sqrt(Math.pow(f - l, 2) + Math.pow(g - u, 2));
                        p && n < 750 && h < 12 && (c(f, g), o && o.blur(), t.isDefined(i.disabled) && !1 !== i.disabled || a.triggerHandler("click", [e])), s()
                    }), a.onclick = function(e) {}, a.on("click", function(e, t) {
                        n.$apply(function() {
                            d(n, {
                                $event: t || e
                            })
                        })
                    }), a.on("mousedown", function(e) {
                        a.addClass(g)
                    }), a.on("mousemove mouseup", function(e) {
                        a.removeClass(g)
                    })
                }
            }
        ];
        i("ngSwipeLeft", -1, "swipeleft"), i("ngSwipeRight", 1, "swiperight")
    }(window, window.angular), angular.module("app", ["ngAnimate", "ngSanitize", "ui.bootstrap", "angular-clipboard"]), angular.module("app").run(["$rootScope",
        function(e) {
            e.URL = "test"
        }
    ]), angular.module("app").factory("interceptors", [
        function() {
            return {
                request: function(e) {
                    return e.beforeSend && e.beforeSend(), e
                },
                response: function(e) {
                    return e.config.complete && e.config.complete(e), e
                }
            }
        }
    ]), angular.module("app").config(["$httpProvider",
        function(e) {
            e.interceptors.push("interceptors"), e.defaults.headers.post["Content-Type"] = "application/x-www-form-urlencoded;charset=utf-8", e.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest";
            var t = function(e) {
                var n, a, i, s, o, r, l = "";
                for (n in e)
                    if ((a = e[n]) instanceof Array)
                        for (r = 0; r < a.length; ++r) s = a[r], (o = {})[n + "[" + r + "]"] = s, l += t(o) + "&";
                    else if (a instanceof Object)
                    for (i in a) s = a[i], (o = {})[n + "[" + i + "]"] = s, l += t(o) + "&";
                else void 0 !== a && null !== a && (l += encodeURIComponent(n) + "=" + encodeURIComponent(a) + "&");
                return l.length ? l.substr(0, l.length - 1) : l
            };
            e.defaults.transformRequest = [
                function(e) {
                    return angular.isObject(e) && "[object File]" !== String(e) ? t(e) : e
                }
            ]
        }
    ]), $(function() {
        function e() {
            $.post("./index.php?c=utility&a=sync", function() {
                setTimeout(e, 6e4)
            })
        }

        function t() {
            1 == util.cookie.get("main-lg") ? ($(".skin-default").addClass("main-lg-body"), $(".js-big-main").text("正常")) : ($(".skin-default").removeClass("main-lg-body"), $(".js-big-main").text("宽屏"))
        }
        util.cookie_message(), $(".js-clip").each(function() {
            util.clip(this, $(this).attr("data-url"))
        }), $.fn.tooltip && ($('[data-toggle="tooltip"]').tooltip(), $('[data-toggle="dropdown"]').dropdown()), $("img").error(function() {
            if (!$(this).attr("onerror")) {
                var e = "resource/images/nopic-107.png";
                $(this).width() == $(this).height() ? e = "resource/images/nopic-107.png" : $(this).width() < $(this).height() && (e = "resource/images/nopic-203.png"), $(this).attr("src", e)
            }
        }), e(), window.sysinfo.uid, window.sysinfo.module && window.sysinfo.module.name && (null === util.cookie.get("module_status:" + window.sysinfo.module.name) || null === util.cookie.get("module_status:" + window.sysinfo.module.name) ? $.getJSON("./index.php?c=module&a=manage-account&do=check_status&module=" + window.sysinfo.module.name, function(e) {
            (1 == e.message.errno || 2 == e.message.errno && 1 == window.sysinfo.isfounder) && $(".head").after('<div class="system-tips we7-body-alert"><div class="container text-right"> <span class="alert-info"><a href="javascript:;">' + e.message.message + "</a></span></div></div>")
        }) : (module_status = util.cookie.get("module_status:" + window.sysinfo.module.name), module_status = $.parseJSON(module_status), 1 == module_status.ban ? $(".head").after('<div class="system-tips we7-body-alert"><div class="container text-right"> <span class="alert-info"><a href="javascript:;">您的站点存在盗版模块, 请删除文件后联系客服</a></span></div></div>') : 1 == module_status.upgrade.upgrade && 1 == window.sysinfo.isfounder && $(".head").after('<div class="system-tips we7-body-alert"><div class="container text-right"> <span class="alert-info"><a href="javascript:;">【' + module_status.upgrade.name + "】检测最新版为" + module_status.upgrade.version + "，请尽快更新！</a></span></div></div>"))), window.sysinfo.isfounder && (util.cookie.get("checkupgrade_sys") || $.getJSON("./index.php?c=utility&a=checkupgrade&do=system", function(e) {
            e && e.message && "1" == e.message.upgrade && $(".head").after('<div id="upgrade-tips" class="upgrade-tips we7-body-alert"><div class="alert-info text-center color-red"><a href="./index.php?c=cloud&a=upgrade&">系统检测到新版本 ' + e.message.version + " (" + e.message.release + ') ，请尽快更新！</a><span class="tips-close" onclick="checkupgrade_hide();"><i class="wi wi-error-sign"></i></span></div></div>')
        })), $(".js-big-main").click(function() {
            var e = $(".skin-default").hasClass("main-lg-body") ? "0" : "1";
            util.cookie.set("main-lg", e), t()
        })
    }), window.UEDITOR_HOME_URL = "./resource/components/ueditor/", $(function() {
        if (1 == $("[data-skin='black']").length && resizeView(), 3 == $(".menu-fixed, .left-menu, .right-content").length) {
            var e = document.documentElement.clientHeight,
                t = $(".left-menu"),
                n = t.offset().top,
                a = t.css("position"),
                i = $(".footer").length > 0 ? $(".footer").css("height") : 0;
            "default" == $(".skin-default").attr("data-skin") && $(".left-menu, .skin-default .right-content").css("min-height", e - 174 - parseInt(i) + "px"), "black" == $(".skin-black").attr("data-skin") && $(".left-menu, .skin-default .right-content").css("min-height", e - 51 + "px"), $(window).scroll(function() {
                var s = $(".footer").length > 0 ? $(".footer").offset().top : 0,
                    o = $(document).scrollTop(),
                    r = s ? s - o : e;
                "default" == $(".skin-default").attr("data-skin") ? (o > n ? t.css({
                    position: "fixed",
                    top: 0
                }) : t.css({
                    position: a,
                    top: n
                }), o > n ? $(".right-content").css({
                    marginLeft: t.css("width")
                }) : $(".right-content").css({
                    marginLeft: 0
                }), e > r ? t.css("height", r - 31) : t.css("height", e)) : "black" == $(".skin-black").attr("data-skin") && (o > n ? t.css({
                    position: "fixed",
                    top: 0
                }) : t.css({
                    position: a,
                    top: n
                }), o > n ? $(".right-content").css({
                    marginLeft: t.css("width")
                }) : $(".right-content").css({
                    marginLeft: 0
                }), e > r ? t.css("height", r + parseInt(i) + "px") : t.css("height", e))
            })
        }
        if (1 == $("[data-skin='classical']").length) {
            var e = document.documentElement.clientHeight,
                i = $(".footer").length > 0 ? $(".footer").css("height") : 0;
            2 == $(".left-menu, .right-content").length && ($(".left-menu,.right-content").css("min-height", e - 51), $(".right-content>.content").css("min-height", e - parseInt(i) - 71)), $(".panel-cut").length > 0 && $(".panel-cut").css("min-height", e - parseInt(i) - 20)
        }
    }), angular.module("app").directive("we7Colorpicker", [
        function() {
            return {
                templateUrl: "directive-colorpicker-colorpicker.html",
                scope: {
                    colorValue: "=we7MyColor",
                    colorDefault: "=we7MyDefaultColor",
                    colorFormName: "=we7FormName"
                },
                link: function(e, t, n) {
                    $(t).data("data-colorpicker-init") || (util.colorpicker(t, function(n) {
                        $(t).parent().parent().find(":text").val(n.toHexString()), e.colorValue = n.toHexString(), e.$apply("colorValue"), e.$watch("colorValue", function(n) {
                            $(t).spectrum("get") != n && ($(t).spectrum("set", n || e.colorDefault), $(t).parent().parent().find(":text").val(n || e.colorDefault), $(t).parent().parent().find(".input-group-addon").css("background-color", n || e.colorDefault))
                        })
                    }), $(t).find(".colorclean").click(function() {
                        return $(t).find(":text").val("rgba(0,0,0,0)"), $(t).find(".input-group-addon").css("background-color", "rgba(0,0,0,0)"), e.colorValue = e.colorDefault = "rgba(0,0,0,0)", $(t).spectrum("set", e.colorDefault), e.$apply("colorValue"), !1
                    }), $(t).data("data-colorpicker-init", !0))
                }
            }
        }
    ]), angular.module("app").directive("we7DatePicker", ["$http", "$parse",
        function() {
            return {
                transclude: !0,
                template: "<span ng-transclude></span>",
                scope: {
                    dateValue: "=we7DateValue"
                },
                link: function(e, t, n) {
                    var a = {
                        lang: "zh",
                        step: "1",
                        format: "Y-m-d H:i:s",
                        closeOnDateSelect: !0,
                        onSelectDate: function(t, n) {
                            e.dateValue = t.dateFormat("Y-m-d H:i:s"), e.$apply("dateValue")
                        },
                        onSelectTime: function(t, n) {
                            e.dateValue = t.dateFormat("Y-m-d H:i:s"), e.$apply("dateValue")
                        }
                    };
                    $(t).datetimepicker(a)
                }
            }
        }
    ]), angular.module("app").directive("we7Editor", function() {
        var e = {
            scope: {
                value: "=?we7MyValue",
                params: "=?we7MyParams"
            },
            template: '<textarea id="" rows="10" style="height:600px;width:100%"></textarea>',
            link: function(t, n, a) {
                if (!n.data("editor")) {
                    n.find("textarea").attr("id", "editor" + (new Date).getTime());
                    var i = {
                        autoClearinitialContent: !1,
                        toolbars: [
                            ["fullscreen", "source", "preview", "|", "bold", "italic", "underline", "strikethrough", "forecolor", "backcolor", "|", "justifyleft", "justifycenter", "justifyright", "|", "insertorderedlist", "insertunorderedlist", "blockquote", "emotion", "link", "removeformat", "|", "rowspacingtop", "rowspacingbottom", "lineheight", "indent", "paragraph", "fontfamily", "fontsize", "|", "inserttable", "deletetable", "insertparagraphbeforetable", "insertrow", "deleterow", "insertcol", "deletecol", "mergecells", "mergeright", "mergedown", "splittocells", "splittorows", "splittocols", "|", "anchor", "map", "print", "drafts"]
                        ],
                        elementPathEnabled: !1,
                        initialFrameHeight: 200,
                        focus: !1,
                        maximumWords: 9999999999999,
                        autoFloatEnabled: !1
                    };
                    e = UE.getEditor(n.find("textarea").attr("id"), i), n.data("editor", e), e.addListener("contentChange", function() {
                        t.value = e.getContent(), t.value && (t.params = t.value.replace(/\&quot;/g, "#quot;")), t.$root.$$phase || t.$apply("value")
                    }), e.addListener("ready", function() {
                        !t.value && t.params && (t.value = t.params.replace(/\#quot;/g, "&quot;")), t.value && e && e.getContent() != t.value && e.setContent(t.value), t.$watch("value", function(t) {
                            e && e.getContent() != t && e.setContent(t || "")
                        })
                    })
                }
            }
        };
        return e
    }), angular.module("app").directive("we7Iconer", ["$templateCache",
        function(e) {
            var t = e.get("directive-iconer-nav-pills-inline.html"),
                n = e.get("directive-iconer-tab-content-inline.html");
            return {
                scope: {
                    image: "=we7MyImage",
                    icon: "=we7MyIcon",
                    iconcolor: "=we7MyIconColor"
                },
                transclude: !0,
                templateUrl: "directive-iconer-iconer.html",
                link: function(e, a, i) {
                    e.selectIcon = function() {
                        require(["fileUploader"], function(a) {
                            var i = a.show(function(t) {
                                e.image = t.url, e.icon = {}, e.$apply("image"), e.$apply("icon")
                            }, {
                                direct: !0,
                                multiple: !1
                            });
                            i.on("shown.bs.modal", function() {
                                i.find(".nav-pills").append(t), i.find(".tab-content").append(n), $.get("./index.php?c=utility&a=icon&callback=selectIconComplete", function(t) {
                                    i.find("#icon").append(t), i.find("#icon").find("input").val(e.iconcolor), i.find("#icon").attr("color", e.iconcolor), i.find("#icon").find("i").css("color", e.iconcolor)
                                })
                            }), window.selectIconComplete = function(t) {
                                e.icon = {}, e.icon.name = t, e.icon.color = i.find("#icon").attr("color"), e.image = "", e.$apply("image"), e.$apply("icon"), i.modal("hide")
                            }
                        })
                    }, e.removeIcon = function() {
                        e.image = "", e.icon = {}
                    }
                }
            }
        }
    ]), angular.module("app").directive("we7InitialSearchbar", function() {
        return {
            templateUrl: "directive-initialsearchbar-searchbar.html",
            scope: {
                doSearch: "&we7SearchCallback"
            },
            link: function(e, t, n) {
                e.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], e.searchResult = function(t) {
                    e.activeLetter = t, e.doSearch({
                        letter: t
                    })
                }
            }
        }
    }), angular.module("app").directive("we7Linker", ["$http", "$templateCache",
        function(e, t) {
            var n = t.get("directive-linker-cms-header-inline.html"),
                a = t.get("directive-linker-cms-content-inline.html"),
                s = t.get("directive-linker-cms-article-item-inline.html"),
                o = t.get("directive-linker-cms-cate-item-inline.html"),
                r = t.get("directive-linker-news-content-inline.html"),
                l = t.get("directive-linker-news-item-inline.html"),
                c = t.get("directive-linker-page-content-inline.html"),
                u = t.get("directive-linker-page-item-inline.html"),
                d = t.get("directive-linker-map-content-inline.html"),
                p = t.get("directive-linker-tel-content-inline.html");
            return {
                templateUrl: "directive-linker-linker.html",
                scope: {
                    url: "=we7MyUrl",
                    title: "=we7MyTitle"
                },
                link: function(t, m, f) {
                    m.find(".input-group-btn").mouseover(function(e) {
                        clearTimeout(t.timer), m.find(".dropdown-menu").show()
                    }).mouseout(function() {
                        t.timer = setTimeout(function() {
                            m.find(".dropdown-menu").hide()
                        }, 500)
                    }), m.find(".dropdown-menu").mouseover(function() {
                        clearTimeout(t.timer), m.find(".dropdown-menu").show()
                    }).mouseout(function() {
                        t.timer = setTimeout(function() {
                            m.find(".dropdown-menu").hide()
                        }, 500)
                    }), t.addLink = function(e, n) {
                        t.url = e, n && (t.title = n)
                    }, t.searchSystemLinker = function() {
                        t.modalobj = util.dialog("请选择链接", ["./index.php?c=utility&a=link&callback=selectLinkComplete"], "", {
                            containerName: "link-search-system"
                        }), t.modalobj.modal({
                            keyboard: !1
                        }), t.modalobj.find(".modal-body").css({
                            height: "680px",
                            "overflow-y": "auto"
                        }), t.modalobj.modal("show"), window.selectLinkComplete = function(e, n) {
                            t.addLink(e, n), t.$apply("url", "title"), t.modalobj.modal("hide")
                        }
                    }, t.searchCmsLinker = function(r) {
                        var l = {};
                        l.header = n, l.content = a, l.footer = "", l.articleitem = s, l.cateitem = o, $("#link-search-cms")[0] ? t.modalobj = $("#link-search-cms").data("modal") : (t.modalobj = util.dialog(l.header, l.content, l.footer, {
                            containerName: "link-search-cms"
                        }), t.modalobj.find(".modal-body").css({
                            height: "680px",
                            "overflow-y": "auto"
                        }), t.modalobj.modal("show"), t.modalobj.on("hidden.bs.modal", function() {
                            t.modalobj.remove()
                        }), $("#link-search-cms").data("modal", t.modalobj)), r = r || 1;
                        var c = $("#articlelist .article-list-input").val();
                        e.get("./index.php?c=utility&a=link&do=articlelist&page=" + r + "&keyword=" + c).success(function(e, n, a, s) {
                            var o = {
                                items: []
                            };
                            if (e.message = e.message.message, e.message.list) {
                                for (i in e.message.list) o.items.push({
                                    title: e.message.list[i].title,
                                    id: e.message.list[i].id,
                                    uniacid: e.message.list[i].uniacid,
                                    attachment: e.message.list[i].thumb_url,
                                    createtime: e.message.list[i].createtime
                                });
                                t.modalobj.find("#articlelist tbody").html(_.template(l.articleitem)(o)), t.modalobj.find("#pager").html(e.message.pager), t.modalobj.find("#pager .pagination li[class!='active'] a").click(function() {
                                    return t.searchCmsLinker($(this).attr("page")), !1
                                }), t.modalobj.find("#articlelist .input-group-btn").click(function() {
                                    return t.searchCmsLinker(), !1
                                }), t.modalobj.find(".js-btn-select").click(function() {
                                    t.addLink($(this).attr("js-url"), $(this).attr("js-title")), t.$apply("url", "title"), t.modalobj.modal("hide")
                                })
                            }
                        });
                        var u = $("#category .category-list-input").val();
                        e.get("./index.php?c=utility&a=link&do=catelist&page=" + r + "&keyword=" + u).success(function(e, n, a, s) {
                            var o = {
                                items: []
                            };
                            if (e.message = e.message.message, e.message) {
                                for (i in e.message) o.items.push({
                                    id: e.message[i].id,
                                    uniacid: e.message[i].uniacid,
                                    name: e.message[i].name,
                                    children: e.message[i].children
                                });
                                t.modalobj.find("#category tbody").html(_.template(l.cateitem)(o)), t.modalobj.find("#category .input-group-btn").click(function() {
                                    return t.searchCmsLinker(), !1
                                }), t.modalobj.find(".js-btn-select").click(function() {
                                    t.addLink($(this).attr("js-url"), $(this).attr("js-title")), t.$apply("url", "title"), t.modalobj.modal("hide")
                                })
                            }
                        })
                    }, t.searchNewsLinker = function(n) {
                        var a = {};
                        a.content = r, a.footer = "", a.newsitem = l, $("#link-search-news")[0] ? t.modalobj = $("#link-search-news").data("modal") : (t.modalobj = util.dialog(a.header, a.content, a.footer, {
                            containerName: "link-search-news"
                        }), t.modalobj.find(".modal-body").css({
                            height: "680px",
                            "overflow-y": "auto"
                        }), t.modalobj.modal("show"), t.modalobj.on("hidden.bs.modal", function() {
                            t.modalobj.remove()
                        }), $("#link-search-news").data("modal", t.modalobj)), n = n || 1;
                        var s = $("#newslist .news-list-input").val();
                        e.get("./index.php?c=utility&a=link&do=newslist&page=" + n + "&keyword=" + s).success(function(e, n, s, o) {
                            var r = {
                                items: []
                            };
                            if (e.message = e.message.message, e.message.list) {
                                for (i in e.message.list) r.items.push({
                                    title: e.message.list[i].title,
                                    id: e.message.list[i].id,
                                    uniacid: window.sysinfo.uniacid,
                                    attachment: e.message.list[i].thumb_url,
                                    createtime: e.message.list[i].createtime
                                });
                                t.modalobj.find("#newslist tbody").html(_.template(a.newsitem)(r)), t.modalobj.find("#pager").html(e.message.pager), t.modalobj.find("#pager .pagination li[class!='active'] a").click(function() {
                                    return t.searchNewsLinker($(this).attr("page")), !1
                                }), t.modalobj.find("#newslist .input-group-btn").click(function() {
                                    return t.searchNewsLinker(), !1
                                }), t.modalobj.find(".js-btn-select").click(function() {
                                    t.addLink($(this).attr("js-url"), $(this).attr("js-title")), t.$apply("url", "title"), t.modalobj.modal("hide")
                                })
                            }
                        })
                    }, t.searchPageLinker = function(n) {
                        var a = {};
                        a.content = c, a.footer = "", a.pageItem = u, $("#link-search-page")[0] ? t.modalobj = $("#link-search-page").data("modal") : (t.modalobj = util.dialog(a.header, a.content, a.footer, {
                            containerName: "link-search-page"
                        }), t.modalobj.find(".modal-body").css({
                            height: "680px",
                            "overflow-y": "auto"
                        }), t.modalobj.modal("show"), t.modalobj.on("hidden.bs.modal", function() {
                            t.modalobj.remove()
                        }), $("#link-search-page").data("modal", t.modalobj)), n = n || 1;
                        var s = $("#pageList .page-list-input").val();
                        e.get("./index.php?c=utility&a=link&do=pagelist&&page=" + n + "&keyword=" + s).success(function(e, n, s, o) {
                            var r = {
                                items: []
                            };
                            if (e.message = e.message.message, e.message.list) {
                                for (i in e.message.list) r.items.push({
                                    title: e.message.list[i].title,
                                    id: e.message.list[i].id,
                                    uniacid: window.sysinfo.uniacid,
                                    createtime: e.message.list[i].createtime
                                });
                                t.modalobj.find("#pageList tbody").html(_.template(a.pageItem)(r)), t.modalobj.find("#pager").html(e.message.pager), t.modalobj.find("#pager .pagination li[class!='active'] a").click(function() {
                                    return t.searchPageLinker($(this).attr("page")), !1
                                }), t.modalobj.find("#pageList .input-group-btn").click(function() {
                                    return t.searchPageLinker(), !1
                                }), t.modalobj.find(".js-btn-select").click(function() {
                                    t.addLink($(this).attr("js-url"), $(this).attr("js-title")), t.$apply("url", "title"), t.modalobj.modal("hide")
                                })
                            }
                        })
                    }, t.searchMapPosLinker = function() {
                        var e = {};
                        e.content = d, t.modalobj = util.dialog(e.content), t.modalobj.modal("show"), t.modalobj.find("#getnav").click(function() {
                            t.addLink("http://api.map.baidu.com/marker?location=" + $("#navlat").val() + "," + $("#navlng").val() + "&title=" + $("#navtitle").val() + "&name=" + $("#navtitle").val() + "&output=html&src=we7", $("#navtitle").val()), t.$apply("url", "title"), t.modalobj.modal("hide")
                        })
                    }, t.addTelLinker = function() {
                        var e = {};
                        e.content = p, t.modalobj = util.dialog("一键拨号", e.content), t.modalobj.modal("show"), t.modalobj.find(".btn-primary").click(function() {
                            t.addLink("tel:" + t.modalobj.find("#telphone").val(), ""), t.$apply("url", "title"), t.modalobj.modal("hide")
                        })
                    }
                }
            }
        }
    ]), angular.module("app").run(["$templateCache",
        function(e) {
            "use strict";
            e.put("directive-colorpicker-colorpicker.html", '<div class="input-group"><input type="text" name="{{colorFormName}}" value="" ng-model="colorValue" class="form-control"> <span class="input-group-addon" style="width:35px; border-left:none" ng-style="{\'background-color\' : colorValue}"></span> <span class="input-group-btn"><button class="btn btn-default colorpicker" type="button">选择颜色 <i class="fa fa-caret-down"></i></button> <button class="btn btn-default colorclean" type="button"><span><i class="fa fa-remove"></i></span></button></span></div>'), e.put("directive-iconer-iconer.html", '<div class="nav-img-box" style="background-color: #2B2D30"><div class="btns"><a style="height:19px" ng-click="removeIcon()" href="javascript:;"><i class="fa fa-times"></i></a></div><div class="nav-img" ng-style="{\'background-image\': image ? \'url(\'+image+\')\' : \'\'}"><i ng-hide="menu.image" class="fa" ng-style="{\'color\' : icon.color}" ng-class="icon.name"></i></div><a href="javascript:;" ng-click="selectIcon()"><span ng-transclude></span></a></div>'), e.put("directive-iconer-nav-pills-inline.html", '<li id="li_icon" role="presentation"><a href="#icon" aria-controls="icon" role="tab" data-toggle="tab">图标</a></li>'), e.put("directive-iconer-tab-content-inline.html", '<div id="icon" class="tab-pane icon form-horizontal" role="tabpanel"><div class="form-group" style="border-bottom:1px solid #e5e5e5; padding:0 0 15px 0; margin:10px 0 0 0"><label class="col-xs-3 control-label">图标颜色</label><div class="col-xs-9"><input type="color" value="" class="form-control" id="iconcolor" onchange="$(this).parents(\'#icon\').attr(\'color\', this.value);$(this).parents(\'#icon\').find(\'i\').css(\'color\', this.value)"></div></div></div>'), e.put("directive-initialsearchbar-searchbar.html", '<ul class="letters-list cut-wechat-letters"><li ng-click="searchResult(\'\')"><a href="javascript:;">不限</a></li><li ng-repeat="letter in alphabet" ng-style="{\'background-color\': letter == activeLetter ? \'#ddd\' : \'none\'}" ng-class="{\'active\': letter == activeLetter}" ng-click="searchResult(letter)"><a href="javascript:;" ng-bind="letter"></a></li></ul>'), e.put("directive-linker-cms-article-item-inline.html", '<%_.each(items, function(item) {%><tr><td><a href="#" data-cover-attachment-url="<%=item.attachment%>" title="<%=item.title%>"><%=item.title%></a></td><td><%=item.createtime%></td><td class="text-right"><button class="btn btn-default js-btn-select" js-url="./index.php?c=site&a=site&do=detail&id=<%=item.id%>&i=<%=item.uniacid%>" js-title="<%=item.title%>">选取</button></td></tr><%});%>'), e.put("directive-linker-cms-cate-item-inline.html", '<%_.each(items, function(item) {%><tr><td colspan="2"><a href="#"><%=item.name%></a></td><td class="text-right"><a class="btn btn-default js-btn-select" js-url="./index.php?c=site&a=site&cid=<%=item.id%>&i=<%=item.uniacid%>" js-title="<%=item.name%>">选取</a></td></tr><%_.each(item.children, function(child) {%><tr><td colspan="2" style="padding-left:50px;height:30px;line-height:30px;background-image:url(\\\'./resource/images/bg_repno.gif\\\'); background-repeat:no-repeat; background-position: -245px -540px"><a href="#"><%=child.name%></a></td><td class="text-right"><a class="btn btn-default js-btn-select" js-url="./index.php?c=site&a=site&cid=<%=child.id%>&i=<%=child.uniacid%>" js-title="<%=child.name%>">选取</a></td></tr><%});%><%});%>'), e.put("directive-linker-cms-content-inline.html", '<div class="tab-content"><div id="articlelist" class="tab-pane active" role="tabpanel"><table class="table table-hover"><thead class="navbar-inner"><tr><th style="width:40%">标题</th><th style="width:30%">创建时间</th><th style="width:30%; text-align:right"><div class="input-group input-group-sm"><input type="text" class="form-control article-list-input"> <span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-search"></i></button></span></div></th></tr></thead><tbody></tbody></table><div id="pager" style="text-align:center"></div></div><div id="category" class="tab-pane" role="tabpanel"><table class="table table-hover"><thead class="navbar-inner"><tr><th style="width:40%">标题</th><th style="width:30%">创建时间</th><th style="width:30%; text-align:right"><div class="input-group input-group-sm"><input type="text" class="form-control category-list-input"> <span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-search"></i></button></span></div></th></tr></thead><tbody></tbody></table><div id="pager" style="text-align:center"></div></div></div>'), e.put("directive-linker-cms-header-inline.html", '<ul role="tablist" class="nav nav-pills" style="font-size:14px; margin-top:-20px"><li role="presentation" class="active" id="li_goodslist"><a data-toggle="tab" role="tab" aria-controls="articlelist" href="#articlelist">文章</a></li><li role="presentation" class="" id="li_category"><a data-toggle="tab" role="tab" aria-controls="category" href="#category">分类</a></li></ul>'), e.put("directive-linker-linker.html", '<div class="dropdown link"><div class="input-group"><input type="text" value="" placeholder="链接地址:http://example.com" ng-model="url" class="form-control"> <span class="input-group-btn"><button class="btn btn-default" type="button" onclick="">选择链接 <i class="fa fa-caret-down"></i></button></span></div><ul class="dropdown-menu" role="menu" style="left: 0; right:0"><li><a href="javascript:;" ng-click="searchSystemLinker()">系统菜单</a></li><li><a href="javascript:;" ng-click="searchPageLinker()">微页面</a></li><li><a href="javascript:;" ng-click="searchCmsLinker()">文章及分类</a></li><li><a href="javascript:;" ng-click="searchNewsLinker()">图文回复</a></li><li><a href="javascript:;" ng-click="searchMapPosLinker()">一键导航</a></li><li><a href="javascript:;" ng-click="addTelLinker()">一键拨号</a></li></ul></div>'), e.put("directive-linker-map-content-inline.html", '<div class="model-dialog"><div class="model-content"><div class="modal-header"><h4 class="modal-title" id="myModalLabel">一键导航</h4></div><div class="modal-body"><form action="" class="form-horizontal" role="form" enctype="multipart/form-data"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 col-lg-2 control-label"><span style="font-size:16px">标题</span></label><div class="col-sm-9 col-xs-12"><input type="text" id="navtitle" class="form-control" name="navtitle" value=""></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 col-lg-2 control-label"><span style="font-size:16px">地理位置</span></label><div class="col-sm-9 col-xs-12"><div class="row row-fix"><div class="col-xs-4 col-sm-4"><input type="text" name="navtitle[lng]" id="navlng" value="" placeholder="地理经度" class="form-control"></div><div class="col-xs-4 col-sm-4"><input type="text" name="navtitle[lat]" id="navlat" value="" placeholder="地理纬度" class="form-control"></div><div class="col-xs-4 col-sm-4"><button onclick="showCoordinate(this)" class="btn btn-default" type="button">选择坐标</button></div></div><script type="text/javascript">function showCoordinate(elm) {\r\n\t\t\t\t\tvar val = {};\r\n\t\t\t\t\tval.lng = parseFloat($(elm).parent().prev().prev().find(":text").val());\r\n\t\t\t\t\tval.lat = parseFloat($(elm).parent().prev().find(":text").val());\r\n\t\t\t\t\tutil.map(val, function(r){\r\n\t\t\t\t\t\t$(elm).parent().prev().prev().find(":text").val(r.lng);\r\n\t\t\t\t\t\t$(elm).parent().prev().find(":text").val(r.lat);\r\n\t\t\t\t\t});\r\n\t\t\t\t};<\/script></div></div></form></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal" id="getnav">确定</button></div></div>'), e.put("directive-linker-news-content-inline.html", '<div id="newslist" class="tab-pane active" role="tabpanel"><table class="table table-hover"><thead class="navbar-inner"><tr><th style="width:40%">标题</th><th style="width:30%">创建时间</th><th style="width:30%; text-align:right"><div class="input-group input-group-sm"><input type="text" class="form-control news-list-input"> <span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-search"></i></button></span></div></th></tr></thead><tbody></tbody></table><div id="pager" style="text-align:center"></div></div>'), e.put("directive-linker-news-item-inline.html", '<%_.each(items, function(item) {%><tr><td><a href="#" data-cover-attachment-url="<%=item.attachment%>" title="<%=item.title%>"><%=item.title%></a></td><td><%=item.createtime%></td><td class="text-right"><button class="btn btn-default js-btn-select" js-url="./index.php?i=<%=item.uniacid%>&c=entry&id=<%=item.id%>&do=detail&m=news" js-title="<%=item.title%>">选取</button></td></tr><%});%>'), e.put("directive-linker-page-content-inline.html", '<div id="pageList" class="tab-pane active" role="tabpanel"><table class="table table-hover"><thead class="navbar-inner"><tr><th style="width:40%">名称</th><th style="width:30%">创建间</th><th style="width:30%; text-align:right"><div class="input-group input-group-sm"><input type="text" class="form-control page-list-input"> <span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-search"></i></button></span></div></th></tr></thead><tbody></tbody></table><div id="pager" style="text-align:center"></div></div>'), e.put("directive-linker-page-item-inline.html", '<%_.each(items, function(item) {%><tr><td><a href="#" title="<%=item.title%>"><%=item.title%></a></td><td><%=item.createtime%></td><td class="text-right"><button class="btn btn-default js-btn-select" js-url="./index.php?i=<%=item.uniacid%>&c=home&a=page&id=<%=item.id%>" js-title="<%=item.title%>">选取</button></td></tr><%});%>'), e.put("directive-linker-tel-content-inline.html", '<div class="" id="telphone-modal"><div class="form-group list-group-item clearfix"><label style="margin-top:5px" class="col-xs-12 col-sm-2 col-md-2 control-label">号码</label><div class="col-sm-6"><input type="text" value="" id="telphone" name="telphone" class="form-control"></div><div class="col-sm-4"><a class="btn btn-primary" href="javascript:;">确定</a></div></div></div>'), e.put("fans-tag-selector.html", '<div style="text-align:left" class="modal fade {{modalClass}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">勾选粉丝标签（每个粉丝最多3个标签）</h4></div><div class="modal-body row"><label class="checkbox-inline col-md-3" style="margin-left:0px" ng-repeat="tag in tags" ng-click="checkMaxNumb($event)"><input type="checkbox" value="{{tag.id}}" ng-model="selectTags[tag.id]"> {{tag.name}}</label></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="tagSubmit($event)" data-dismiss="modal">确定</button></div></div></div></div>'), e.put("directive-multipage-multipage.html", '<div class="page-navigator"><div class="top-title">页面</div><div class="page-list"><ul><li class="page-menu" ng-repeat="page in allPages track by $index" ng-click="navToPage($index)" ng-init="" ng-class="{\'current\' : page.num-1 == $index}"><div class="page-thumb-block" ng-class="{active : page.active}"><div class="page-thumb"><div class="page-thumb-con"></div></div><div class="page-menu-title" ng-bind="{{$index+1}}"></div><div class="icon icon-remove" ng-click="removePage($index);"><span class="fa fa-trash"></span></div><div class="icon icon-copy" ng-click="copyPage($index, $event);" ng-if="isMultiPage"><span class="fa fa-copy"></span></div></div></li></ul></div><div class="add-blank-page" ng-click="insertPage();" ng-if="isMultiPage">+</div><div class="template hidden"><ul class="nav nav-tabs nav-justified"><li class="active"><a href="#">普通版式</a></li><li><a href="#">统计版式</a></li><li><a href="#">特效版式</a></li></ul><div class="template-area"><div class="template-item"><div class="add-icon"><span class="fa fa-plus-circle"></span></div><div class="text">空白页</div></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div></div></div></div>'), e.put("widget-cardactivity-display.html", '<div ng-controller="CardActivityCtrl"><div class="nav-container" ng-if="module.params.discount_type != 0 && module.params.discount_style == 1"><div class="list-group"><div class="list-group-item"><a href="#">优惠说明 <span class="pull-right"><i class="fa fa-angle-right"></i></span></a></div></div></div><div class="app-richText" ng-if="module.params.discount_type != 0 && module.params.discount_style == 2" ng-style="{\'background-color\' : module.params.bgColor}"><div class="inner" ng-bind-html="module.params.content" ng-if="module.params.content"></div><div class="inner js-default-content" ng-if="!module.params.content"><p>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行 <strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline">下划线</span>、 <span style="text-decoration: line-through">删除线</span>、文字<span style="color: rgb(0, 176, 240)">颜色</span>、 <span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255)">背景色</span>、 以及字号<span style="font-size: 20px">大</span><span style="font-size: 14px">小</span>等简单排版操作。</p><p>还可以在这里加入表格了</p><table class="table-bordered"><tbody><tr><td>中奖客户</td><td>发放奖品</td><td>备注</td></tr><tr><td>猪猪</td><td>内测码</td><td><em><span class="red">已经发放</span></em></td></tr><tr><td>大麦</td><td>积分</td><td><a href="#" target="_blank">领取地址</a></td></tr></tbody></table><p style="text-align: left"><span style="text-align: left">也可在这里插入图片、并对图片加上超级链接，方便用户点击。</span></p></div></div></div>'), e.put("widget-cardactivity-editor.html", '<div ng-controller="CardActivityCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><ul class="nav nav-tabs" style="margin:10px 15px 0 15px"><li ng-class="{\'active\' : activeItem.id == \'cardBasic\'}"><a href="javascript:;" ng-click="editItem(\'cardBasic\');">基本设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardActivity\'}"><a href="javascript:;" ng-click="editItem(\'cardActivity\');">消费优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardRecharge\'}"><a href="javascript:;" ng-click="editItem(\'cardRecharge\');">充值优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardNums\'}"><a href="javascript:;" ng-click="editItem(\'cardNums\');">计次设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardTimes\'}"><a href="javascript:;" ng-click="editItem(\'cardTimes\');">计时设置</a></li></ul><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">付款返积分比率</label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon">每消费 1 元赠送</span> <input type="text" ng-model="activeItem.params.grant_rate" class="form-control"> <span class="input-group-addon">积分</span></div><div class="help-block">设置消费返积分的比率.如果开启了充值优惠设置,请到充值优惠设置中->设置消费是否返还积分的开关.</div><div class="help-block"><strong class="text-danger">例:兑换比率:1元返10积分,那用户每消费1元,将得到10积分.</strong></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">优惠设置</label><div class="col-sm-9 col-xs-12"><input type="radio" value="0" ng-model="activeItem.params.discount_type" id="discount_type1"><label class="radio-inline" for="discount_type1">不开启</label><input type="radio" value="1" ng-model="activeItem.params.discount_type" id="discount_type2"><label class="radio-inline" for="discount_type2">使用满减功能</label><input type="radio" value="2" ng-model="activeItem.params.discount_type" id="discount_type3"><label class="radio-inline" for="discount_type3">使用折扣功能</label></div></div><div class="form-group" ng-show="activeItem.params.discount_type == 1" ng-repeat="discount in activeItem.params.discounts"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon">{{discount.title}}</span> <span class="input-group-addon">满</span> <input type="hidden" ng-model="discount.groupid"> <input type="text" class="form-control" ng-model="discount.condition_1"> <span class="input-group-addon">元</span> <span class="input-group-addon">减</span> <input type="text" class="form-control" ng-model="discount.discount_1"> <span class="input-group-addon">元</span></div></div></div><div class="form-group" ng-show="activeItem.params.discount_type == 2" ng-repeat="discount in activeItem.params.discounts"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon">{{discount.title}}</span> <span class="input-group-addon">满</span> <input type="hidden" ng-model="discount.groupid"> <input type="text" class="form-control" ng-model="discount.condition_2"> <span class="input-group-addon">元</span> <span class="input-group-addon">打</span> <input type="text" class="form-control" ng-model="discount.discount_2"> <span class="input-group-addon">折</span></div></div></div><div class="form-group" ng-show="activeItem.params.discount_type != 0"><label class="col-xs-12 col-sm-3 col-md-2 control-label">样式设置</label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" value="1" ng-model="activeItem.params.discount_style"> 系统默认</label><label class="radio-inline"><input type="radio" value="2" ng-model="activeItem.params.discount_style"> 自定义</label></div></div><div class="form-group" ng-show="activeItem.params.discount_type != 0 && activeItem.params.discount_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.bgColor" we7-my-default-color="\'#ffffff\'"></div></div></div></div><div class="form-group" ng-show="activeItem.params.discount_type != 0 && activeItem.params.discount_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div we7-editor we7-my-value="activeItem.params.content"></div></div></div></div></div></div></div></div>'), e.put("widget-cardbasic-display.html", '<div ng-controller="CardBasicCtrl"><div class="title"><h1><span>会员卡</span></h1></div><div class="card"><div class="card-panel"><div class="card-logo"><img src="" ng-if="module.params.logo" ng-src="{{module.params.logo}}"></div><img class="card-bg" src="" ng-if="module.params.background.image" ng-src="{{module.params.background.image}}"><div class="card-grade" ng-if="module.params.card_level.type == \'1\'" ng-style="{\'color\' : module.params.color.rank}">默认会员组</div><div class="card-info"><div class="text-center" ng-if="module.params.card_label.type == \'1\'"><span class="card-rank" ng-style="{\'color\' : module.params.color.title}" ng-bind="module.params.card_label.title"></span></div><div class="card-no text-right" ng-if="!module.params.format_type" ng-style="{\'color\' : module.params.color.number}" ng-bind="module.params.format">会员卡号:<span>{$setting[\'format\']}</span></div></div></div></div><div class="btn-manage clearfix"><a href="javascript:;" class="recharge"><img ng-src="{{recharge_src}}" alt=""> <span>充值</span></a> <a href="javascript:;" class="payment"><img ng-src="{{scanpay_src}}" alt=""> <span>付款</span></a></div><div class="list-group"><div class="list-group-item"><a href="#">我的余额 <span class="pull-right">0.00 <i class="fa fa-angle-right"></i></span></a></div><div class="list-group-item"><a href="#">我的积分 <span class="pull-right">0.00 <i class="fa fa-angle-right"></i></span></a></div><div class="list-group-item"><a href="#">我的卡券 <span class="pull-right">0张 <i class="fa fa-angle-right"></i></span></a></div></div><div class="list-group"><div class="list-group-item"><a href="#">消息 <span class="pull-right"><i class="fa fa-angle-right"></i></span></a></div></div><div class="list-group"><div class="list-group-item"><a href="#">个人信息 <span class="pull-right"><i class="fa fa-angle-right"></i></span></a></div><div class="list-group-item"><a href="#">账单 <span class="pull-right"><i class="fa fa-angle-right"></i></span></a></div></div></div>'), e.put("widget-cardbasic-editor.html", '<div ng-controller="CardBasicCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><ul class="nav nav-tabs" style="margin:10px 15px 0 15px"><li ng-class="{\'active\' : activeItem.id == \'cardBasic\'}"><a href="javascript:;" ng-click="editItem(\'cardBasic\');">基本设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardActivity\'}"><a href="javascript:;" ng-click="editItem(\'cardActivity\');">消费优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardRecharge\'}"><a href="javascript:;" ng-click="editItem(\'cardRecharge\');">充值优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardNums\'}"><a href="javascript:;" ng-click="editItem(\'cardNums\');">计次设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardTimes\'}"><a href="javascript:;" ng-click="editItem(\'cardTimes\');">计时设置</a></li></ul><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">名称<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><input type="text" class="form-control" ng-model="activeItem.params.title"></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">商户名称<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><input type="text" class="form-control" ng-model="activeItem.params.brand_name"></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">背景图案<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" value="system" ng-init="activeItem.params.background && activeItem.params.background == 0 ? activeItem.params.background = {} : \'\'" ng-model="activeItem.params.background.type"> 系统</label><label class="radio-inline"><input type="radio" value="user" ng-init="activeItem.params.background && activeItem.params.background == 0 ? activeItem.params.background = {} : \'\'" ng-model="activeItem.params.background.type"> 自定义</label></div></div><div class="form-group" ng-show="activeItem.params.background.type == \'user\'"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-xs-9"><span ng-click="addBgThumb()" class="form-control-static"><i class="fa fa-plus-circle green"></i>&nbsp;选择图片</span><div style="margin-top:.5em" class="input-group" ng-show="activeItem.params.background.image"><img width="150" class="img-responsive img-thumbnail" ng-src="{{activeItem.params.background.image}}"> <em ng-click="activeItem.params.background.image = \'\';" title="删除这张图片" style="position:absolute; top: 0px; right: -14px" class="close">×</em></div></div></div><div class="form-group" ng-show="activeItem.params.background.type == \'system\'"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><select class="form-control" ng-model="activeItem.params.background.image"><option value="{{tomedia(\'images/global/card/1.png\')}}">背景1</option><option value="{{tomedia(\'images/global/card/2.png\')}}">背景2</option><option value="{{tomedia(\'images/global/card/3.png\')}}">背景3</option><option value="{{tomedia(\'images/global/card/4.png\')}}">背景4</option><option value="{{tomedia(\'images/global/card/5.png\')}}">背景5</option><option value="{{tomedia(\'images/global/card/6.png\')}}">背景6</option><option value="{{tomedia(\'images/global/card/7.png\')}}">背景7</option><option value="{{tomedia(\'images/global/card/8.png\')}}">背景8</option><option value="{{tomedia(\'images/global/card/9.png\')}}">背景9</option><option value="{{tomedia(\'images/global/card/10.png\')}}">背景10</option><option value="{{tomedia(\'images/global/card/11.png\')}}">背景11</option><option value="{{tomedia(\'images/global/card/12.png\')}}">背景12</option><option value="{{tomedia(\'images/global/card/13.png\')}}">背景13</option><option value="{{tomedia(\'images/global/card/14.png\')}}">背景14</option><option value="{{tomedia(\'images/global/card/15.png\')}}">背景15</option><option value="{{tomedia(\'images/global/card/16.png\')}}">背景16</option><option value="{{tomedia(\'images/global/card/17.png\')}}">背景17</option><option value="{{tomedia(\'images/global/card/18.png\')}}">背景18</option><option value="{{tomedia(\'images/global/card/19.png\')}}">背景19</option><option value="{{tomedia(\'images/global/card/20.png\')}}">背景20</option><option value="{{tomedia(\'images/global/card/21.png\')}}">背景21</option><option value="{{tomedia(\'images/global/card/22.png\')}}">背景22</option><option value="{{tomedia(\'images/global/card/23.png\')}}">背景23</option></select></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">LOGO<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><span ng-click="addThumb(\'logo\')" class="form-control-static"><i class="fa fa-plus-circle green"></i>&nbsp;选择图片</span><div style="margin-top:.5em" class="input-group" ng-show="activeItem.params.logo"><img width="150" class="img-responsive img-thumbnail" ng-src="{{activeItem.params.logo}}"> <em ng-click="activeItem.params.logo = \'\';" title="删除这张图片" style="position:absolute; top: 0px; right: -14px" class="close">×</em></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">会员卡等级</label><div class="col-sm-9 col-xs-12"><input type="radio" value="1" ng-model="activeItem.params.card_level.type" id="card-label-type1"><label class="radio-inline" for="card-level-type1">开启</label><input type="radio" value="2" ng-model="activeItem.params.card_level.type" id="card-label-type2"><label class="radio-inline" for="card-level-type2">关闭</label></div></div><div class="form-group" ng-show="activeItem.params.card_level.type == \'1\'"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div we7-colorpicker we7-my-color="activeItem.params.color.rank" we7-my-default-color="\'#fff\'"></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">会员卡标题</label><div class="col-sm-9 col-xs-12"><input type="radio" value="1" ng-model="activeItem.params.card_label.type" id="card-label-type1"><label class="radio-inline" for="card-label-type1">开启</label><input type="radio" value="2" ng-model="activeItem.params.card_label.type" id="card-label-type2"><label class="radio-inline" for="card-label-type2">关闭</label></div></div><div class="form-group" ng-show="activeItem.params.card_label.type == \'1\'"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><input type="text" ng-model="activeItem.params.card_label.title" class="form-control"><br><span><span><div we7-colorpicker we7-my-color="activeItem.params.color.title" we7-my-default-color="\'Color010\'"></div></span></span></div></div><div class="form-group" style="display:none"><label class="col-xs-12 col-sm-3 col-md-2 control-label">卡号设置<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><label class="checkbox-inline"><input type="checkbox" value="1" ng-model="activeItem.params.format_type" ng-init="activeItem.params.format_type = (activeItem.params.format_type == 1 ? true : false)"> 使用手机号作为卡号</label><span class="help-block">强烈推荐使用手机号作为卡号</span><div ng-show="activeItem.params.format_type != 1"><input name="format" type="text" ng-model="activeItem.params.format" ng-init="activeItem.params.format = \'\'" class="form-control"> <span class="help-block"><p>"*"代表任意随机数字，<span style="color:red">"#"代表流水号码, "#"必须连续出现,且只能存在一组.</span></p><p>卡号规则样本："WQ2015*****#####***"</p>注意：规则位数过小会造成卡号生成重复概率增大，过多的重复卡密会造成卡密生成终止 卡密规则中不能带有中文及其他特殊符号 为了避免卡密重复，随机位数最好不要少于8位</span></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">使用说明<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><textarea class="form-control" rows="6" ng-model="activeItem.params.description"></textarea><span class="help-block">请填写会员卡的使用说明。</span></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">会员卡资料</label><div class="col-sm-10 col-xs-9"><div ng-repeat="field in activeItem.params.fields" style="margin-left:-15px"><div class="col-sm-10" style="margin-bottom:10px"><div class="input-group"><input type="text" class="form-control" ng-model="field.title" ng-disabled="(field.bind == \'realname\' || field.bind == \'mobile\') && $index <= \'1\'"> <span class="input-group-addon"><label><input type="checkbox" ng-init="field.require = field.require == 1 ? true : false;" ng-model="field.require" ng-disabled="(field.bind == \'realname\' || field.bind == \'mobile\') && $index <= \'1\'"> 必填</label></span><select ng-model="field.bind" class="form-control" ng-disabled="(field.bind == \'realname\' || field.bind == \'mobile\') && $index <= \'1\'"><option value="{{fansfield.bind}}" ng-repeat="fansfield in fansFields" ng-model="field.bind" ng-selected="{{field.bind == fansfield.bind}}">{{fansfield.title}}</option></select></div></div><div class="col-sm-1" style="margin-top:5px" ng-show="field.bind != \'mobile\' && field.bind != \'realname\'"><a href="javascript:;" ng-click="removeFields(field);"><i class="fa fa-times-circle"></i></a></div></div><span class="help-block col-sm-9" style="margin-left:-15px">系统会自动绑定:真实姓名和手机号码</span> <span class="help-block col-sm-9" style="margin-left:-15px"><a href="javascript:;" ng-click="addFields();"><i class="fa fa-plus-circle" title="添加填写项目"></i> 添加填写项目</a></span></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">领卡赠送<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon" ng-init="activeItem.params.grant && activeItem.params.grant == 0 ? activeItem.params.grant = {} : \'\'">赠送</span> <input type="text" ng-model="activeItem.params.grant.credit1" class="form-control"> <span class="input-group-addon">积分</span></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon">赠送</span> <input type="text" ng-model="activeItem.params.grant.credit2" class="form-control"> <span class="input-group-addon">余额</span></div></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><input type="hidden" ng-model="activeItem.params.grant.coupon"> <span class="input-group-addon">已选:<span ng-repeat="grant in activeItem.params.grant.coupon"><span ng-bind="grant.couponTitle">{{grant.couponTitle}}</span>|</span></span> <span class="input-group-btn"><button class="btn btn-primary" type="button" ng-click="selectCoupon();">搜索优惠券</button> <button class="btn btn-default" type="button" ng-click="clearCoupon();"><span><i class="fa fa-remove"></i></span></button></span></div><div class="help-block"><a href="{{url(\'activity/coupon\');}}" target="_blank">添加优惠券</a>.注意:赠送的优惠券应该各个会员组都可以领取.否则会造成赠送失败的问题</div></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">单次积分<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><input type="text" ng-model="activeItem.params.bonus_rule.max_increase_bonus" class="form-control"> <span class="help-block">单次最多可获取积分数量</span></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">抵扣条件<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><input type="text" ng-model="activeItem.params.bonus_rule.least_money_to_use_bonus" class="form-control"> <span class="help-block">满足xx元，可使用积分抵扣</span></div></div><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">抵现比率<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><div class="input-group"><input type="text" ng-model="activeItem.params.offset_rate" class="form-control"> <span class="input-group-addon">积分抵 1 元</span></div><br><div class="input-group"><span class="input-group-addon">单次最多可抵现</span> <input type="text" ng-model="activeItem.params.offset_max" class="form-control"> <span class="input-group-addon">元</span></div><div class="help-block"><strong class="text-danger">例:积分抵现金比率:100积分抵1元,那用户在消费的时候,将可用账户积分抵消部分金额.</strong></div><div class="help-block"><strong class="text-danger">目前仅支持后台交易抵现，暂不支持手机交易抵现.</strong></div></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">库存<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><input type="text" ng-model="activeItem.params.quantity" class="form-control"> <span class="help-block">卡券库存的数量，不支持填写0，上限为100000000.</span></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">使用提醒<span style="color:red">*</span></label><div class="radio"><div class="col-sm-9 col-xs-12"><input type="text" ng-model="activeItem.params.notice" class="form-control"> <span class="help-block">卡券使用提醒，字数上限为16个汉字。</span></div></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">刷卡支付<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" ng-model="activeItem.params.swipe_card" value="1">开启</label><label class="radio-inline"><input type="radio" ng-checked="activeItem.params.swipe_card == null || activeItem.params.swipe_card == 2" ng-model="activeItem.params.swipe_card" value="2">关闭</label><span class="help-block">选择是否开启刷卡支付</span></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">有效日期<span style="color:red">*</span></label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" ng-model="activeItem.params.date_info.type" value="DATE_TYPE_PERMANENT"> 永久有效</label></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="radio"><div class="col-sm-3"><label class="radio-inline"><input type="radio" ng-model="activeItem.params.date_info.type" value="DATE_TYPE_FIX_TIME_RANGE"> 固定日期</label></div><div class="input-group" style="width: 240px"><input we7-date-picker we7-date-value="activeItem.params.date_info.begin_timestamp" ng-model="activeItem.params.date_info.begin_timestamp" class="form-control" style="width: 100px"><div class="input-group-addon">到</div><input we7-date-picker we7-date-value="activeItem.params.date_info.end_timestamp" ng-model="activeItem.params.date_info.end_timestamp" class="form-control" style="width: 100px"></div></div></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input ng-model="activeItem.params.date_info.type" type="radio" value="DATE_TYPE_FIX_TERM">领取后</label><div class="input-group" style="width: 240px"><input ng-model="activeItem.params.date_info.fixed_begin_term" class="form-control" style="width: 100px"> <span class="input-group-addon">天生效，有效期</span> <input ng-model="activeItem.params.date_info.fixed_term" class="form-control" style="width: 100px"></div></div></div><div class="form-group" ng-if="newcard"><label class="col-xs-12 col-sm-3 col-md-2 control-label">可用门店</label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><a href="#" class="location_list">选择适用门店</a></label></div></div></div></div></div></div></div>'), e.put("widget-cardnums-display.html", '<div ng-controller="CardNumsCtrl"><div class="nav-container" ng-if="module.params.nums_status == 1 && module.params.nums_style == 1"><ul><li class="collapse-link"><a class="nav-container-list" href="javascript:;"><span class="nav-title"><i class="fa fa-eye"></i>{{module.params.nums_text}}充值</span> <span class="pull-right"><i class="fa fa-angle-right"></i></span></a><div class="collapse-con padding-b-0"><a href="./index.php?i={$_W[\'uniacid\']}&j={$_W[\'acid\']}&c=entry&m=recharge&do=pay&type=card_nums&fee={{num.recharge}}" class="btn btn-warning btn-recharge" ng-repeat="num in module.params.nums">充{{num.recharge}}返{{num.num}}次</a></div></li></ul></div><div class="app-richText" ng-if="module.params.nums_status == 1 && module.params.nums_style == 2" ng-style="{\'background-color\' : module.params.bgColor}"><div class="inner" ng-bind-html="module.params.content" ng-if="module.params.content"></div><div class="inner js-default-content" ng-if="!module.params.content"><p>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行 <strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline">下划线</span>、 <span style="text-decoration: line-through">删除线</span>、文字<span style="color: rgb(0, 176, 240)">颜色</span>、 <span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255)">背景色</span>、 以及字号<span style="font-size: 20px">大</span><span style="font-size: 14px">小</span>等简单排版操作。</p><p>还可以在这里加入表格了</p><table class="table-bordered"><tbody><tr><td>中奖客户</td><td>发放奖品</td><td>备注</td></tr><tr><td>猪猪</td><td>内测码</td><td><em><span class="red">已经发放</span></em></td></tr><tr><td>大麦</td><td>积分</td><td><a href="#" target="_blank">领取地址</a></td></tr></tbody></table><p style="text-align: left"><span style="text-align: left">也可在这里插入图片、并对图片加上超级链接，方便用户点击。</span></p></div></div></div>'), e.put("widget-cardnums-editor.html", '<div ng-controller="CardNumsCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><ul class="nav nav-tabs" style="margin:10px 15px 0 15px"><li ng-class="{\'active\' : activeItem.id == \'cardBasic\'}"><a href="javascript:;" ng-click="editItem(\'cardBasic\');">基本设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardActivity\'}"><a href="javascript:;" ng-click="editItem(\'cardActivity\');">消费优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardRecharge\'}"><a href="javascript:;" ng-click="editItem(\'cardRecharge\');">充值优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardNums\'}"><a href="javascript:;" ng-click="editItem(\'cardNums\');">计次设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardTimes\'}"><a href="javascript:;" ng-click="editItem(\'cardTimes\');">计时设置</a></li></ul><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">计次设置</label><div class="col-sm-9 col-xs-12"><input type="radio" value="1" ng-model="activeItem.params.nums_status" id="nums_status1"><label class="radio-inline" for="nums_status1">开启</label><input type="radio" value="0" ng-model="activeItem.params.nums_status" id="nums_status2"><label class="radio-inline" for="nums_status2">关闭</label><span class="help-block">如你的业务有需要次数限制，可开启进行设置。</span></div></div><div class="form-group" ng-show="activeItem.params.nums_status == 1"><label class="col-xs-12 col-sm-3 col-md-2 control-label">计次设置</label><div class="col-sm-9 col-xs-12"><input type="text" class="form-control" ng-model="activeItem.params.nums_text"> <span class="help-block">例如：设置为”洗发剩余次数“,前台将显示为：”洗发剩余次数：n次“,请根据自己的业务需求设置。</span></div></div><div class="form-group" ng-show="activeItem.params.nums_status == 1"><label class="col-xs-12 col-sm-3 col-md-2 control-label">充值返次数</label><div class="col-sm-9 col-xs-12"><div ng-repeat="num in activeItem.params.nums" style="margin-left:-15px"><div class="col-sm-8" style="margin-bottom:10px"><div class="input-group"><span class="input-group-addon">充</span> <input type="text" class="form-control" ng-model="num.recharge"> <span class="input-group-addon">元</span> <input type="text" class="form-control" ng-model="num.num"> <span class="input-group-addon">次</span></div></div><div class="col-sm-1" style="margin-top:5px"><a href="javascript:;" ng-click="removeNums(num);"><i class="fa fa-times-circle"></i></a></div></div><div class="help-block col-sm-9" style="margin-left:-15px"><a href="javascript:;" ng-click="addNums();"><i class="fa fa-plus-circle" title="添加充值设置"></i> 添加充值设置</a></div></div></div><div class="form-group" ng-show="activeItem.params.nums_status != 0"><label class="col-xs-12 col-sm-3 col-md-2 control-label">样式设置</label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" value="1" ng-model="activeItem.params.nums_style"> 系统默认</label><label class="radio-inline"><input type="radio" value="2" ng-model="activeItem.params.nums_style"> 自定义</label></div></div><div class="form-group" ng-show="activeItem.params.nums_status != 0 && activeItem.params.nums_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.bgColor" we7-my-default-color="\'#ffffff\'"></div></div></div></div><div class="form-group" ng-show="activeItem.params.nums_status != 0 && activeItem.params.nums_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div we7-editor we7-my-value="activeItem.params.content"></div></div></div></div></div></div></div></div>'), e.put("widget-cardrecharge-display.html", '<div ng-controller="CardRechargeCtrl"><div class="nav-container" ng-if="module.params.recharge_type != 0 && module.params.recharge_style == 1"><div class="list-group"><div class="list-group-item"><a href="#">充值优惠说明 <span class="pull-right"><i class="fa fa-angle-right"></i></span></a></div></div></div><div class="app-richText" ng-if="module.params.discount_type != 0 && module.params.discount_style == 2" ng-style="{\'background-color\' : module.params.bgColor}"><div class="inner" ng-bind-html="module.params.content" ng-if="module.params.content"></div><div class="inner js-default-content" ng-if="!module.params.content"><p>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行 <strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline">下划线</span>、 <span style="text-decoration: line-through">删除线</span>、文字<span style="color: rgb(0, 176, 240)">颜色</span>、 <span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255)">背景色</span>、 以及字号<span style="font-size: 20px">大</span><span style="font-size: 14px">小</span>等简单排版操作。</p><p>还可以在这里加入表格了</p><table class="table-bordered"><tbody><tr><td>中奖客户</td><td>发放奖品</td><td>备注</td></tr><tr><td>猪猪</td><td>内测码</td><td><em><span class="red">已经发放</span></em></td></tr><tr><td>大麦</td><td>积分</td><td><a href="#" target="_blank">领取地址</a></td></tr></tbody></table><p style="text-align: left"><span style="text-align: left">也可在这里插入图片、并对图片加上超级链接，方便用户点击。</span></p></div></div></div>'), e.put("widget-cardrecharge-editor.html", '<div ng-controller="CardRechargeCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><ul class="nav nav-tabs" style="margin:10px 15px 0 15px"><li ng-class="{\'active\' : activeItem.id == \'cardBasic\'}"><a href="javascript:;" ng-click="editItem(\'cardBasic\');">基本设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardActivity\'}"><a href="javascript:;" ng-click="editItem(\'cardActivity\');">消费优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardRecharge\'}"><a href="javascript:;" ng-click="editItem(\'cardRecharge\');">充值优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardNums\'}"><a href="javascript:;" ng-click="editItem(\'cardNums\');">计次设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardTimes\'}"><a href="javascript:;" ng-click="editItem(\'cardTimes\');">计时设置</a></li></ul><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">优惠设置</label><div class="col-sm-9 col-xs-12"><input type="radio" value="1" ng-model="activeItem.params.recharge_type" id="recharge_type1"><label class="radio-inline" for="recharge_type1">开启</label><input type="radio" value="0" ng-model="activeItem.params.recharge_type" id="recharge_type2"><label class="radio-inline" for="recharge_type2">不开启</label></div></div><div class="form-group" ng-show="activeItem.params.recharge_type == 1" ng-repeat="recharge in activeItem.params.recharges"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><span class="input-group-addon">充</span> <input type="text" class="form-control" ng-model="recharge.condition"> <span class="input-group-addon">元</span> <span class="input-group-addon" ng-if="recharge.backtype == \'0\'">送</span> <span class="input-group-addon" ng-if="recharge.backtype == \'1\'">送</span> <input type="text" class="form-control" ng-model="recharge.back"><div class="input-group-btn"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width:88px"><span ng-switch on="recharge.backtype"><span ng-switch-when="0">元</span> <span ng-switch-when="1">积分</span></span> <i class="fa fa-angle-down"></i></button><ul class="dropdown-menu dropdown-menu-right select-back"><li><a href="#" ng-click="recharge.backtype=\'0\';recharge.backunit=\'元\'">元</a></li><li><a href="#" ng-click="recharge.backtype=\'1\';recharge.backunit=\'积分\'">积分</a></li></ul></div></div></div><div class="col-sm-1" style="margin-top:5px"><a href="javascript:;" ng-click="removeRecharges(recharge);"><i class="fa fa-times-circle"></i></a></div></div><div class="form-group" ng-show="activeItem.params.recharge_type != 0"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="help-block col-sm-9 col-xs-12" style="margin-left:-15px"><a href="javascript:;" ng-click="addRecharges();"><i class="fa fa-plus-circle" title="添加充值设置"></i> 添加充值设置</a></div></div><div class="form-group" ng-show="activeItem.params.recharge_type == 1"><label class="col-xs-12 col-sm-3 col-md-2 control-label">消费返积分</label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" value="1" ng-model="activeItem.params.grant_rate_switch"> 是</label><label class="radio-inline"><input type="radio" value="0" ng-model="activeItem.params.grant_rate_switch"> 否</label><div class="help-block"><strong class="text-danger">开启充值优惠设置后,用户是否继续享受消费返积分的优惠</strong></div></div></div><div class="form-group" ng-show="activeItem.params.discount_type != 0 && activeItem.params.discount_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.bgColor" we7-my-default-color="\'#ffffff\'"></div></div></div></div><div class="form-group" ng-show="activeItem.params.discount_type != 0 && activeItem.params.discount_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div we7-editor we7-my-value="activeItem.params.content"></div></div></div></div></div></div></div></div>'), e.put("widget-cardtimes-display.html", '<div ng-controller="CardTimesCtrl"><div class="nav-container" ng-if="module.params.times_status == 1 && module.params.times_style == 1"><ul><li class="collapse-link"><a class="nav-container-list" href="javascript:;"><span class="nav-title"><i class="fa fa-eye"></i>{{module.params.times_text}}充值</span> <span class="pull-right"><i class="fa fa-angle-right"></i></span></a><div class="collapse-con padding-b-0"><a href="./index.php?i={$_W[\'uniacid\']}&j={$_W[\'acid\']}&c=entry&m=recharge&do=pay&type=card_times&fee={{time.recharge}}" class="btn btn-warning btn-recharge" ng-repeat="time in module.params.times">充{{time.recharge}}返{{time.time}}天</a></div></li></ul></div><div class="app-richText" ng-if="module.params.times_status == 1 && module.params.times_style == 2" ng-style="{\'background-color\' : module.params.bgColor}"><div class="inner" ng-bind-html="module.params.content" ng-if="module.params.content"></div><div class="inner js-default-content" ng-if="!module.params.content"><p>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行 <strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline">下划线</span>、 <span style="text-decoration: line-through">删除线</span>、文字<span style="color: rgb(0, 176, 240)">颜色</span>、 <span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255)">背景色</span>、 以及字号<span style="font-size: 20px">大</span><span style="font-size: 14px">小</span>等简单排版操作。</p><p>还可以在这里加入表格了</p><table class="table-bordered"><tbody><tr><td>中奖客户</td><td>发放奖品</td><td>备注</td></tr><tr><td>猪猪</td><td>内测码</td><td><em><span class="red">已经发放</span></em></td></tr><tr><td>大麦</td><td>积分</td><td><a href="#" target="_blank">领取地址</a></td></tr></tbody></table><p style="text-align: left"><span style="text-align: left">也可在这里插入图片、并对图片加上超级链接，方便用户点击。</span></p></div></div></div>'), e.put("widget-cardtimes-editor.html", '<div ng-controller="CardTimesCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><ul class="nav nav-tabs" style="margin:10px 15px 0 15px"><li ng-class="{\'active\' : activeItem.id == \'cardBasic\'}"><a href="javascript:;" ng-click="editItem(\'cardBasic\');">基本设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardActivity\'}"><a href="javascript:;" ng-click="editItem(\'cardActivity\');">消费优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardRecharge\'}"><a href="javascript:;" ng-click="editItem(\'cardRecharge\');">充值优惠设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardNums\'}"><a href="javascript:;" ng-click="editItem(\'cardNums\');">计次设置</a></li><li ng-class="{\'active\' : activeItem.id == \'cardTimes\'}"><a href="javascript:;" ng-click="editItem(\'cardTimes\');">计时设置</a></li></ul><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-12 col-sm-3 col-md-2 control-label">计时设置</label><div class="col-sm-9 col-xs-12"><input type="radio" value="1" ng-model="activeItem.params.times_status" id="times_status1"><label class="radio-inline" for="times_status1">开启</label><input type="radio" value="0" ng-model="activeItem.params.times_status" id="times_status2"><label class="radio-inline" for="times_status2">关闭</label><span class="help-block">如你的业务有需要时长限制，可开启进行设置。</span></div></div><div class="form-group" ng-show="activeItem.params.times_status == 1"><label class="col-xs-12 col-sm-3 col-md-2 control-label">计时设置</label><div class="col-sm-9 col-xs-12"><input type="text" class="form-control" ng-model="activeItem.params.times_text"> <span class="help-block">例如：设置为”到期时间“,系统将根据用户的领卡时间,加上用户的可用时长，计算到期时间，前台将显示为：”到期时间：x年x月x日“,请根据自己的业务需求设置。</span></div></div><div class="form-group" ng-show="activeItem.params.times_status == 1"><label class="col-xs-12 col-sm-3 col-md-2 control-label">充值返时长</label><div class="col-sm-9 col-xs-12"><div ng-repeat="time in activeItem.params.times" style="margin-left:-15px"><div class="col-sm-8" style="margin-bottom:10px"><div class="input-group"><span class="input-group-addon">充</span> <input type="text" class="form-control" ng-model="time.recharge"> <span class="input-group-addon">元</span> <input type="text" class="form-control" ng-model="time.time"> <span class="input-group-addon">天</span></div></div><div class="col-sm-1" style="margin-top:5px"><a href="javascript:;" ng-click="removeTimes(time);"><i class="fa fa-times-circle"></i></a></div></div><div class="help-block col-sm-9" style="margin-left:-15px"><a href="javascript:;" ng-click="addTimes();"><i class="fa fa-plus-circle" title="添加充值设置"></i> 添加充值设置</a></div></div></div><div class="form-group" ng-show="activeItem.params.times_status != 0"><label class="col-xs-12 col-sm-3 col-md-2 control-label">样式设置</label><div class="col-sm-9 col-xs-12"><label class="radio-inline"><input type="radio" value="1" ng-model="activeItem.params.times_style"> 系统默认</label><label class="radio-inline"><input type="radio" value="2" ng-model="activeItem.params.times_style"> 自定义</label></div></div><div class="form-group" ng-show="activeItem.params.times_status != 0 && activeItem.params.times_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.bgColor" we7-my-default-color="\'#ffffff\'"></div></div></div></div><div class="form-group" ng-show="activeItem.params.times_status != 0 && activeItem.params.times_style == 2"><label class="col-xs-12 col-sm-3 col-md-2 control-label"></label><div class="col-sm-9 col-xs-12"><div we7-editor we7-my-value="activeItem.params.content"></div></div></div></div></div></div></div></div>'), e.put("widget-ucheader-display.html", '<div ng-controller="HeaderCtrl"><div class="title"><h1><span>{{module.params.title}}</span></h1></div><div class="head" style="background-repeat:no-repeat; background-position: center center" ng-style="{\'background-image\' : module.params.bgImage ? \'url(\' + module.params.bgImage + \')\' : \'url(\\\'./resource/images/app/head-bg.png\\\')\'}"><a class="ptool" href="{{url(\'mc/profile\')}}">设置</a><div class="logo-img"><img ng-src="{{logo_url}}" class="img-circle"></div><div class="banner-info"><div class="name">设置昵称</div><div class="tel">1884512367</div></div><div class="head-nav"><a class="head-nav-list" href="{{url(\'mc/bond/credits\')}}&credittype=credit1"><span class="fa fa-rmb"></span>余额: <span>4000.00</span></a> <a class="head-nav-list" href="{{url(\'mc/bond/credits\')}}&credittype=credit2"><span class="fa fa-database"></span>积分: <span>900.00</span></a></div></div></div>'), e.put("widget-ucheader-editor.html", '<div ng-controller="HeaderCtrl"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-3 control-label"><span class="red">*</span> 页面名称</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.title" placeholder="微页面标题" class="form-control"></div></div><div class="form-group"><label class="control-label col-xs-3">背景图片</label><div class="col-xs-9"><span ng-click="addThumb(\'bgImage\')"><i class="fa fa-plus-circle green"></i>&nbsp;选择图片</span><div style="margin-top:.5em" class="input-group" ng-show="activeItem.params.bgImage"><img width="150" class="img-responsive img-thumbnail" ng-src="{{activeItem.params.bgImage}}"> <em ng-click="activeItem.params.bgImage = \'\';" title="删除这张图片" style="position:absolute; top: 0px; right: -14px" class="close">×</em></div></div></div><div class="form-group"><label class="col-xs-3 control-label">触发关键字</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.keyword" class="form-control"> <span class="help-block">用户触发关键字，系统回复此页面的图文链接</span></div></div><div class="form-group"><label class="control-label col-xs-3">封面</label><div class="col-xs-9"><span ng-click="addThumb(\'cover\')"><i class="fa fa-plus-circle green"></i>&nbsp;选择图片</span><div style="margin-top:.5em" class="input-group" ng-show="activeItem.params.cover"><img width="150" class="img-responsive img-thumbnail" ng-src="{{activeItem.params.cover}}"> <em ng-click="activeItem.params.cover = \'\';" title="删除这张图片" style="position:absolute; top: 0px; right: -14px" class="close">×</em></div><span class="help-block">用于用户触发关键字后，系统回复时的封面图片</span></div></div><div class="form-group"><label class="col-xs-3 control-label">页面描述</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.description" class="form-control"></div></div><div class="form-group"><label class="col-xs-3 control-label">联系方式</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.contact" class="form-control"> <span class="help-block">用于用户点击会员中心->设置->联系我们时拨打的电话</span></div></div><div class="shopNav-edit-header clearfix">个人中心扩展菜单</div><div class="shopNav-wx"><div class="card" ng-repeat="menu in activeMenus"><div class="btns"><a href="javascript:;" ng-click="removeMenu(menu)"><i class="fa fa-times"></i></a></div><div class="nav-region"><div class="first-nav"><div class="alert"><div class="form-group"><label class="control-label col-xs-3">标题</label><div class="col-xs-9"><input type="text" class="form-control" name="" value="" ng-model="menu.name"></div></div><div class="form-group"><label class="control-label col-xs-3">链接到</label><div class="col-xs-9"><input ng-if="menu.module_info" type="text" ng-model="menu.url" class="form-control" disabled><div ng-if="!menu.module_info" we7-linker we7-my-url="menu.url" we7-my-title="menu.name"></div></div></div><div class="form-group" ng-if="menu.module_info"><label class="control-label col-xs-3">是否显示</label><div class="col-xs-9"><label class="radio-inline"><input type="radio" value="1" ng-model="menu.status">显示</label><label class="radio-inline"><input type="radio" value="0" ng-model="menu.status">隐藏</label><span class="help-block"><strong class="text-danger">该菜单来源于{{menu.module_info.title}}模块,仅可设置标题和是否显示</strong></span></div></div></div></div></div></div><div class="add-shopNav text-center" ng-click="addMenu();">+添加一级导航</div></div></div></div></div></div></div>'), e.put("directive-pagelength-pagelength.html", '<div class="app-plength" ng-if="isLongPage"><div class="btn btn-default col-sm-3 app-plength-change" ng-class="{\'disabled\' : pageLength <= 1}" ng-style="{\'cursor\' : pageLength <= 1 ? \'not-allowed\' : \'pointer\'}" ng-click="changePageLength(\'minus\');"><span>-</span></div><div class="col-sm-6 app-plength-info"><div>页面长度(页)：<span ng-bind="pageLength"></span></div></div><div class="btn btn-default col-sm-3 app-plength-change" ng-class="{\'disabled\' : pageLength >= 5}" ng-style="{\'cursor\' : pageLength >= 5 ? \'not-allowed\' : \'pointer\'}" ng-click="changePageLength(\'plus\');"><span>+</span></div></div>'), e.put("directive-style-style.html", '<div class="app-text-edit" ng-if="activeItem.id != \'header\' && activeItem.id != \'UCheader\'"><div class="inner"><div class="panel panel-default"><div class="panel-body"><ul class="nav nav-tabs"><li class="active"><a href="#attribute" role="tab" data-toggle="tab">属性</a></li><li><a href="#action" role="tab" data-toggle="tab">动作</a></li></ul><div class="tab-content"><div class="tab-pane active" id="attribute"><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading" role="tab" id="heading-basic"><h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-basic" aria-expanded="true" aria-controls="collapse-basic">基础样式</a></h4></div><div id="collapse-basic" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading-basic"><div class="panel-body"><div class="form-group"><label class="col-xs-3 control-label">背景颜色</label><div class="col-xs-9"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.baseStyle.backgroundColor" we7-my-default-color="activeItem.params.baseStyle.backgroundColor"></div></div></div></div><div class="form-group" ng-show="activeItem.id == \'onlyText\' || activeItem.id == \'countDown\' || activeItem.id == \'line\'"><label class="col-xs-3 control-label" ng-show="activeItem.id == \'line\'">辅助线颜色</label><label class="col-xs-3 control-label" ng-show="activeItem.id != \'line\'">文字颜色</label><div class="col-xs-9"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.baseStyle.color" we7-my-default-color="activeItem.params.baseStyle.color"></div></div></div></div><div class="form-group"><label class="col-xs-3 control-label">透明度</label><div class="col-xs-9"><input type="number" class="form-control" max="100" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.baseStyle.opacity"></div></div><div class="form-group" ng-show="activeItem.id == \'onlyText\' || activeItem.id == \'pureLink\' || activeItem.id == \'dial\' || activeItem.id == \'good\' || activeItem.id == \'countDown\' || activeItem.id == \'line\'"><label class="col-xs-3 control-label">上偏移</label><div class="col-xs-9"><input type="number" class="form-control" max="100" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.baseStyle.paddingTop"></div></div><div class="form-group" ng-if="activeItem.id == \'onlyText\'"><label class="control-label col-xs-3">行距</label><div class="col-xs-8"><div class="input-group"><select class="form-control" id="lineheight" ng-model="activeItem.params.baseStyle.lineHeight" ng-options="lhKey for (lhKey, lhVal) in lineHeights"></select><span class="input-group-addon">倍</span></div></div></div><div class="form-group" ng-show="activeItem.id == \'onlyText\' || activeItem.id == \'pureLink\' || activeItem.id == \'dial\' || activeItem.id == \'good\' || activeItem.id == \'countDown\'"><label class="control-label col-xs-3">字体大小</label><div class="col-xs-8"><div class="input-group"><select class="form-control" id="fontsize" ng-model="activeItem.params.baseStyle.fontSize" ng-options="fzKey for (fzKey, fzVal) in fontSizes"></select><span class="input-group-addon">px</span></div></div></div><div class="form-group" ng-show="isLongPage"><label class="col-xs-3 control-label">固定组件</label><div class="col-xs-9"><label class="checkbox-inline"><input type="checkbox" ng-click="changeLock()" ng-checked="activeItem.params.baseStyle.lock"> 固定组件只能在长页面中使用</label></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading" role="tab" id="heading-border"><h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-border" aria-expanded="true" aria-controls="collapse-border">边框样式</a></h4></div><div id="collapse-border" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-border"><div class="panel-body"><div class="form-group"><label class="col-xs-3 control-label">尺寸</label><div class="col-xs-9"><input type="number" class="form-control" max="20" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.borderStyle.borderWidth" ng-change="changeBorderWidth()"></div></div><div class="form-group"><label class="col-xs-3 control-label">弧度</label><div class="col-xs-9"><input type="number" class="form-control" max="29" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.borderStyle.borderRadius"></div></div><div class="form-group"><label class="col-xs-3 control-label">样式</label><div class="col-xs-9"><select name="" class="form-control" ng-model="activeItem.params.borderStyle.borderStyle"><option value="solid">直线</option><option value="dashed">破折线</option><option value="dotted">点状线</option><option value="double">双划线</option><option value="groove">3D凹槽</option><option value="ridge">3D垄状</option><option value="inset">3D内嵌</option><option value="outset">3D外嵌</option></select></div></div><div class="form-group"><label class="col-xs-3 control-label">颜色</label><div class="col-xs-9"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.borderStyle.borderColor" we7-my-default-color="activeItem.params.borderStyle.borderColor"></div></div></div></div><div class="form-group"><label class="col-xs-3 control-label">旋转度</label><div class="col-xs-9"><input type="number" class="form-control" max="360" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.borderStyle.transform"></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading" role="tab" id="heading-shadow"><h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-shadow" aria-expanded="true" aria-controls="collapse-shadow">阴影样式</a></h4></div><div id="collapse-shadow" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-shadow"><div class="panel-body"><div class="form-group"><label class="col-xs-3 control-label">大小</label><div class="col-xs-9"><input type="number" class="form-control" max="20" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.shadowStyle.shadowSize"></div></div><div class="form-group"><label class="col-xs-3 control-label">模糊</label><div class="col-xs-9"><input type="number" class="form-control" max="20" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.shadowStyle.shadowBlur"></div></div><div class="form-group"><label class="col-xs-3 control-label">颜色</label><div class="col-xs-9"><div class="input-group"><div we7-colorpicker we7-my-color="activeItem.params.shadowStyle.shadowColor" we7-my-default-color="activeItem.params.shadowStyle.shadowColor"></div></div></div></div><div class="form-group"><label class="col-xs-3 control-label">方向</label><div class="col-xs-9"><input type="number" class="form-control" max="359" min="0" step="1" placeholder="0" value="" name="" ng-model="activeItem.params.shadowStyle.shadowDirection"></div></div></div></div></div></div><div><a class="btn btn-primary" ng-click="clearModuleStyle()">重置属性</a></div></div><div class="tab-pane" id="action"><div class="form-group"><label class="col-xs-3 control-label">速度</label><div class="col-xs-9"><div class="input-group"><input type="number" ng-model="activeItem.params.animationStyle.animationDuration" max="30" min="0" step="0.1" class="form-control"> <span class="input-group-btn"><button class="btn btn-default" type="reset">秒(S)</button></span></div></div></div><div class="form-group"><label class="col-xs-3 control-label">延迟</label><div class="col-xs-9"><div class="input-group"><input type="number" ng-model="activeItem.params.animationStyle.animationDelay" max="10" min="0" step="0.1" class="form-control"> <span class="input-group-btn"><button class="btn btn-default" type="reset">秒(S)</button></span></div></div></div><div class="clearfix icons"><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'noEffect\'}" ng-click="eleAnimationIns(\'noEffect\', $event)"><div class="icon no-effect"></div><div class="name">无效果</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeInNormal\'}" ng-click="eleAnimationIns(\'fadeInNormal\', $event);"><div class="icon fade-in-normal"></div><div class="name">淡入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'rotateInDownLeft\'}" ng-click="eleAnimationIns(\'rotateInDownLeft\', $event);"><div class="icon rotate-in-down-left"></div><div class="name">从左滚入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'rotateInDownRight\'}" ng-click="eleAnimationIns(\'rotateInDownRight\', $event);"><div class="icon rotate-in-down-right"></div><div class="name">从右滚入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'zoomIn\'}" ng-click="eleAnimationIns(\'zoomIn\', $event);"><div class="icon zoom-in"></div><div class="name">放大</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'zoomInDown\'}" ng-click="eleAnimationIns(\'zoomInDown\', $event);"><div class="icon zoom-in-down"></div><div class="name">下落放大</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeIn\'}" ng-click="eleAnimationIns(\'fadeIn\', $event);"><div class="icon fade-in"></div><div class="name">弹性放大</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'expandOpen\'}" ng-click="eleAnimationIns(\'expandOpen\', $event);"><div class="icon expand-open"></div><div class="name">弹性缩小</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeInRight\'}" ng-click="eleAnimationIns(\'fadeInRight\', $event);"><div class="icon fade-in-right"></div><div class="name">向右飞入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeInLeft\'}" ng-click="eleAnimationIns(\'fadeInLeft\', $event);"><div class="icon fade-in-left"></div><div class="name">向左飞入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeInUp\'}" ng-click="eleAnimationIns(\'fadeInUp\', $event);"><div class="icon fade-in-up"></div><div class="name">向上飞入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'fadeInDown\'}" ng-click="eleAnimationIns(\'fadeInDown\', $event);"><div class="icon fade-in-down"></div><div class="name">向下飞入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'rotateIn\'}" ng-click="eleAnimationIns(\'rotateIn\', $event);"><div class="icon rotate-in"></div><div class="name">旋转出现</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'flipInY\'}" ng-click="eleAnimationIns(\'flipInY\', $event);"><div class="icon flip-in-y"></div><div class="name">左右翻转</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'flipInX\'}" ng-click="eleAnimationIns(\'flipInX\', $event);"><div class="icon flip-in-x"></div><div class="name">上下翻转</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'lightSpeedIn\'}" ng-click="eleAnimationIns(\'lightSpeedIn\', $event);"><div class="icon light-speed-in"></div><div class="name">刹车</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'slideRight\'}" ng-click="eleAnimationIns(\'slideRight\', $event);"><div class="icon slide-right"></div><div class="name">向右滑入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'slideLeft\'}" ng-click="eleAnimationIns(\'slideLeft\', $event);"><div class="icon slide-left"></div><div class="name">向左滑入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'slideUp\'}" ng-click="eleAnimationIns(\'slideUp\', $event);"><div class="icon slide-up"></div><div class="name">向上滑入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'slideDown\'}" ng-click="eleAnimationIns(\'slideDown\', $event);"><div class="icon slide-down"></div><div class="name">向下滑入</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'stretchRight\'}" ng-click="eleAnimationIns(\'stretchRight\', $event);"><div class="icon stretch-right"></div><div class="name">向右展开</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'stretchLeft\'}" ng-click="eleAnimationIns(\'stretchLeft\', $event);"><div class="icon stretch-left"></div><div class="name">向左展开</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'pullUp\'}" ng-click="eleAnimationIns(\'pullUp\', $event);"><div class="icon pull-up"></div><div class="name">向上展开</div></div><div class="icon-container" ng-class="{\'select\': activeItem.params.animationStyle.animationName == \'pullDown\'}" ng-click="eleAnimationIns(\'pullDown\', $event);"><div class="icon pull-down"></div><div class="name">向下展开</div></div></div></div></div></div></div></div></div>'), e.put("widget-adimg-display.html", '<div ng-controller="AdImgCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><link href="../app/resource/components/swiper/swiper.min.css" rel="stylesheet"><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-adImg" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><div class="appstyle js-default-content" ng-if="module.params.items.length == 0"><img ng-show="module.params.listStyle == 1" src="./resource/images/app/adImg-lg.jpg" width="100%"> <img ng-show="module.params.listStyle == 2" src="./resource/images/app/adImg-separate.jpg" width="100%"></div><div class="swiper-container swiper-container-horizontal" ng-if="module.params.items.length != 0 && module.params.listStyle == 1"><div class="swiper-wrapper"><div class="swiper-slide" ng-class="{\'swiper-slide-active\' : $index == 0}" style="width: 100%" ng-repeat="item in module.params.items"><a href="{{item.url}}" style="display:block; width:100%; text-align:center"><img ng-src="{{item.imgurl}}" title="{{item.title}}" style="display:block; height:auto; max-width:100%;  margin:0 auto"></a></div></div><div class="swiper-pagination swiper-pagination-clickable"><span class="swiper-pagination-bullet" ng-class="{\'swiper-pagination-bullet-active\': $index == 0}" ng-repeat="item in module.params.items"></span></div><div class="swiper-button-next hidden"></div><div class="swiper-button-prev hidden"></div></div><div class="show-separate" ng-if="module.params.items.length != 0 && module.params.listStyle == 2"><div class="ad-list lg" ng-if="module.params.sizeType == 1"><div class="ad-list-item" ng-repeat="item in module.params.items"><a href="{{item.url}}"><h3 ng-bind="item.title">广告标题</h3><img ng-src="{{item.imgurl}}"></a></div></div><div class="ad-list clearfix sm" ng-if="module.params.sizeType == 2"><div class="ad-list-item col-xs-6 col-sm-6" ng-repeat="item in module.params.items"><a href="{{item.url}}"><h3 ng-bind="item.title">广告标题</h3><img ng-src="{{item.imgurl}}"></a></div></div></div></div></div><div we7-drag></div></div></div>'), e.put("widget-adimg-editor.html", '<div ng-controller="AdImgCtrl"><div class="app-adImg-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="control-label col-xs-3">显示方式</label><div class="col-xs-9"><input type="radio" class="carousel-style" ng-model="activeItem.params.listStyle" value="1" ng-click="activeItem.params.sizeType=1;changeInnerHeight()" name="ad-show-style" id="list-style1"><label class="radio-inline" for="list-style1">折叠轮播</label><input type="radio" class="separate-style" ng-model="activeItem.params.listStyle" value="2" name="ad-show-style" ng-click="changeInnerHeight()" id="list-style2"><label class="radio-inline" for="list-style2">分开显示</label></div></div><div class="form-group"><label class="control-label col-xs-3">显示大小</label><div class="col-xs-9"><input type="radio" class="size-lg-style" ng-model="activeItem.params.sizeType" value="1" name="ad-size" ng-click="changeInnerHeight()" id="size-type1"><label class="radio-inline" for="size-type1">大图</label><input type="radio" class="size-sm-style" ng-model="activeItem.params.sizeType" value="2" name="ad-size" ng-click="changeInnerHeight()" id="size-type2"><label class="radio-inline" for="size-type2" ng-show="activeItem.params.listStyle == 2">小图</label></div></div><div class="add-adImg-item card clearfix" ng-repeat="item in activeItem.params.items"><div class="btns"><a href="#" ng-click="addEmpty()"><i class="fa fa-plus"></i></a> <a href="#" ng-click="removeItem(item)"><i class="fa fa-times"></i></a></div><div class="col-xs-3 img"><h3 ng-click="changeItem(item)">重新上传</h3><img src="" ng-src="{{ item.imgurl }}" width="100%"></div><div class="col-xs-9"><div class="form-group"><label class="control-label col-xs-3">标题</label><div class="col-xs-9"><input class="form-control" name="title" ng-model="item.title" value="" type="text"></div></div><div class="form-group"><label class="control-label col-xs-3">链接</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="item.url" we7-my-title="item.title"></div></div></div></div></div><div class="add-adImg card" ng-click="addItem()"><a href="#"><i class="fa fa-plus-circle green"></i>添加一个广告</a></div></div></div></div></div></div>'), e.put("widget-audio-display.html", '<div ng-controller="AudioCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-audio" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><div ng-if="module.params.style == \'1\'" id="audio-music-{{$index+0}}" data-reload="{{module.params.reload}}" class="wx audioLeft clearfix" data-src="{{module.params.audio.url}}" ng-class="{\'audioLeft\': module.params.align == \'left\', \'audioRight\': module.params.align == \'right\'}" style="width:100%;height:100%"><img ng-init="module.params.headimg = module.params.headimg ? module.params.headimg : \'./resource/images/app/shop.png!80x80.jpg\'" ng-src="{{module.params.headimg}}" alt="语音头像" class="audioLogo" width="40" height="40"> <span class="audioBar js-play"><img style="display:none" ng-if="module.params.align == \'left\'" src="./resource/images/app/player.gif" class="audioAnimation"> <img style="display:none" ng-if="module.params.align == \'right\'" src="./resource/images/app/green_player.gif" class="audioAnimation"> <i class="audioStatic"></i> <span style="display:none" class="audioLoading"><i class="fa fa-spinner fa-pulse"></i></span></span> <span class="audioBar js-pause" style="display:none"><img ng-if="module.params.align == \'left\'" src="./resource/images/app/player.gif" class="audioAnimation"> <img ng-if="module.params.align == \'right\'" src="./resource/images/app/green_player.gif" class="audioAnimation"> <i class="audioStatic"></i></span> <span class="audio-time"></span><div class="js-audio-wx" data-id="audio-music-{{$index+0}}"></div></div><div class="music music-play" id="audio-music-{{$index+0}}" data-src="{{module.params.audio.url}}" data-reload="{{module.params.reload}}" data-loop="{{module.params.isloop}}" ng-if="module.params.style == \'2\'"><span class="audioStatic js-play"><a href="javascript:;"><i class="fa fa-play-circle-o"></i></a></span> <span class="audioAnimation js-pause" style="display:none"><a href="javascript:;"><i class="fa fa-pause"></i></a></span> <span class="musicTitle" ng-if="module.params.title == \'\'">歌名儿</span> <span class="musicTitle" ng-if="module.params.title != \'\'">{{module.params.title}}</span> <span class="audioLoading" style="display:none"><i class="fa fa-spinner fa-pulse"></i></span> <span class="audio-time" style="display:none"><span class="audio-current-time">00:00</span>/<span class="audio-duration">00:00</span></span><div class="slider-bar"><div class="slider-fill"></div></div><div class="js-audio-music" data-id="audio-music-{{$index+0}}"></div></div></div></div><div we7-drag></div></div></div>'), e.put("widget-audio-editor.html", '<div ng-controller="AudioCtrl"><div class="app-audio-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-2 control-label">音频</label><div class="col-xs-10"><span class="input-group-btn"><button type="button" class="btn btn-default audio-player-play" style="display:none"><i class="fa fa-play"></i></button> <button ng-click="addAudioItem()" type="button" class="btn btn-default">选择媒体文件</button></span></div></div><div class="form-group"><label class="col-xs-2 control-label">样式</label><div class="col-xs-10"><div class=""><input id="wx-music-type" type="radio" name="wx-music" value="1" ng-model="activeItem.params.style" ng-click="changeInnerHeight()"><label class="radio-inline" for="wx-music-type">模仿微信对话样式</label><div class="form-group" ng-show="activeItem.params.style == \'1\'"><label class="control-label col-xs-3">头像:</label><div class="col-xs-3" style="padding-top:10px"><img ng-init="activeItem.params.headimg = activeItem.params.headimg ? activeItem.params.headimg : \'./resource/images/app/shop.png!80x80.jpg\'" ng-src="{{activeItem.params.headimg}}" alt="语音头像" width="62" height="62"></div><div class="help-block col-xs-6" style="padding-left:0;padding-top:10px"><a href="#" ng-click="addImgItem()">上传头像</a><br>建议尺寸80*80像素<br>如果不设置,默认将使用店铺logo</div></div><div class="form-group" ng-show="activeItem.params.style == \'1\'"><label class="control-label col-xs-3">气泡:</label><div class="col-xs-9"><input id="bubble-left" type="radio" name="bubble" value="left" ng-model="activeItem.params.align"><label class="radio-inline" for="bubble-left">居左</label><input id="bubble-right" type="radio" name="bubble" value="right" ng-model="activeItem.params.align"><label class="radio-inline" for="bubble-right">居右</label></div></div></div><div class=""><input id="simple-music-type" type="radio" name="wx-music" value="2" ng-model="activeItem.params.style" ng-click="changeInnerHeight()"><label class="radio-inline" for="simple-music-type">简易音乐播放器</label><div><div class="form-group" ng-show="activeItem.params.style == \'2\'"><label class="control-label col-xs-3">标题:</label><div class="col-xs-9"><input class="form-control" type="text" ng-model="activeItem.params.title"></div></div><div class="form-group" ng-show="activeItem.params.style == \'2\'"><label class="control-label col-xs-3">循环:</label><div class="col-xs-9"><label class="checkbox-inline"><input type="checkbox" ng-model="activeItem.params.isloop">开启循环播放</label></div></div></div></div></div></div><div class="form-group"><label class="col-xs-2 control-label">播放</label><div class="col-xs-10"><div><input id="play-type1" type="radio" name="play" ng-model="activeItem.params.reload" value="true"><label class="radio-inline" for="play-type1">暂停后再回复播放时,从头开始</label></div><div><input id="play-type2" type="radio" name="play" ng-model="activeItem.params.reload" value="false"><label class="radio-inline" for="play-type2">暂停后再回复播放时,从暂停位置开始</label></div></div></div></div></div></div></div></div>'), e.put("widget-countdown-display.html", '<div ng-controller="CountDownCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-countDown" style="width:100%;height:100%;overflow:hidden;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="timer" data="{{module.params.deadtime}}"><span class="day" ng-bind="module.params.leftTimeText.day"></span> <small style="vertical-align:middle;margin:3px">天</small> <span class="hours" ng-bind="module.params.leftTimeText.hour"></span> <small style="vertical-align:middle;margin:3px">时</small> <span class="minutes" ng-bind="module.params.leftTimeText.min"></span> <small style="vertical-align:middle;margin:3px">分</small> <span class="seconds" ng-bind="module.params.leftTimeText.sec"></span> <small style="vertical-align:middle;margin:3px">秒</small></div><script type="text/javascript">$(document).ready(function(){\r\n\t\t\t\t\tsetInterval(function(){\r\n\t\t\t\t\t\tvar timer = $(\'.timer\');\r\n\t\t\t\t\t\tfor (var i = 0; i < timer.length; i++) {\r\n\t\t\t\t\t\t\tvar dead = $(timer.get(i)).attr(\'data\');\r\n\t\t\t\t\t\t\tvar deadtime = dead.replace(/-/g,\'/\');\r\n\t\t\t\t\t\t\tdeadtime = new Date(deadtime).getTime();\r\n\t\t\t\t\t\t\tvar nowtime = Date.parse(Date());\r\n\t\t\t\t\t\t\tvar diff = deadtime - nowtime > 0 ? deadtime - nowtime : 0;\r\n\t\t\t\t\t\t\tvar res = {};\r\n\t\t\t\t\t\t\tres.day = parseInt(diff / (24 * 60 * 60 * 1000));\r\n\t\t\t\t\t\t\tres.hour = parseInt(diff / (60 * 60 * 1000) % 24);\r\n\t\t\t\t\t\t\tres.min = parseInt(diff / (60 * 1000) % 60);\r\n\t\t\t\t\t\t\tres.sec = parseInt(diff / 1000 % 60);\r\n\t\t\t\t\t\t\t$(\'.timer[data="\'+dead+\'"] .day\').text(res.day);\r\n\t\t\t\t\t\t\t$(\'.timer[data="\'+dead+\'"] .hours\').text(res.hour);\r\n\t\t\t\t\t\t\t$(\'.timer[data="\'+dead+\'"] .minutes\').text(res.min);\r\n\t\t\t\t\t\t\t$(\'.timer[data="\'+dead+\'"] .seconds\').text(res.sec);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t});<\/script></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-countdown-editor.html", '<div ng-controller="CountDownCtrl"><div class="app-countDown-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><div class="form-group"><label class="col-xs-3 control-label">倒计时截止时</label><div class="col-xs-6"><input type="text" class="form-control" ng-model="activeItem.params.deadtimeToMin" disabled></div><div class="col-xs-3 form-control-static"><span class="date"><a href="javascript:;" we7-date-picker we7-date-value="activeItem.params.deadtime">日期</a></span></div></div></div></div></div></div></div>'), e.put("widget-cube-display.html", '<div ng-controller="CubeCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-cube" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><table><tr ng-repeat="row in module.params.layout" ng-init="rowindex=$index"><td ng-init="colindex=$index" ng-repeat="col in row" class="{{col.classname}} rows-{{col.rows}} cols-{{col.cols}}" ng-class="{\'empty\' : col.isempty, \'not-empty\' : !col.isempty}" rowspan="{{col.rows}}" colspan="{{col.cols}}"><div ng-if="!col.isempty && col.imgurl"><a href="{{col.url}}"><img ng-src="{{col.imgurl}}" width="{{col.cols * 60}}" height="{{col.rows * 60}}"></a></div></td></tr></table></div></div><div we7-drag></div></div></div>'), e.put("widget-cube-editor.html", '<div ng-controller="CubeCtrl"><div class="app-cube-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-3 control-label">布局</label><div class="col-xs-9"><table id="cube-editor"><tr ng-repeat="(x, row) in activeItem.params.layout"><td ng-repeat="(y, col) in row" class="{{col.classname}} rows-{{col.rows}} cols-{{col.cols}}" ng-click="col[\'isempty\'] ? showSelection(x, y) : changeItem(x, y)" ng-class="{\'empty\' : col.isempty, \'not-empty\' : !col.isempty}" rowspan="{{col.rows}}" colspan="{{col.cols}}" x="{{x}}" y="{{y}}"><div ng-if="col.isempty">+</div><div ng-if="!col.imgurl && !col.isempty">{{col.cols * 160}} * {{col.rows * 160}}</div><div ng-if="!col.isempty && col.imgurl"><img ng-src="{{col.imgurl}}" width="{{col.cols * 60}}" height="{{col.rows * 60}}"></div></td></tr></table><span class="help-block">点击"+",添加内容</span><img ng-src="{{col.imgurl}}" width="{{col.cols * 60}}" height="{{col.cols * 60}}"></div></div><div ng-show="activeItem.params.currentLayout.isempty == false" class="add-cube-item card clearfix"><div class="btns"><a href="#" ng-click="removeItem()"><i class="fa fa-times"></i></a></div><div class="form-group"><label class="control-label col-xs-3"><span class="red">*</span>选择图片</label><div class="col-xs-9"><div style="width:50px; height:50px; overflow:hidden; float:left; margin-right:10px"><img ng-src="{{activeItem.params.currentLayout.imgurl}}" id="thumb" width="100%"></div><span ng-click="addItem()"><i class="fa fa-plus-circle green"></i>&nbsp;添加图片</span> <span class="help-block">建议尺寸：{{activeItem.params.currentLayout.cols * 160}} * {{activeItem.params.currentLayout.rows * 160}} 像素</span></div></div><div class="form-group"><label class="control-label col-xs-3">链接</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="activeItem.params.currentLayout.url" we7-my-title="activeItem.params.currentLayout.title"></div></div></div></div></div></div></div></div><div id="modal-cube-layout" class="modal fade in" role="dialog" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h3>选择布局</h3></div><div class="modal-body text-center"><div class="layout-table"><ul class="layout-cols layout-rows-{{col.rows}} clearfix" ng-repeat="row in activeItem.params.selection"><li data-cols="{{col.cols}}" data-rows="{{col.rows}}" ng-click="selectLayout(activeItem.params.currentPos.row, activeItem.params.currentPos.col, col.rows, col.cols)" ng-repeat="col in row"></li></ul></div></div></div></div></div></div>'), e.put("widget-dial-display.html", '<div ng-controller="DialCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-dial" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div ng-repeat="item in module.params.items" ng-if="item.active" style="width:100%;height:100%"><div class="app-dialphone animated" ng-if="item.type==\'text\'" style="width:100%;height:100%"><a ng-href="tel:{{item.tel}}" class="element-link"><div class="element-box" ng-bind="item.title" ng-style="{\'line-height\' : module.params.baseStyle.lineHeight, \'color\' : item.color}"></div></a></div><div ng-if="item.type==\'img\'" style="width:100%;height:100%"><a ng-href="tel:{{item.tel}}" class="element-link" style="width:100%"><img ng-src="{{item.imgurl}}" style="width:100%;height:100%" alt=""></a></div></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-dial-editor.html", '<div ng-controller="DialCtrl"><div class="app-dial-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><ul class="nav nav-pills nav-justified"><li ng-class="{active : item.active}" ng-repeat="item in activeItem.params.items"><a ng-href="#{{item.id}}" role="tab" data-toggle="tab" ng-click="changeItem(item);"><button ng-class="{\'btn\' : 1,\'btn-danger\' : item.editcolor==\'danger\', \'btn-warning\' : item.editcolor==\'warning\', \'btn-success\' : item.editcolor==\'success\', \'btn-default\' : item.editcolor==\'default\', \'btn-primary\' : item.editcolor==\'primary\'}"><span ng-if="item.type==\'img\'" class="fa fa-picture-o"></span> <span ng-if="item.id==\'1\'">一键拨号</span> <span ng-if="item.id==\'2\'">热线电话</span> <span ng-if="item.id==\'3\'">拨打电话</span> <span ng-if="item.id==\'4\'">销售专线</span> <span ng-if="item.id==\'5\'">自定义</span></button></a></li></ul><hr><div class="tab-content"><div class="tab-pane active" id="{{item.id}}" ng-repeat="item in activeItem.params.items" ng-if="item.active"><div class="form-group" ng-if="item.type==\'text\'"><label class="col-xs-3 control-label">按钮名称</label><div class="col-xs-9"><input type="text" class="form-control" ng-model="item.title"></div></div><div class="form-group" ng-if="item.type==\'img\'"><label class="col-xs-3 control-label">按钮图片</label><div class="col-xs-9"><div class="img-container"><img ng-src="{{item.imgurl}}" alt=""> <span class="change-img" ng-click="addImage(item);"><span ng-show="item.imgurl">更换</span><span ng-show="!item.imgurl">添加</span>图片</span></div></div></div><div class="form-group"><label class="col-xs-3 control-label">手机/电话</label><div class="col-xs-9"><input type="text" class="form-control" ng-model="item.tel" placeholder="010-8888888"></div></div></div></div></div></div></div></div></div>'), e.put("widget-good-display.html", '<div ng-controller="GoodCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-good" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="element app-good-up" ng-if="module.params.layoutstyle==\'1\'"><div class="counter-container" ng-style="{\'width\': \'100%\', \'height\': \'100%\', \'line-height\' : module.params.baseStyle.lineHeight, \'overflow\' : \'hidden\'}"><i class="fa fa-thumbs-o-up"></i> <span class="counter-num">0</span></div></div><div class="element app-good-up" ng-if="module.params.layoutstyle==\'2\'"><div class="counter-container counter-vertical" style="width:100%; height:100%; line-height:normal;overflow:hidden"><i class="fa fa-thumbs-o-up"></i> <span class="counter-num">0</span></div></div><script type="text/javascript">$(document).ready(function() {\r\n\t\t\t\t\tvar patt = new RegExp(\'c=home&a=page\');\r\n\t\t\t\t\tif (patt.exec(window.location.href)) {\r\n' + "\t\t\t\t\t\t$.post(window.location.href, {'do' : 'getnum'}, function(data) {\r\n\t\t\t\t\t\t\tif (data.message.errno == 0) {\r\n\t\t\t\t\t\t\t\t$('.counter-num').text(data.message.message.goodnum);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 'json');\r\n\t\t\t\t\t\t$(\".app-good .element\").click(function() {\r\n\t\t\t\t\t\t\tvar id=GetQueryString(\"id\");\r\n\t\t\t\t\t\t\tif(id !=null && id.toString().length>=1 && localStorage.havegood != id){\r\n\t\t\t\t\t\t\t\t$.post(window.location.href, {'do': 'addnum'}, function(data) {\r\n\t\t\t\t\t\t\t\t\tif (data.message.errno == 0) {\r\n\t\t\t\t\t\t\t\t\t\tvar now = $('.counter-num').text();\r\n\t\t\t\t\t\t\t\t\t\tnow = parseInt(now)+1;\r\n\t\t\t\t\t\t\t\t\t\t$('.counter-num').text(now);\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.havegood = id;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, 'json');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfunction GetQueryString(name){\r\n\t\t\t\t\t\t\tvar reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n\t\t\t\t\t\t\tvar r = window.location.search.substr(1).match(reg);\r\n\t\t\t\t\t\t\tif(r!=null)return  unescape(r[2]); return null;\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t});<\/script></div><div we7-drag we7-resize we7-rotate></div></div></div>"), e.put("widget-good-editor.html", '<div ng-controller="GoodCtrl"><div class="app-good-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><div class="form-group"><label class="col-xs-3 control-label">颜色</label><div class="col-xs-9"><div we7-colorpicker we7-my-color="activeItem.params.baseStyle.color" we7-my-default-color="activeItem.params.baseStyle.color"></div></div></div><div class="form-group"><label class="col-xs-3 control-label">布局</label><div class="col-xs-9"><div class="btn-group"><div ng-class="{\'btn\' : \'1\', \'active\' : activeItem.params.layoutactive==\'lr\',\'btn-default\' : activeItem.params.layoutstyle != \'1\',\'btn-primary\' : activeItem.params.layoutstyle==\'1\'}" ng-click="changeLayout(\'lr\')">左右</div><div ng-class="{\'btn\' : \'1\', \'active\' : activeItem.params.layoutactive==\'ud\',\'btn-default\' : activeItem.params.layoutstyle != \'2\',\'btn-primary\' : activeItem.params.layoutstyle==\'2\'}" ng-click="changeLayout(\'ud\')">上下</div></div></div></div></div></div></div></div></div>'), e.put("widget-header-display.html", '<div ng-controller="HeaderCtrl" we7-nobar><div class="title js-default-content"><h1><span>{{module.params.title}}</span></h1></div></div>'), e.put("widget-header-editor.html", '<div ng-controller="HeaderCtrl" ng-if="activePageIndex == 0"><div class="app-header-setting"><div class="arrow-left"></div><div class="app-header-setting-inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-3 control-label"><span class="red">*</span> 页面名称</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.title" placeholder="微页面标题" class="form-control"></div></div><div class="form-group"><label class="col-xs-3 control-label">页面描述</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.description" placeholder="用户通过微信分享给朋友时,会自动显示页面描述" class="form-control"></div></div><div class="form-group"><label class="col-xs-3 control-label">触发关键字</label><div class="col-xs-9"><input type="text" ng-model="activeItem.params.keyword" class="form-control"> <span class="help-block">用户触发关键字，系统回复此页面的图文链接.不支持多关键字</span></div></div><div class="form-group"><label class="control-label col-xs-3"><span class="red">*</span>封面</label><div class="col-xs-9"><span ng-click="addThumb(\'thumb\')"><i class="fa fa-plus-circle green"></i>&nbsp;选择图片</span><div style="margin-top:.5em" class="input-group" ng-show="activeItem.params.thumb"><img width="150" class="img-responsive img-thumbnail" ng-src="{{activeItem.params.thumb}}"> <em ng-click="activeItem.params.thumb = \'\';" title="删除这张图片" style="position:absolute; top: 0px; right: -14px" class="close">×</em></div><span class="help-block">用于用户触发关键字后，系统回复时的封面图片</span></div></div><div class="form-group"><label class="control-label col-xs-3">快捷菜单</label><div class="col-xs-9" style="margin-top:7px"><input type="checkbox" class="from-control" ng-click="ifCheck()" ng-checked="activeItem.params.bottom_menu"> <span>是否在本专题页面中显示微站快捷菜单</span></div></div></div></div></div></div></div>'), e.put("widget-image-display.html", '<div ng-controller="ImageCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-image" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><img style="width:100%;height:100%" ng-src="{{module.params.items.imgurl}}" alt=""></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-image-editor.html", '<div ng-controller="ImageCtrl"><div class="app-image-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><div class="add-image-item card clearfix" ng-show="activeItem.params.items.imgurl"><div class="col-xs-3 img"><h3 ng-click="changeItem(activeItem.params.items)">重新上传</h3><img ng-src="{{ activeItem.params.items.imgurl }}" width="100%"></div></div><div class="add-image-editor card" ng-click="addItem()" ng-hide="activeItem.params.items.imgurl"><a href="#"><i class="fa fa-plus-circle green"></i>添加一个图片</a></div></div></div></div></div></div>'), e.put("widget-line-display.html", '<div ng-controller="LineCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-line" style="width:100%;height:100%;overflow:hidden;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><hr style="border-top-color:{{module.params.baseStyle.color}}"></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-line-editor.html", '<div ng-controller="LineCtrl"><div class="app-line-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body">辅助线（请于左侧拖动缩放调整）</div></div></div></div></div>'), e.put("widget-link-display.html", '<div ng-controller="LinkCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div class="container-link" style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-link js-default-content" ng-if="module.params.items.length == 0" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><div class="list-group"><div class="list-group-item"><a class="clearfix" href="javascript:;"><span class="app-nav-title">点此编辑第1条『关联链接』<i class="pull-right fa fa-angle-right"></i></span></a></div><div class="list-group-item"><a class="clearfix" href="javascript:;"><span class="app-nav-title">点此编辑第2条『关联链接』<i class="pull-right fa fa-angle-right"></i></span></a></div><div class="list-group-item"><a class="clearfix" href="javascript:;"><span class="app-nav-title">点此编辑第n条『关联链接』<i class="pull-right fa fa-angle-right"></i></span></a></div></div></div></div><div ng-if="module.params.items.length != 0"><div class="app-link" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.params.animate}}"><div class="inner"><div class="list-group"><div ng-repeat="item in module.params.items"><div ng-if="item.type == \'1\' && (item.selectCate.pid > 0 || item.selectCate.cid > 0)"><div class="list-group-item" ng-repeat="i in pageSize | limitTo:item.pageSize"><a class="clearfix" href="javascript:;"><span class="app-nav-title">第{{$index+1}}条 {{item.selectCate.name}} 的『关联链接』<i class="pull-right fa fa-angle-right"></i></span></a></div></div><div class="list-group-item" ng-if="item.type == \'2\'"><a class="clearfix" href="{{item.url}}"><span class="app-nav-title">{{item.title}} <i class="pull-right fa fa-angle-right"></i></span></a></div></div></div></div></div></div><div we7-drag></div></div></div>'), e.put("widget-link-editor.html", '<div ng-controller="LinkCtrl"><div class="app-textNav-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="card add-textNav-con" ng-repeat="item in activeItem.params.items"><div class="btns"><a href="javascript:" ng-click="addItem()"><i class="fa fa-plus"></i></a> <a href="javascript:" ng-click="removeItem(item)"><i class="fa fa-times"></i></a></div><div class="form-group"><label class="control-label col-xs-3"><span class="red">*</span> 数据来源</label><div class="col-xs-9"><input id="source-type1" type="radio" value="1" ng-model="item.type" name="link-type-{{$index+0}}" ng-click="changeInnerHeight()"><label class="radio-inline" for="source-type1">分类</label><input id="source-type2" type="radio" value="2" ng-model="item.type" name="link-type-{{$index+0}}" ng-click="changeInnerHeight()"><label class="radio-inline" for="source-type2">自定义</label></div></div><div class="form-group" ng-show="item.type == 2"><label class="control-label col-xs-3"><span class="red">*</span> 导航名称</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-class="{\'red\': item.title == \'\'}" ng-model="item.title"></div></div><div class="form-group" ng-show="item.type == 2"><label class="control-label col-xs-3"><span class="red">*</span> 链接到</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="item.url" we7-my-title="item.title"></div></div></div><div class="form-group" ng-show="item.type == 1"><label class="control-label col-xs-3"><span class="red">*</span>内容来源</label><div class="col-xs-9"><div class="input-group"><div class="form-control-static"><label ng-if="item.selectCate.id != 0" class="label label-success">{{item.selectCate.name}}</label><a href="javascript:;" ng-click="showSearchCateList(item)"><span ng-if="item.selectCate.id == 0">从分类中选择</span><span ng-if="item.selectCate.id != 0">修改</span></a></div></div></div></div><div class="form-group" ng-show="item.type == 1"><label class="control-label col-xs-3">文章属性</label><div class="col-xs-9"><input id="article-attr-type1" type="checkbox" ng-model="item.isnew" value="1" name="attribute"><label class="checkbox-inline" for="article-attr-type1">最新</label><input id="article-attr-type2" type="checkbox" ng-model="item.iscommend" value="1" name="attribute"><label class="checkbox-inline" for="article-attr-type2">推荐</label><input id="article-attr-type3" type="checkbox" ng-model="item.ishot" value="1" name="attribute"><label class="checkbox-inline" for="article-attr-type3">头条</label></div></div><div class="form-group" ng-show="item.type == 1"><label class="control-label col-xs-3">显示条数</label><div class="col-xs-9"><select class="form-control" ng-model="item.pageSize" ng-change="changePageSize(item)"><option value="1">1条</option><option value="2">2条</option><option value="3">3条</option><option value="4">4条</option><option value="5">5条</option><option value="10">10条</option><option value="15">15条</option><option value="20">20条</option><option value="30">30条</option></select></div></div></div><div class="add-textNav card"><a href="javascript:" ng-click="addItem()"><i class="fa fa-plus-circle green"></i> 添加一个导航</a></div></div></div></div></div><div id="modal-search-cate-link" class="modal fade in" role="dialog" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3>选择分类</h3></div><div class="modal-body"><table class="table table-hover"><thead class="navbar-inner"><tr><th style="width:60%">标题</th><th style="width:30%; text-align:right"><div class="input-group input-group-sm"><input type="text" class="form-control js-search-cate-keyword"> <span class="input-group-btn"><button ng-click="showSearchCateList(currentItem)" class="btn btn-default" type="button"><i class="fa fa-search"></i></button></span></div></th></tr></thead><tbody ng-repeat="pcate in searchCateList"><tr><td><a href="#">{{pcate.name}}</a></td><td class="text-right"><a class="btn btn-default btn-sm" ng-click="selectCateItem(pcate.id, 0, pcate.name)">选取</a></td></tr><tr ng-repeat="ccate in pcate.children track by $index"><td style="padding-left:50px;height:30px;line-height:30px;background-image:url(\'./resource/images/bg_repno.gif\'); background-repeat:no-repeat; background-position: -245px -540px"><a href="#">{{ccate.name}}</a></td><td class="text-right"><a class="btn btn-default btn-sm" ng-click="selectCateItem(0, ccate.id, ccate.name)">选取</a></td></tr></tbody></table></div></div></div></div></div>'), e.put("widget-navimg-display.html", '<div ng-controller="NavImgCtrl" style="{{module.positionStyle}}min-height:90px;transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-navImg" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner" style="height:100%"><ul class="clearfix" style="height:100%"><li ng-repeat="item in module.params.items" style="height:100%"><a href="{{item.url}}" style="height:100%;width:100%"><span class="nav-img" style="height:80%;width:100%" ng-if="item.imgurl"><img ng-src="{{item.imgurl}}" style="height:100%;width:95%"></span> <span class="title" title="{{item.title}}" style="height:20%;width:100%;line-height:100%">{{item.title}}</span></a></li></ul></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-navimg-editor.html", '<div ng-controller="NavImgCtrl"><div class="app-nav-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div ng-repeat="item in activeItem.params.items"><div class="card nav-item clearfix"><div class="col-xs-3 img" ng-if="item.imgurl == \'\'"><span ng-click="changeItem(item)"><i class="fa fa-plus-circle green"></i>&nbsp;添加图片</span></div><div class="col-xs-3 img" ng-if="item.imgurl != \'\'"><h3 ng-click="changeItem(item)">重新上传</h3><img ng-src="{{ item.imgurl }}"></div><div class="col-xs-9"><div class="form-group"><label class="control-label col-xs-3">文字</label><div class="col-xs-9"><input name="title" ng-model="item.title" class="form-control" typel="text" placeholder="文字"></div></div><div class="form-group"><label class="control-label col-xs-3">链接</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="item.url" we7-my-title="item.title"></div></div></div></div></div></div></div></div></div></div></div>'), e.put("widget-notice-display.html", '<div ng-controller="NoticeCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-notice" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><div class="notice-box"><div class="scrollNotice"><span class="js-scroll-notice">公告: {{module.params.notice || \'请填写内容,如果过长,将会在手机上滚动显示!\'}}</span></div></div></div></div><div we7-drag></div></div></div>'), e.put("widget-notice-editor.html", '<div ng-controller="NoticeCtrl"><div class="app-notice-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group" style="margin-bottom:0"><label class="col-xs-2 control-label">公告</label><div class="col-xs-10"><input type="text" ng-model="activeItem.params.notice" value="" class="form-control" placeholder="请填写内容,如果过长,将会在手机上滚动显示"></div></div></div></div></div></div></div>'), e.put("widget-onlytext-display.html", '<div ng-controller="OnlyTextCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-onlyText" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="element" ng-bind="module.params.title" style="overflow:hidden"></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-onlytext-editor.html", "<div ng-controller=\"OnlyTextCtrl\"><div class=\"app-onlyText-edit\"><div class=\"arrow-left\"></div><div class=\"inner\"><div class=\"panel panel-default\"><div class=\"panel-body\"><div class=\"form-group\"><label class=\"control-label col-xs-3\">文字</label><div class=\"col-xs-6\"><input ng-model=\"activeItem.params.title\" class=\"form-control\"></div></div><div class=\"form-group\"><label class=\"col-xs-3 control-label\">位置</label><div class=\"col-xs-9\"><div class=\"btn-group\"><div ng-class=\"{'btn' : '1', 'btn-default' : '1', 'active' : activeItem.params.baseStyle.textAlign == 'left', 'btn-primary' : activeItem.params.baseStyle.textAlign == 'left'}\" ng-click=\"changeTextAlign('left')\">左</div><div ng-class=\"{'btn' : '1', 'btn-default' : '1', 'active' : activeItem.params.baseStyle.textAlign == 'center', 'btn-primary' : activeItem.params.baseStyle.textAlign == 'center'}\" ng-click=\"changeTextAlign('center')\">中</div><div ng-class=\"{'btn' : '1', 'btn-default' : '1', 'active' : activeItem.params.baseStyle.textAlign == 'right', 'btn-primary' : activeItem.params.baseStyle.textAlign == 'right'}\" ng-click=\"changeTextAlign('right')\">右</div></div></div></div></div></div></div></div></div>"), e.put("widget-purelink-display.html", '<div ng-controller="PureLinkCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-pureLink" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div ng-repeat="item in module.params.items" ng-if="item.active" style="width:100%;height:100%"><div class="app-pureLink-basic animated" ng-if="item.type==\'text\'" style="width:100%;height:100%"><a ng-href="{{item.url}}" class="element-link"><div class="element-box" ng-bind="item.title" ng-style="{\'line-height\' : module.params.baseStyle.lineHeight, \'color\' : item.color}"></div></a></div><div ng-if="item.type==\'img\'" style="width:100%;height:100%"><a ng-href="{{item.url}}" class="element-link"><img ng-src="{{item.imgurl}}" style="width:100%;height:100%" alt=""></a></div></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-purelink-editor.html", '<div ng-controller="PureLinkCtrl"><div class="app-pureLink-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><ul class="nav nav-pills nav-justified"><li ng-class="{active : item.active}" ng-repeat="item in activeItem.params.items"><a ng-href="#{{item.id}}" role="tab" data-toggle="tab" ng-click="changeItem(item);"><button ng-class="{\'btn\' : 1,\'btn-danger\' : item.editcolor==\'danger\', \'btn-warning\' : item.editcolor==\'warning\', \'btn-success\' : item.editcolor==\'success\', \'btn-default\' : item.editcolor==\'default\', \'btn-primary\' : item.editcolor==\'primary\'}"><span ng-if="item.type==\'img\'" class="fa fa-picture-o"></span><span ng-if="item.id==\'1\'">点我购买</span><span ng-if="item.id==\'2\'">点开链接</span><span ng-if="item.id==\'3\'">马上购买</span><span ng-if="item.id==\'4\'">关注我们</span><span ng-if="item.id==\'5\'">自定义</span></button></a></li></ul><hr><div class="tab-content"><div class="tab-pane active" id="{{item.id}}" ng-repeat="item in activeItem.params.items" ng-show="item.active"><div class="form-group" ng-show="item.type==\'text\'"><label class="col-xs-3 control-label">按钮名称</label><div class="col-xs-9"><input type="text" class="form-control" ng-model="item.title"></div></div><div class="form-group" ng-show="item.type==\'img\'"><label class="col-xs-3 control-label">按钮图片</label><div class="col-xs-9"><div class="img-container"><img ng-src="{{item.imgurl}}" alt=""> <span class="change-img" ng-click="addImage(item);"><span ng-show="item.imgurl">更换</span><span ng-show="!item.imgurl">添加</span>图片</span></div></div></div><div class="form-group"><label class="col-xs-3 control-label">网站地址</label><div class="col-xs-6"><input type="text" ng-model="item.url" class="form-control" placeholder="http://example.com"></div><div class="col-xs-3 form-control-static"><a href="http://dwz.cn/" target="_blank">生成短链接</a></div></div></div></div></div></div></div></div></div>'), e.put("widget-reward-display.html", "<div ng-controller=\"RewardCtrl\" style=\"{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)\" we7-context-menu><div style=\"{{module.transform}}width:100%;height:100%\" ng-class=\"{'alock' : module.params.baseStyle.lock}\"><div class=\"app-reward\" style=\"width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}\"><div class=\"element\" ng-style=\"{'width': '100%', 'height': '100%', 'line-height' : module.params.baseStyle.lineHeight}\"><a style=\"width:100%;height:100%;display:block;color:inherit\" href=\"{php echo url('home/page', array('do' => 'reward', 'id' => $id))}\">打赏</a></div></div><div we7-drag we7-resize we7-rotate></div></div></div>"), e.put("widget-reward-editor.html", "<div ng-controller=\"RewardCtrl\"><div class=\"app-reward-edit\"><div class=\"arrow-left\"></div><div class=\"inner\"><div class=\"panel panel-default\"><div class=\"panel-body\"><div class=\"form-group\"><label class=\"col-xs-3 control-label\">文字颜色</label><div class=\"col-xs-9\" ng-my-colorpicker ng-my-color=\"activeItem.params.baseStyle.color\" ng-my-default-color=\"activeItem.params.baseStyle.color\"></div></div><div class=\"form-group\"><label class=\"col-xs-3 control-label\">字号</label><div class=\"col-xs-9\"><div class=\"btn-group\" data-toggle=\"buttons\"><div ng-class=\"{'btn' : '1', 'active' : activeItem.params.fontactive=='big','btn-default' : activeItem.params.fonttype != 'big','btn-primary' : activeItem.params.fonttype=='big'}\" ng-click=\"changeSize('big')\">大</div><div ng-class=\"{'btn' : '1', 'active' : activeItem.params.fontactive=='middle','btn-default' : activeItem.params.fonttype != 'middle','btn-primary' : activeItem.params.fonttype=='middle'}\" ng-click=\"changeSize('middle')\">中</div><div ng-class=\"{'btn' : '1', 'active' : activeItem.params.fontactive=='small','btn-default' : activeItem.params.fonttype != 'small','btn-primary' : activeItem.params.fonttype=='small'}\" ng-click=\"changeSize('small')\">小</div></div></div></div></div></div></div></div></div>"), e.put("widget-richtext-display.html", '<div ng-controller="RichTextCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-richText" style="width:100%;height:100%;word-break:break-all;overflow:hidden;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner" ng-style="{\'padding\' : module.params.isfull ? \'0\' : \'10px\'}" ng-bind-html="trustAsHtml(module.params.content, module.params.params)" ng-if="module.params.content || module.params.params"></div><div class="inner js-default-content" ng-if="!module.params.content && !module.params.params"><p>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行 <strong>加粗</strong>、<em>斜体</em>、<span style="text-decoration: underline">下划线</span>、 <span style="text-decoration: line-through">删除线</span>、文字<span style="color: rgb(0, 176, 240)">颜色</span>、 <span style="background-color: rgb(255, 192, 0); color: rgb(255, 255, 255)">背景色</span>、 以及字号<span style="font-size: 20px">大</span><span style="font-size: 14px">小</span>等简单排版操作。</p><p>还可以在这里加入表格了</p><table class="table-bordered"><tbody><tr><td>中奖客户</td><td>发放奖品</td><td>备注</td></tr><tr><td>猪猪</td><td>内测码</td><td><em><span class="red">已经发放</span></em></td></tr><tr><td>大麦</td><td>积分</td><td><a href="#" target="_blank">领取地址</a></td></tr></tbody></table><p style="text-align: left"><span style="text-align: left">也可在这里插入图片、并对图片加上超级链接，方便用户点击。</span></p></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-richtext-editor.html", '<div ng-controller="RichTextCtrl"><div class="app-richText-edit"><div class="arrow-left"></div><div class="app-header-setting-new-inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-3 control-label">是否全屏</label><div class="col-xs-9"><label for="fullScreen" class="checkbox-inline"><input id="fullScreen" name="fullScreen" type="checkbox" ng-model="activeItem.params.isfull">全屏显示</label></div></div><div class="form-group"><div class="col-xs-12"><div we7-editor we7-my-value="activeItem.params.content" we7-my-params="activeItem.params.params"></div></div></div></div></div></div></div></div>'), e.put("widget-shape-display.html", '<div ng-controller="ShapeCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-shape" style="width:100%;height:100%;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div style="width:100%;height:100%" class="element" we7-svger we7-svg="module.params.svgValue"></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-shape-editor.html", '<div ng-controller="ShapeCtrl"><div class="app-shape-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body"><div class="shape-editor"><a href="javascript:;" ng-click="addItem()" ng-if="!activeItem.params.svgValue"><i class="fa fa-plus-circle green"></i> &nbsp;填充形状</a> <a href="javascript:;" ng-click="addItem()" ng-if="activeItem.params.svgValue"><i class="fa fa-plus-circle green"></i> &nbsp;修改形状</a></div><div id="shapeModal" class="modal fade" role="dialog" aria-labelledby="gridSystemModalLabel"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="gridSystemModalLabel">形状库<span class="action">矢量素材，可更换颜色，放大不失真</span></h4></div><div class="dialog-content bg_console sound-flex clearfix"><div class="cate-title"><ul class="nav tabs-left"><li><a href="javascript:;" data-toggle="tab">形状库</a></li></ul></div><div class="cate-list bg-rig"><div id="bg_contain"><div class="tab-pane tab-head"><div class="img_list"><div class="category_list clearfix"><ul class="category_list_container clearfix"><li class="category_item" ng-class="{\'active\' : sysCategory.active}" ng-repeat="sysCategory in sysCategoryList" ng-click="getSysCatAndList(sysCategory)" ng-bind="sysCategory.name"></li></ul></div><div class="cat_two_list"><ul ng-repeat="sysCategory in sysCategoryList" ng-if="sysCategory.active"><li class="cat_two_item" ng-class="{\'active\': sysTag.active}" ng-if="sysCategory.id == sysTag.parentid" ng-repeat="sysTag in sysImageTag" ng-click="getSysImgByTag(sysTag);" ng-bind="sysTag.name"></li></ul></div></div></div><div class="img_list"><div class="img_list_container photo_list"><ul class="img_box" style="height:348px"><li ng-if="img.parentid == activeItem.params.imgListActive" ng-repeat="img in currentImageList" style="width: 100px; height: 100px;cursor:pointer; position: relative; display: inline-block; background:50% 50% / contain no-repeat rgb(230, 235, 237)" ng-style="{backgroundImage: \'url(\' + img.imgurl + \')\'}" data-url="{{img.imgurl}}" ng-click="selectSvg($event,img)"></li></ul></div></div></div></div><div class="modal-footer bg-pagination"><div class="fl mr20" ng-show="page.numPages > 1"><ul class="pagination" style="float: left"><li><a href="" ng-click="selectPage(1)">首页</a></li><li><a href="" ng-click="selectPage(page.currentPage - 1)">‹</a></li><li ng-repeat="p in pages track by $index" ng-class="{active: p.active}"><a href="javascript:;" ng-click="selectPage(p.number)" ng-bind="p.number"></a></li><li><a href="" ng-click="selectPage(page.currentPage + 1)">›</a></li><li><a href="" ng-click="selectPage(page.numPages)">尾页</a></li></ul><div class="current_page"><span class="fl">到</span> <input type="text" ng-model="page.toPage" ng-keyup="$event.keyCode == 13 ? getImgByPage() : null"> <span class="fl">页</span> <a ng-click="getImgByPage()" class="go">确定</a></div></div><a class="modal-cancle" ng-click="cancel()">取消</a> <a class="btn btn-primary" ng-click="confirm();">确定</a></div></div></div></div></div></div></div></div></div></div>'), e.put("widget-textnav-display.html", '<div ng-controller="TextNavCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-textNav" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"><div class="list-group mnav-box"><div class="list-group-item" ng-repeat="item in module.params.items" ng-style="{\'background-color\': module.params.baseStyle.backgroundColor}"><a class="clearfix" href="{{item.url}}"><span class="app-nav-title">{{item.title}}<i class="pull-right fa fa-angle-right"></i></span></a></div></div></div></div><div we7-drag></div></div></div>'), e.put("widget-textnav-editor.html", '<div ng-controller="TextNavCtrl"><div class="app-textNav-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="card add-textNav-con" ng-repeat="item in activeItem.params.items"><div class="btns"><a href="javascript:" ng-click="addItem()"><i class="fa fa-plus"></i></a> <a href="javascript:" ng-click="removeItem(item)"><i class="fa fa-times"></i></a></div><div class="form-group"><label class="control-label col-xs-3"><span class="red">*</span> 导航名称</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-class="{\'red\': item.title == \'\'}" ng-model="item.title" value=""></div></div><div class="form-group"><label class="control-label col-xs-3"><span class="red">*</span> 链接到</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="item.url" we7-my-title="item.title"></div></div></div></div><div class="add-textNav card"><a href="javascript:" ng-click="addItem()"><i class="fa fa-plus-circle green"></i> 添加一个文本导航</a></div></div></div></div></div></div>'), e.put("widget-title-display.html", '<div ng-controller="TitleCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-title" style="{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner" style="height:96px"><div ng-if="module.params.template == 1" class="title-detail tradition" style="text-align: {{module.params.tradition.align}}"><h2 class="title-con">{{ module.params.title || "点击编辑『标题』"}}<span ng-if="module.params.tradition.nav.enable == 1" class="title-link">- <a href="{{module.params.tradition.nav.url}}" ng-bind="module.params.tradition.nav.title">文本导航</a></span></h2><p class="sub-title" ng-bind="module.params.tradition.subtitle">副标题</p></div><div ng-if="module.params.template == 2" class="title-detail text-left wx"><h2 class="title-con">{{ module.params.title || "点击编辑『标题』"}}</h2><p class="sub-title"><span class="date" ng-bind="module.params.news.date">2015-03-12</span>&nbsp;&nbsp;<span class="author" ng-bind="module.params.news.author">zhangsan</span>&nbsp;&nbsp;<span><a href="{{module.params.news.url}}" ng-bind="module.params.news.title">微擎团队</a></span></p></div></div></div><div we7-drag></div></div></div>'), e.put("widget-title-editor.html", '<div ng-controller="TitleCtrl"><div class="app-title-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body form-horizontal"><div class="form-group"><label class="col-xs-3 control-label"><span class="red">*</span> 标题名</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-model="activeItem.params.title" value=""></div></div><div class="form-group"><label class="control-label col-xs-3">标题模板</label><div class="col-xs-9"><input type="radio" name="title-style" ng-model="activeItem.params.template" value="1" class="tradition" id="template-type1"><label class="radio-inline" for="template-type1">传统样式</label><input type="radio" name="title-style" ng-model="activeItem.params.template" value="2" class="wx" id="template-type2"><label class="radio-inline" for="template-type2">模仿微信图文页样式</label></div></div><div class="form-group" ng-if="activeItem.params.template == 1"><label class="col-xs-3 control-label">副标题</label><div class="col-xs-6"><input type="text" class="form-control" ng-model="activeItem.params.tradition.subtitle" value=""></div><div class="col-xs-3 form-control-static"><span class="date"><a href="javascript:;" we7-date-picker we7-date-value="activeItem.params.tradition.subtitle">日期</a></span></div></div><div class="form-group" ng-if="activeItem.params.template == 1"><label class="control-label col-xs-3">显示</label><div class="col-xs-9"><input type="radio" name="tra-style" value="left" ng-model="activeItem.params.tradition.align" id="show-type1"><label class="radio-inline" for="show-type1">居左显示</label><input type="radio" name="tra-style" value="center" ng-model="activeItem.params.tradition.align" id="show-type2"><label class="radio-inline" for="show-type2">居中显示</label><input type="radio" name="tra-style" value="right" ng-model="activeItem.params.tradition.align" id="show-type3"><label class="radio-inline" for="show-type3">居右显示</label></div></div><div class="add-textNav card" ng-if="activeItem.params.template == 1 && activeItem.params.tradition.nav.enable == 0"><a href="javascript:" ng-click="changeNavEnable(1)"><i class="fa fa-plus-circle green"></i> 添加一个文本导航</a></div><div class="card" style="padding:20px" ng-if="activeItem.params.template == 1 && activeItem.params.tradition.nav.enable == 1"><div class="btns"><a href="javascript:" ng-click="changeNavEnable(0)"><i class="fa fa-times"></i></a></div><div class="form-group"><label class="col-xs-3 control-label"><span class="red">*</span> 名称</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-model="activeItem.params.tradition.nav.title" value=""></div></div><div class="form-group"><label class="col-xs-3 control-label"><span class="red">*</span> 链接</label><div class="col-xs-9 form-control-static"><div we7-linker we7-my-url="activeItem.params.tradition.nav.url" we7-my-title="activeItem.params.tradition.nav.title"></div></div></div></div><div class="form-group" ng-if="activeItem.params.template == 2"><label class="col-xs-3 control-label">日期</label><div class="col-xs-9"><input type="text" class="form-control" name="" we7-date-picker we7-date-value="activeItem.params.news.date" value=""></div></div><div class="form-group" ng-if="activeItem.params.template == 2"><label class="col-xs-3 control-label">作者</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-model="activeItem.params.news.author" value=""></div></div><div class="form-group" ng-if="activeItem.params.template == 2"><label class="col-xs-3 control-label">链接标题</label><div class="col-xs-9"><input type="text" class="form-control" name="" ng-model="activeItem.params.news.title" value=""></div></div><div class="form-group" ng-if="activeItem.params.template == 2"><label class="control-label col-xs-3">链接地址</label><div class="col-xs-9"><div we7-linker we7-my-url="activeItem.params.news.url" we7-my-title="activeItem.params.news.title"></div></div></div></div></div></div></div></div>'), e.put("widget-white-display.html", '<div ng-controller="WhiteCtrl" style="{{module.positionStyle}}transform:translate3d(0px, 0px, 0px)" we7-context-menu><div style="{{module.transform}}width:100%;height:100%" ng-class="{\'alock\' : module.params.baseStyle.lock}"><div class="app-white" style="width:100%;height:100%;overflow:hidden;{{module.baseStyle}}{{module.borderStyle}}{{module.shadowStyle}}{{module.animationStyle}}"><div class="inner"></div></div><div we7-drag we7-resize we7-rotate></div></div></div>'), e.put("widget-white-editor.html", '<div ng-controller="WhiteCtrl"><div class="app-white-edit"><div class="arrow-left"></div><div class="inner"><div class="panel panel-default"><div class="panel-body">空白高度（请于左侧拖动缩放调整）</div></div></div></div></div>'), e.put("directive-selectmore-module-item.html", '<ul class="app-list"><li class="select" ng-repeat="module in selectModules"><div class="app-info"><img ng-src="{{module.icon}}"><p>{{module.title}}</p></div><div class="cover-dark"><a href="javascript:;" class="cover-delect" ng-click="delModule(module);"><i class="fa fa-minus-circle"></i>删除</a></div><input type="hidden" name="select_modules[]" value="{{module.module}}"> <input type="hidden" name="select_modules_version[]" value="{{module.version}}"></li><li class="select select-more" ng-click="selectMore()"></li></ul><div class="wxapp-modules"><div id="modules-Modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-dialog-default modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3><ul role="tablist" class="nav nav-pills" style="font-size:14px; margin-top:-20px"><li role="presentation" class="basic"><a data-toggle="tab" data-type="basic" role="tab" aria-controls="baisc" href="#basic">选择需要打包的应用</a></li></ul></h3></div><div class="modal-body modules-content"><div class="tab-content"><div class="info text-center" ng-show="$scope.apps.length == 0"><i class="fa fa-spinner fa-pulse fa-lg"></i> 数据加载中</div><ul class="app-allow-list"><li ng-repeat="module in wxappModuleList"><div class="app-info"><img ng-src="{{module.logo}}"><p>{{module.title}}</p></div><a href="javascript:;" ng-click="selectModule(module)" class="cover-dark"><i class="fa fa-check cover-selected"></i></a></li></ul></div></div><div class="modal-footer"></div></div></div></div></div>'), e.put("directive-multipage-multipage.html", '<div class="page-navigator"><div class="top-title">页面</div><div class="page-list"><ul><li class="page-menu" ng-repeat="page in allPages track by $index" ng-click="navToPage($index)" ng-init="" ng-class="{\'current\' : page.num-1 == $index}"><div class="page-thumb-block" ng-class="{active : page.active}"><div class="page-thumb"><div class="page-thumb-con"></div></div><div class="page-menu-title" ng-bind="{{$index+1}}"></div><div class="icon icon-remove" ng-click="removePage($index);"><span class="fa fa-trash"></span></div><div class="icon icon-copy" ng-click="copyPage($index, $event);" ng-if="isMultiPage"><span class="fa fa-copy"></span></div></div></li></ul></div><div class="add-blank-page" ng-click="insertPage();" ng-if="isMultiPage">+</div><div class="template hidden"><ul class="nav nav-tabs nav-justified"><li class="active"><a href="#">普通版式</a></li><li><a href="#">统计版式</a></li><li><a href="#">特效版式</a></li></ul><div class="template-area"><div class="template-item"><div class="add-icon"><span class="fa fa-plus-circle"></span></div><div class="text">空白页</div></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div><div class="template-item"><img src="" alt=""></div></div></div></div>')
        }
    ]), angular.module("wapeditorApp", ["app"]), angular.module("wapeditorApp").controller("CommonCtrl", ["$scope", "$sanitize",
        function(e, t) {}
    ]), angular.module("wapeditorApp").directive("we7ContextMenu", ["serviceBase", "$timeout",
        function(e, t) {
            return {
                link: function(n, a, i) {
                    function s(e, t) {
                        var n = $(".right-hand-menu"),
                            a = n.parent().position();
                        e -= a.left, t -= a.top, n.css({
                            left: e + "px",
                            top: t + "px"
                        }), n.addClass("show-menu")
                    }
                    $(".right-hand-menu").length || ($("body").append('<menu class="right-hand-menu"> <li class="menu-item menu-item-del"> <button type="button" class="menu-btn"> <i class="fa fa-folder-open"></i> <span class="menu-text">删除</span> </button> </li> <li class="menu-item menu-item-top"> <button type="button" class="menu-btn"> <i class="fa fa-folder-open"></i> <span class="menu-text">置顶</span> </button> </li> <li class="menu-item menu-item-up"> <button type="button" class="menu-btn"> <i class="fa fa-folder-open"></i> <span class="menu-text">上移一层</span> </button> </li> <li class="menu-item menu-item-down"> <button type="button" class="menu-btn"> <i class="fa fa-folder-open"></i> <span class="menu-text">下移一层</span> </button> </li> <li class="menu-item menu-item-bottom"> <button type="button" class="menu-btn"> <i class="fa fa-folder-open"></i> <span class="menu-text">置底</span> </button> </li> </menu>'), $(".modules").on("contextmenu", function(e) {
                        e.preventDefault()
                    }), $(document).on("mouseup", function() {
                        $(".right-hand-menu").removeClass("show-menu")
                    }), $(".right-hand-menu").on("click", ".menu-item-del", function() {
                        var a = $(".right-hand-menu").data("item-index");
                        e.deleteItem(a), t(function() {
                            n.$apply()
                        }, 100)
                    }).on("click", ".menu-item-top", function() {
                        n.savePagePosition();
                        var a, i = $(".right-hand-menu").data("item-index"),
                            s = [];
                        for (var o in n.activeModules) n.activeModules[o].index == i ? a = angular.copy(n.activeModules[o]) : s.push(n.activeModules[o]);
                        s.push(a), e.setBaseData("activeModules", s), t(function() {
                            n.$apply()
                        }, 100)
                    }).on("click", ".menu-item-up", function() {
                        n.savePagePosition();
                        var a, i, s = $(".right-hand-menu").data("item-index"),
                            o = n.activeModules.length;
                        for (var r in n.activeModules)
                            if (n.activeModules[r].index == s) {
                                if (parseInt(r) + 1 == o) break;
                                a = angular.copy(n.activeModules[r]), i = angular.copy(n.activeModules[parseInt(r) + 1]), n.activeModules[r] = i, n.activeModules[parseInt(r) + 1] = a, e.setBaseData("activeModules", n.activeModules);
                                break
                            }
                        t(function() {
                            n.$apply()
                        }, 100)
                    }).on("click", ".menu-item-down", function() {
                        n.savePagePosition();
                        var a, i, s = $(".right-hand-menu").data("item-index");
                        for (var o in n.activeModules)
                            if (n.activeModules[o].index == s) {
                                if (o <= 1) break;
                                a = angular.copy(n.activeModules[o]), i = angular.copy(n.activeModules[o - 1]), n.activeModules[o] = i, n.activeModules[parseInt(o) - 1] = a, e.setBaseData("activeModules", n.activeModules);
                                break
                            }
                        t(function() {
                            n.$apply()
                        }, 100)
                    }).on("click", ".menu-item-bottom", function() {
                        n.savePagePosition();
                        var a, i = $(".right-hand-menu").data("item-index"),
                            s = [];
                        for (var o in n.activeModules) 0 != o && (n.activeModules[o].index == i ? a = angular.copy(n.activeModules[o]) : s.push(n.activeModules[o]));
                        s.unshift(a), s.unshift(n.activeModules[0]), e.setBaseData("activeModules", s), t(function() {
                            n.$apply()
                        }, 100)
                    })), a.on("contextmenu", function(e) {
                        s(e.pageX, e.pageY);
                        var t = a.parents("div[id^='module-']").attr("index");
                        $(".right-hand-menu").data("item-index", t)
                    })
                }
            }
        }
    ]), angular.module("wapeditorApp").directive("we7Nobar", function() {
        return {
            link: function(e, t, n) {
                t.on("mousedown", function(e) {
                    $(".bar").hide()
                })
            }
        }
    }).directive("we7Drag", ["serviceBase", "$timeout",
        function(e, t) {
            return {
                compile: function(t, n) {
                    var a = $('<div class="bar bar-n ui-resizable-handle ui-resizable-n we7-hide"></div>'),
                        i = $('<div class="bar bar-s ui-resizable-handle ui-resizable-s we7-hide"></div>'),
                        s = $('<div class="bar bar-e ui-resizable-handle ui-resizable-e we7-hide"></div>'),
                        o = $('<div class="bar bar-w ui-resizable-handle ui-resizable-w we7-hide"></div>');
                    return t.append(a).append(i).append(s).append(o),
                        function(t, n, a) {
                            var i = n.parents("div[ng-controller$='Ctrl']").eq(0);
                            i.on("mousedown", function(e) {
                                $(".bar").hide(), $(this).find(".bar").show(), $(this).find(".bar-radius").show(), $(this).draggable({
                                    containment: ""
                                })
                            }), i.mousedown();
                            var s = e.getBaseData("activeItem");
                            if (s.id) {
                                var o = s.id.replace(/[a-z]/, function(e) {
                                    return e.toLocaleUpperCase()
                                }).replace(/^[a-z]/, function(e) {
                                    return e.toLocaleUpperCase()
                                }) + "Ctrl";
                                if ("HeaderCtrl" != o) {
                                    var r = $("#module-" + s.index).find("div[ng-controller='" + o + "']");
                                    r.on("mousedown", function(e) {
                                        $(".bar").hide(), $(this).find(".bar").show(), $(this).find(".bar-radius").show(), $(this).draggable({
                                            containment: ""
                                        })
                                    }), r.mousedown()
                                } else $(".bar").hide()
                            }
                        }
                }
            }
        }
    ]).directive("we7Resize", function() {
        return {
            compile: function(e, t) {
                var n = $('<div class="bar-radius radius-s we7-hide"></div>'),
                    a = $('<div class="bar bar-nw bar-radius radius-s ui-resizable-handle ui-resizable-nw we7-hide"></div>'),
                    i = $('<div class="bar bar-se bar-radius radius-s ui-resizable-handle ui-resizable-se we7-hide"></div>'),
                    s = $('<div class="bar bar-sw bar-radius radius-s ui-resizable-handle ui-resizable-sw we7-hide"></div>'),
                    o = $('<div class="bar bar-ne bar-radius radius-s ui-resizable-handle ui-resizable-ne we7-hide"></div>');
                return e.find(".bar-n,.bar-s,.bar-e,.bar-w").append(n), e.append(i).append(s).append(o).append(a),
                    function(e, t, n) {
                        t.parents("div[ng-controller$='Ctrl']").eq(0).on("mousedown", function(e) {
                            var t = {
                                n: $(this).find(".bar-n"),
                                s: $(this).find(".bar-s"),
                                e: $(this).find(".bar-e"),
                                w: $(this).find(".bar-w"),
                                nw: $(this).find(".bar-nw"),
                                se: $(this).find(".bar-se"),
                                sw: $(this).find(".bar-sw"),
                                ne: $(this).find(".bar-ne")
                            };
                            $(this).resizable({
                                handles: t,
                                aspectRatio: !0,
                                onlyCorner: !0
                            })
                        })
                    }
            }
        }
    }).directive("we7Rotate", function() {
        return {
            link: function(e, t, n) {
                t.prepend('<div class="bar bar-rotate bar-radius radius-s ui-resizable-handle we7-hide"></div> <div class="bar bar-line ui-resizable-handle we7-hide"></div>');
                var a = t.parents("div[ng-controller$='Ctrl']").eq(0);
                a.on("mousedown", function(t) {
                    var n, i = a.find(".bar-rotate").get(0),
                        s = a.children(),
                        o = new Hammer(i),
                        r = {};
                    o.get("pan").set({
                        threhold: 0
                    }), o.on("panstart", function(e) {
                        $("body").css({
                            "user-select": "none",
                            cursor: 'url("./resource/images/mouserotate.ico"), default'
                        }), r = {
                            x: s.offset().left + s.width() / 2,
                            y: s.offset().top + s.height() / 2
                        }
                    }), o.on("panmove", function(t) {
                        var a = t.center,
                            i = a.x - r.x,
                            o = a.y - r.y + $(window).scrollTop(),
                            l = Math.abs(i / o);
                        n = Math.atan(l) / (2 * Math.PI) * 360, i > 0 && 0 > o ? n = 360 + n : i > 0 && o > 0 ? n = 180 - n : 0 > i && o > 0 ? n = 180 + n : 0 > i && 0 > o && (n = 360 - n), n > 360 && (n -= 360), n = parseInt(n), s.css({
                            transform: "rotateZ(" + n + "deg)"
                        }), e.activeItem.params.borderStyle.transform = n, e.$apply()
                    }), o.on("panend", function() {
                        $("body").css({
                            "user-select": "initial",
                            cursor: "default"
                        })
                    })
                })
            }
        }
    }), angular.module("wapeditorApp").directive("we7EditKeyMap", ["serviceBase", "$timeout",
        function(e, t) {
            return {
                restrict: "A",
                link: function(n, a, i) {
                    $(document).unbind("keydown").keydown(function(a) {
                        var i = e.getBaseData("activeModules"),
                            s = e.getBaseData("activeItem"),
                            o = _.findIndex(i, s);
                        if (46 == a.keyCode && o > 0 && (a.preventDefault(), confirm("删除后需要重新提交才会生效，确认吗？") && (i.splice(o, 1), e.setBaseData({
                            activeModules: i,
                            activeItem: i[0]
                        }))), 37 == a.keyCode || 38 == a.keyCode || 39 == a.keyCode || 40 == a.keyCode) {
                            _.isEmpty(s) || a.preventDefault();
                            37 == a.keyCode && (s.params.positionStyle.left -= 1), 38 == a.keyCode && (s.params.positionStyle.top -= 1), 39 == a.keyCode && (s.params.positionStyle.left += 1), 40 == a.keyCode && (s.params.positionStyle.top += 1)
                        }
                        t(function() {
                            n.$apply()
                        })
                    }).unbind("keyup").keyup(function() {
                        n.$apply()
                    })
                }
            }
        }
    ]), angular.module("wapeditorApp").directive("we7Pagelength", function() {
        return {
            replace: !0,
            templateUrl: "directive-pagelength-pagelength.html",
            link: function(e, t, n) {}
        }
    }), angular.module("wapeditorApp").directive("we7Style", ["serviceSetStyle",
        function(e) {
            return {
                templateUrl: "directive-style-style.html"
            }
        }
    ]), angular.module("wapeditorApp").directive("we7Svger", function() {
        return {
            scope: {
                we7svg: "=we7Svg"
            },
            link: function(e, t, n) {
                e.$watch("we7svg", function() {
                    for (var n = $(e.we7svg), a = 0; n.length > a; a++)
                        if ("svg" == n[a].tagName) {
                            var i = n[a];
                            $(i).attr({
                                width: "100%",
                                height: "100%"
                            }), $(i)[0].setAttribute("preserveAspectRatio", "none"), t.html(i);
                            break
                        }
                })
            }
        }
    }), angular.module("wapeditorApp").factory("serviceBase", ["$rootScope", "widget", "config", "serviceCommon", "serviceSetStyle", "$timeout",
        function(e, t, n, a, s, o) {
            var r = {},
                l = {
                    modules: [],
                    editors: [],
                    activeModules: [],
                    index: 0,
                    activeItem: {},
                    activeIndex: 0,
                    pageLength: 1,
                    isNew: !0
                };
            return r.setModules = function(e, n) {
                if (_.isNull(e) && (l.modules = t), _.isArray(e))
                    for (i in e) {
                        var a;
                        (s = _.findIndex(t, {
                            id: e[i]
                        })) > -1 && (a = angular.copy(t[s]), l.modules.push(a))
                    }
                if (_.isArray(n))
                    for (i in n) {
                        var s = _.findIndex(l.modules, {
                            id: n[i]
                        });
                        s > -1 && (l.modules[s].defaultshow = !0)
                    }
                return l.modules
            }, r.setEditors = function(e) {
                l.editors.push(e)
            }, r.updateActiveModules = function(e, t) {
                t && l.activeModules.push({
                    id: e.id,
                    name: e.name,
                    params: angular.copy(e.params),
                    originParams: angular.copy(e.params),
                    issystem: e.issystem ? 1 : 0,
                    index: l.index,
                    displayorder: e.displayorder ? e.displayorder : l.activeModules.length
                })
            }, r.initActiveModules = function(e) {
                return l.activeModules = e ? angular.copy(e) : [], l.activeModules
            }, r.addItem = function(e, t) {
                angular.forEach(l.modules, function(n, a) {
                    if (n.id == e) {
                        var i = {};
                        return i = angular.copy(n), -1 == $.inArray(e, l.editors) && (r.setEditors(n.id), r.broadcast("editors")), "header" != e && "UCheader" != e && (i.params = "uc" === t ? s.UcInitStyleParams(n.params) : s.initStyleParams(n.params)), r.updateActiveModules(i, !0), l.activeIndex = _.findIndex(l.activeModules, {
                            index: parseInt(l.index)
                        }), l.activeItem = "uc" === t ? l.activeModules[l.index] : l.activeModules[l.activeIndex], l.index++, r.triggerActiveItem(l.activeIndex), $(".app-text-edit").find(".nav-tabs").find("a[href='#attribute']").click(), r.broadcast("activeItem"), r.broadcast("activeModules"), void("header" != e && "UCheader" != e && s.initSetStyle(i.params))
                    }
                })
            }, r.editItem = function(e) {
                (e = _.findIndex(l.activeModules, {
                    index: parseInt(e)
                })) > -1 && (l.activeIndex = e, l.activeItem = l.activeModules[e]), -1 == $.inArray(l.activeItem.id, l.editors) && (r.setEditors(l.activeItem.id), r.broadcast("editors")), r.triggerActiveItem(e), $(".app-text-edit").find(".nav-tabs").find("a[href='#attribute']").click(), r.broadcast("activeItem")
            }, r.deleteItem = function(e) {
                if (confirm("删除后需要重新提交才会生效，确认吗？")) {
                    var t = $("#module-" + e).prev().attr("index"),
                        e = _.findIndex(l.activeModules, {
                            index: parseInt(e)
                        });
                    l.activeModules = _.without(l.activeModules, l.activeModules[e]), l.activeIndex = _.findIndex(l.activeModules, {
                        index: parseInt(t)
                    }), l.activeItem = l.activeModules[l.activeIndex], r.broadcast("activeItem"), r.broadcast("activeModules")
                }
            }, r.triggerActiveItem = function(e) {
                $("#module-" + l.activeModules[e].index).size() && $("#editor" + l.activeModules[e].id).size() ? clearTimeout(timer) : timer = o(function() {
                    r.triggerActiveItem(e)
                }, 50)
            }, r.getBaseData = function(e) {
                return l[e]
            }, r.setBaseData = function(e, t) {
                angular.isObject(e) ? angular.forEach(e, function(e, t) {
                    l[t] = e
                }) : l[e] = t, r.broadcast(e)
            }, r.broadcast = function(t) {
                switch (t) {
                    case "activeItem":
                        e.$broadcast("serviceBase.activeItem.update", l.activeItem);
                        break;
                    case "activeModules":
                        e.$broadcast("serviceBase.activeModules.update", l.activeModules);
                        break;
                    case "editors":
                        e.$broadcast("serviceBase.editors.update", l.editors);
                        break;
                    case "modules":
                    case "index":
                    case "activeIndex":
                    case "pageLength":
                    case "isNew":
                        break;
                    default:
                        angular.isObject(t) && angular.forEach(t, function(t, n) {
                            switch (n) {
                                case "activeItem":
                                    e.$broadcast("serviceBase.activeItem.update", l.activeItem);
                                    break;
                                case "activeModules":
                                    e.$broadcast("serviceBase.activeModules.update", l.activeModules);
                                    break;
                                case "editors":
                                    e.$broadcast("serviceBase.editors.update", l.editors)
                            }
                        })
                }
            }, r
        }
    ]), angular.module("wapeditorApp").service("serviceCommon", ["$window",
        function(e) {
            var t = {};
            return t.getCssname = function(e) {
                for (var t = "", n = 0, a = parseInt(e.length); n < a; n++) - 1 != e[n].search(/[A-Z]/) ? t += "-" + e[n].toLowerCase() : t += e[n];
                return t
            }, t.getMaxScopeIndex = function(e) {
                var t = e[e.length - 1].property,
                    n = 0;
                for (var a in t) n = n < t[a].index ? parseInt(t[a].index) : n;
                return n
            }, t.getHeaderIndex = function(e) {
                var t = 0;
                return angular.forEach(e, function(e, n) {
                    "header" == e.id && (t = n)
                }), t
            }, t.url = function(t) {
                t = t.split("/");
                var n = "./index.php?i=" + e.sysinfo.uniacid + "&j=" + e.sysinfo.acid + "&c=" + t[0];
                return t[1] && (n += "&a=" + t[1]), t[2] && (n += "&do=" + t[2]), n
            }, t.tomedia = function(t) {
                return e.sysinfo.attachurl + t
            }, t.buildDataTagBegin = function(t, n) {
                var a = {
                    params: n,
                    uniacid: e.sysinfo.uniacid,
                    acid: e.sysinfo.acid
                };
                return "{data  func='site_widget_" + t + "' module='widget' widgetdata=" + encodeURIComponent(JSON.stringify(a)) + " }"
            }, t.buildDataTagEnd = function() {
                return "{/data}"
            }, t.stripHaskey = function(e) {
                for (var n in e) "$$hashKey" == n ? delete e[n] : "object" == typeof e[n] && t.stripHaskey(e[n]);
                return e
            }, t.copySuccess = function(e, t) {
                var e = parseInt(e),
                    t = t,
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10;width:90px;height:34px;line-height:28px;"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }, t
        }
    ]), angular.module("wapeditorApp").value("widget", [{
        id: "header",
        name: "微页面标题",
        issystem: !0,
        params: {
            title: "微页面标题",
            description: "",
            pageHeight: 568,
            thumb: "",
            bgColor: "",
            bottom_menu: !1,
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            positionStyle: {},
            animationStyle: {}
        }
    }, {
        id: "UCheader",
        name: "会员主页",
        issystem: !0,
        params: {
            title: "会员主页",
            cover: "",
            bgImage: ""
        }
    }, {
        id: "cardBasic",
        name: "会员卡基本设置",
        issystem: !0,
        params: {
            title: "会员卡",
            color: {
                title: "#333",
                rank: "#333",
                name: "#333",
                number: "#333"
            },
            card_level: {
                type: 1
            },
            card_label: {
                type: 1,
                title: "会员卡标题"
            },
            description: "1、本卡采取记名消费方式\n2、持卡人可享受会员专属优惠\n3、本卡不能与其他优惠活动同时使用\n4、持卡人可用卡内余额进行消费",
            background: {
                type: "system",
                image: util.tomedia("images/global/card/6.png")
            },
            logo: util.tomedia("http://www.baidu.com/img/bdlogo.gif"),
            format_type: 1,
            format: "WQ2015*****#####***",
            fields: [{
                title: "姓名",
                require: 1,
                bind: "realname"
            }, {
                title: "手机",
                require: 1,
                bind: "mobile"
            }],
            grant: {
                credit1: 0,
                credit2: 0,
                coupon: []
            },
            grant_rate: 0,
            offset_rate: 0,
            offset_max: 0
        }
    }, {
        id: "cardActivity",
        name: "消费优惠设置",
        issystem: !0,
        params: {
            discount_type: 0,
            discount_style: 1,
            discounts: [],
            content: "",
            bgColor: ""
        }
    }, {
        id: "cardNums",
        name: "会员卡次数设置",
        issystem: !0,
        params: {
            nums_status: 0,
            nums_style: 1,
            nums_text: "可用次数",
            nums: [{
                recharge: 100,
                num: 5
            }, {
                recharge: 200,
                num: 10
            }]
        }
    }, {
        id: "cardTimes",
        name: "会员卡计时设置",
        issystem: !0,
        params: {
            times_status: 0,
            times_style: 1,
            times_text: "截至日期",
            times: [{
                recharge: 100,
                time: 5
            }, {
                recharge: 200,
                time: 10
            }]
        }
    }, {
        id: "cardRecharge",
        name: "充值优惠设置",
        issystem: !0,
        params: {
            recharge_type: 0,
            recharge_style: 1,
            grant_rate_switch: 1,
            recharges: [{
                condition: "",
                back: "",
                backtype: "0",
                backunit: "元"
            }, {
                condition: "",
                back: "",
                backtype: "0",
                backunit: "元"
            }, {
                condition: "",
                back: "",
                backtype: "0",
                backunit: "元"
            }, {
                condition: "",
                back: "",
                backtype: "0",
                backunit: "元"
            }],
            content: "",
            bgColor: ""
        }
    }, {
        id: "onlyText",
        name: "文字",
        isbase: !0,
        params: {
            title: "请输入文字",
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 100,
                left: 60,
                width: 200,
                height: 30
            }
        }
    }, {
        id: "image",
        name: "图片",
        isbase: !0,
        params: {
            items: {
                id: "",
                imgurl: ""
            },
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 169,
                left: 0,
                width: 100,
                height: 100
            }
        }
    }, {
        id: "shape",
        name: "形状",
        isbase: !0,
        params: {
            svgValue: "",
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 64,
                left: 0,
                width: 100,
                height: 100
            }
        }
    }, {
        id: "pureLink",
        name: "链接",
        isbase: !0,
        params: {
            items: [{
                id: "1",
                type: "text",
                title: "点我购买",
                url: "",
                color: "#fff",
                editcolor: "danger",
                discolor: "#d9534f",
                active: 1
            }, {
                id: "2",
                type: "text",
                title: "点开链接",
                url: "",
                color: "#fff",
                editcolor: "warning",
                discolor: "#ec971f",
                active: 0
            }, {
                id: "3",
                type: "text",
                title: "马上购买",
                url: "",
                color: "#fff",
                editcolor: "success",
                discolor: "#449d44",
                active: 0
            }, {
                id: "4",
                type: "text",
                title: "关注我们",
                url: "",
                color: "#000",
                editcolor: "default",
                discolor: "#fff",
                active: 0
            }, {
                id: "5",
                type: "img",
                title: "自定义",
                url: "",
                imgurl: "",
                editcolor: "primary",
                discolor: "",
                active: 0
            }],
            baseStyle: {
                backgroundColor: "#d9534f",
                color: "#fff",
                textAlign: "center",
                fontSize: "14",
                lineHeight: "33px"
            },
            borderStyle: {
                borderWidth: 1,
                borderRadius: 4,
                borderStyle: "solid",
                borderColor: "#ADADAD"
            },
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 244,
                left: 0,
                width: 85,
                height: 35
            }
        }
    }, {
        id: "dial",
        name: "拨号",
        isbase: !0,
        params: {
            items: [{
                id: "1",
                type: "text",
                title: "一键拨号",
                tel: "",
                color: "#fff",
                editcolor: "danger",
                discolor: "#d9534f",
                active: 1
            }, {
                id: "2",
                type: "text",
                title: "热线电话",
                tel: "",
                color: "#fff",
                editcolor: "warning",
                discolor: "#ec971f",
                active: 0
            }, {
                id: "3",
                type: "text",
                title: "拨打电话",
                tel: "",
                color: "#fff",
                editcolor: "success",
                discolor: "#449d44",
                active: 0
            }, {
                id: "4",
                type: "text",
                title: "销售专线",
                tel: "",
                color: "#000",
                editcolor: "default",
                discolor: "#fff",
                active: 0
            }, {
                id: "5",
                type: "img",
                title: "自定义",
                tel: "",
                imgurl: "",
                editcolor: "primary",
                discolor: "",
                active: 0
            }],
            baseStyle: {
                backgroundColor: "#d9534f",
                color: "#fff",
                textAlign: "center",
                fontSize: "14",
                lineHeight: "33px"
            },
            borderStyle: {
                borderWidth: 1,
                borderRadius: 4,
                borderStyle: "solid",
                borderColor: "#ADADAD"
            },
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 274,
                left: 100,
                width: 85,
                height: 35
            }
        }
    }, {
        id: "good",
        name: "点赞",
        isbase: !0,
        params: {
            bgcolor: "#d15d82",
            color: "#fff",
            layoutstyle: 1,
            layoutactive: "lr",
            baseStyle: {
                color: "#fff",
                backgroundColor: "#d15d82",
                fontSize: "14px",
                textAlign: "center",
                lineHeight: "48px"
            },
            borderStyle: {
                borderWidth: 1,
                borderRadius: 4,
                borderStyle: "solid",
                borderColor: "#ADADAD"
            },
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                width: 150,
                height: 50,
                top: 174,
                left: 70
            }
        }
    }, {
        id: "countDown",
        name: "倒计时",
        isbase: !0,
        params: {
            leftTimeText: {
                day: 0,
                hour: 0,
                min: 0,
                sec: 0
            },
            deadtime: "",
            textalign: "center",
            baseStyle: {
                fontSize: "13px",
                textAlign: "center",
                lineHeight: "48px"
            },
            borderStyle: {
                borderWidth: 1,
                borderRadius: 4,
                borderStyle: "solid",
                borderColor: "#ccc"
            },
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                top: 315,
                left: 50
            }
        }
    }, {
        id: "richText",
        name: "富文本",
        params: {
            bgColor: "",
            content: "",
            isfull: !1,
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                top: 10,
                width: 320,
                height: 410
            }
        }
    }, {
        id: "adImg",
        name: "幻灯片",
        params: {
            listStyle: 1,
            sizeType: 1,
            items: [],
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 80
            }
        }
    }, {
        id: "cube",
        name: "图片魔方",
        params: {
            layout: {},
            showIndex: 0,
            selection: {},
            currentPos: {},
            currentLayout: {
                isempty: !0
            },
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 30
            }
        }
    }, {
        id: "title",
        name: "标题",
        params: {
            title: "",
            template: 1,
            tradition: {
                subtitle: "",
                align: "left",
                nav: {
                    title: "",
                    url: "",
                    enable: 0
                }
            },
            news: {
                date: "",
                author: "",
                title: "",
                urlType: 1,
                url: ""
            },
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 96
            }
        }
    }, {
        id: "textNav",
        name: "文本导航",
        params: {
            items: [],
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 30
            }
        }
    }, {
        id: "navImg",
        name: "图片导航",
        params: {
            items: [{
                imgurl: "",
                title: "",
                url: ""
            }, {
                imgurl: "",
                title: "",
                url: ""
            }, {
                imgurl: "",
                title: "",
                url: ""
            }, {
                imgurl: "",
                title: "",
                url: ""
            }],
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 100
            }
        }
    }, {
        id: "link",
        name: "关联链接",
        params: {
            items: [],
            baseStyle: {
                lineHeight: "inherit"
            },
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 100
            }
        }
    }, {
        id: "line",
        name: "辅助线",
        params: {
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                height: 30
            }
        }
    }, {
        id: "white",
        name: "辅助空白",
        params: {
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 20
            }
        }
    }, {
        id: "audio",
        name: "语音",
        params: {
            style: "1",
            headimg: "",
            align: "left",
            title: "",
            isloop: !1,
            reload: "false",
            audio: {
                id: "",
                url: ""
            },
            baseStyle: {},
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 60
            }
        }
    }, {
        id: "notice",
        name: "公告",
        params: {
            notice: "",
            baseStyle: {
                backgroundColor: "#ffc"
            },
            borderStyle: {},
            shadowStyle: {},
            animationStyle: {},
            positionStyle: {
                left: 0,
                width: 320,
                height: 40
            }
        }
    }]), angular.module("wapeditorApp").service("serviceDrag", function() {
        console.log("serviceDrag")
    }), angular.module("wapeditorApp").service("serviceSetStyle", ["$rootScope", "$timeout", "serviceCommon", "config",
        function(e, t, n, a) {
            var i = {},
                s = 1;
            return i.defBaseStyle = {
                backgroundColor: "rgba(0,0,0,0)",
                color: "#000",
                opacity: 0,
                paddingTop: 0,
                lineHeight: 2,
                fontSize: 14,
                textAlign: "left",
                lock: !1
            }, i.defBorderStyle = {
                borderWidth: 0,
                borderRadius: 2,
                borderStyle: "solid",
                borderColor: "rgba(0,0,0,1)",
                transform: 0
            }, i.defShadowStyle = {
                shadowSize: 0,
                shadowBlur: 0,
                shadowColor: "rgba(0,0,0,0.5)",
                shadowDirection: 1
            }, i.defAnimationStyle = {
                animationName: "noEffect",
                animationDuration: 1,
                animationTimingFunction: "ease",
                animationDelay: .6,
                animationFillMode: "both"
            }, i.defPositionStyle = {
                top: 259,
                left: 40,
                width: 240,
                height: 50
            }, i.initStyleParams = function(e) {
                var t = {};
                return (t = angular.copy(e)).baseStyle = $.extend(!1, i.defBaseStyle, e.baseStyle), t.borderStyle = $.extend(!1, i.defBorderStyle, e.borderStyle), t.shadowStyle = $.extend(!1, i.defShadowStyle, e.shadowStyle), t.animationStyle = $.extend(!1, i.defAnimationStyle, e.animationStyle), t.positionStyle = $.extend(!1, i.defPositionStyle, e.positionStyle), $(".app-preview").scrollTop() > 0 && (t.positionStyle.top += parseInt($(".app-preview").scrollTop())), t.positionStyle.left > 200 ? t.positionStyle.left = 10 : t.positionStyle.left += 5 * s, t.positionStyle.top += 5 * s, s > 20 ? s = 1 : s++, t
            }, i.UcInitStyleParams = function(e) {
                var t = {};
                return (t = angular.copy(e)).baseStyle = $.extend(!1, i.defBaseStyle, e.baseStyle), t.borderStyle = $.extend(!1, i.defBorderStyle, e.borderStyle), t.shadowStyle = $.extend(!1, i.defShadowStyle, e.shadowStyle), t.animationStyle = $.extend(!1, i.defAnimationStyle, e.animationStyle), t.positionStyle = $.extend(!1, i.defPositionStyle, e.positionStyle), $(".app-preview").scrollTop() > 0 && (t.positionStyle.top += parseInt($(".app-preview").scrollTop())), t.positionStyle.left > 200 ? t.positionStyle.left = 10 : t.positionStyle.left += 5 * s, t.positionStyle.top += 5 * s - $(".app-usercenter").height(), s > 10 ? s = 1 : s++, t
            }, i.initSetStyle = function(e) {
                i.setModuleBaseStyle(e.baseStyle), i.setModuleBorderStyle(e.borderStyle), i.setModuleShadowStyle(e.shadowStyle), i.setModulePositionStyle(e.positionStyle), i.setModuleAnimationStyle(e.animationStyle)
            }, i.setModuleBaseStyle = function(t) {
                t = $.extend(!1, i.defBaseStyle, t);
                var a = "";
                for (var s in t) switch (s) {
                    case "fontSize":
                        "number" == typeof t[s] ? a += n.getCssname(s) + ":" + parseInt(t[s]) + "px;" : t[s].search(/rem/) ? a += n.getCssname(s) + ":14px;" : a += n.getCssname(s) + ":" + parseInt(t[s]) + "px;";
                    case "paddingTop":
                    case "paddingBottom":
                        a += n.getCssname(s) + ":" + parseInt(t[s]) + "px;";
                        break;
                    case "backgroundColor":
                    case "color":
                    case "textAlign":
                    case "lineHeight":
                        a += n.getCssname(s) + ":" + t[s] + ";";
                        break;
                    case "opacity":
                        a += n.getCssname(s) + ":" + (100 - parseInt(t[s])) / 100 + ";"
                }
                e.$broadcast("serviceBase.activeItem.style.update", "baseStyle", t, a)
            }, i.setModuleBorderStyle = function(t) {
                t = $.extend(!1, i.defBorderStyle, t);
                var a = newTransformStyle = "";
                for (var s in t) switch (s) {
                    case "borderWidth":
                    case "borderRadius":
                        a += n.getCssname(s) + ":" + parseInt(t[s]) + "px;";
                        break;
                    case "borderStyle":
                    case "borderColor":
                        a += n.getCssname(s) + ":" + t[s] + ";";
                        break;
                    case "transform":
                        newTransformStyle += "transform: rotateZ(" + parseInt(t[s]) + "deg);"
                }
                e.$broadcast("serviceBase.activeItem.style.update", "borderStyle", t, a, newTransformStyle)
            }, i.setModuleShadowStyle = function(t) {
                t = $.extend(!1, i.defShadowStyle, t);
                var n = "",
                    a = shadowY = 0;
                a = -Math.sin(t.shadowDirection * Math.PI / 180) * t.shadowSize, shadowY = Math.cos(t.shadowDirection * Math.PI / 180) * t.shadowSize, n = "box-shadow: " + a + "px " + shadowY + "px " + t.shadowBlur + "px " + t.shadowColor + ";", e.$broadcast("serviceBase.activeItem.style.update", "shadowStyle", t, n)
            }, i.setModuleAnimationStyle = function(t) {
                var n = "",
                    a = (t = $.extend(!1, i.defAnimationStyle, t)).animationName + " " + t.animationDuration + "s " + t.animationTimingFunction + " " + t.animationDelay + "s " + t.animationFillMode;
                n = i.cssCompatible("animation", a), e.$broadcast("serviceBase.activeItem.style.update", "animationStyle", t, n)
            }, i.setModulePositionStyle = function(t) {
                t = $.extend(!1, i.defPositionStyle, t);
                var n = "position:absolute;";
                for (var a in t) switch (a) {
                    case "top":
                    case "left":
                    case "width":
                    case "height":
                        n += " " + a + ": " + t[a] + "px;"
                }
                e.$broadcast("serviceBase.activeItem.style.update", "positionStyle", t, n)
            }, i.clearModuleStyle = function(t) {
                t.params.baseStyle = t.originParams.baseStyle, t.params.borderStyle = t.originParams.borderStyle, t.params.shadowStyle = t.originParams.shadowStyle, t.params.animationStyle = t.originParams.animationStyle, e.$broadcast("serviceBase.activeItem.update", t)
            }, i.eleAnimationIns = function(a) {
                var i = n.getCssname(a);
                t(function() {
                    $("." + i).parent().addClass("select").siblings(".select").removeClass("select")
                }, 100), e.$broadcast("serviceBase.activeItem.animationName.update", a)
            }, i.savePagePosition = function(t) {
                $(".modules").find("div.ng-scope[ng-controller$='Ctrl']").each(function() {
                    var e = $(this).parent().parent(),
                        n = _.findIndex(t, {
                            index: parseInt(e.attr("index"))
                        }),
                        a = $(this).css("top"),
                        i = $(this).css("left"),
                        s = $(this).css("width"),
                        o = $(this).css("height"),
                        r = "position:absolute;top:" + a + ";left:" + i + ";width:" + s + ";height:" + o + ";";
                    t[n].params.positionStyle.top = parseInt(a), t[n].params.positionStyle.left = parseInt(i), t[n].params.positionStyle.width = parseInt(s), t[n].params.positionStyle.height = parseInt(o), t[n].positionStyle = r
                }), e.$broadcast("serviceBase.activeModules.update", t)
            }, i.saveModulePosition = function(t) {
                var n = "#module-" + t.index,
                    a = $(n).find("div.ng-scope[ng-controller$='Ctrl']"),
                    i = a.css("top"),
                    s = a.css("left"),
                    o = a.css("width"),
                    r = a.css("height"),
                    l = "position:absolute;top:" + i + ";left:" + s + ";width:" + o + ";height:" + r + ";";
                return t.params.positionStyle.top = parseInt(i), t.params.positionStyle.left = parseInt(s), t.params.positionStyle.width = parseInt(o), t.params.positionStyle.height = parseInt(r), t.positionStyle = l, e.$broadcast("serviceBase.activeItem.update", t), t
            }, i.changeTextAlign = function(t, n) {
                t.params.baseStyle.textAlign = n, e.$broadcast("serviceBase.activeItem.update", t)
            }, i.changeBorderWidth = function(e) {
                "adImg" != e.id && "cube" != e.id && "title" != e.id && "textNav" != e.id && "link" != e.id && "audio" != e.id || t(function() {
                    var t = i.saveModulePosition(e);
                    t.positionStyle.height += 2 * t.borderStyle.borderWidth, "audio" == e.id && (t.positionStyle.height += 20), i.setModulePositionStyle(t.params.positionStyle)
                }, 100)
            }, i.changeInnerHeight = function(e) {
                t(function() {
                    var t = i.saveModulePosition(e),
                        n = t.index,
                        a = $("#module-" + n).find(".inner"),
                        s = parseInt(a.css("height"));
                    s += 2 * t.params.borderStyle.borderWidth, t.params.positionStyle.height = s, i.setModulePositionStyle(t.params.positionStyle)
                }, 100)
            }, i.changePageLength = function(a, i) {
                var s = !((a = parseInt(a)) > 1),
                    o = a;
                return t(function() {
                    $(".app-content").css("height", 568 * a + "px")
                }, 100), i[n.getHeaderIndex(i)].params.pageLength = a, e.$broadcast("updateScope", {
                    isMultiPage: s,
                    pageLength: o,
                    activeModules: i
                }), i
            }, i.cssCompatible = function(e, t) {
                if (angular.isString(e) && angular.isString(t)) return e + ": " + t + ";-webkit-" + e + ": " + t + ";-moz-" + e + ": " + t + ";-o-" + e + ": " + t + ";-ms-" + e + ": " + t + ";"
            }, i
        }
    ]), angular.module("wapeditorApp").service("serviceSubmit", ["serviceBase", "serviceCommon",
        function(e, t) {
            var n = {};
            return n.submit = function() {
                var n = "",
                    a = {
                        params: {},
                        html: ""
                    },
                    i = $($(".modules").html()),
                    s = e.getBaseData("activeModules");
                i.find("div.ng-scope[ng-controller$='Ctrl']").each(function() {
                    var e = _.findIndex(s, {
                            index: parseInt($(this).parent().parent().attr("index"))
                        }),
                        a = $(this).find("div[class^='app-']").get(0),
                        i = $(a).attr("style");
                    s[e].params.animate = s[e].params.animateTemp, i += "animation:" + s[e].params.animate + ";", $(a).attr("style", i);
                    var o = "",
                        r = angular.copy(s[e].params);
                    $(this).find(".js-default-content").remove();
                    var l = $(this).parent().parent().attr("name").toLowerCase();
                    if ("UCheader" != l && "cardBasic" != l && "cardActivity" != l && "cardNums" != l && "cardTimes" != l && "cardRecharge" != l) {
                        var c = $(this).css("top"),
                            u = $(this).css("left"),
                            d = $(this).css("width"),
                            p = $(this).css("height"),
                            m = "position:absolute;top:" + c + ";left:" + u + ";width:" + d + ";height:" + p + ";";
                        s[e].params.positionStyle.top = parseInt(c), s[e].params.positionStyle.left = parseInt(u), s[e].params.positionStyle.width = parseInt(d), s[e].params.positionStyle.height = parseInt(p), s[e].positionStyle = m
                    }
                    switch (l) {
                        case "link":
                            var f = this;
                            angular.forEach(r.items, function(e, n) {
                                (e.selectCate.pid || e.selectCate.cid) && $(f).find(".list-group").children().eq(n).replaceWith("<div>" + t.buildDataTagBegin("link", e) + '<div class="list-group-item ng-scope"><a href="{$row[url]}" class="clearfix"><span class="app-nav-title"> {$row[title]}<i class="pull-right fa fa-angle-right"></i></span></a></div>' + t.buildDataTagEnd() + "</div>")
                            });
                            break;
                        case "richtext":
                            s[e] && (s[e].params.content = "")
                    }
                    if (o = $(this).html(), "header" != l) {
                        m = $(this).attr("style");
                        n += '<div type="' + l + '" style="' + m + '">' + o + "</div>"
                    }
                    e++
                });
                var o = s[0].params.bgColor;
                return n = '<div class="js-design-page" style="background-color:' + o + '">' + n + "</div>", n = n.replace(/<\!\-\-([^-]*?)\-\->/g, ""), n = n.replace(/ ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), n = n.replace(/ ng\-[a-zA-Z]+/g, ""), a.html = n, a.params = angular.copy(s), t.stripHaskey(a.params), a
            }, n
        }
    ]), angular.module("wapeditorApp").service("serviceUpwardCompatible", ["$rootScope", "$timeout", "orderByFilter",
        function(e, t, n) {
            var a = {};
            return a.compatibility = function(e) {
                void 0 !== e[0].params.pageHeight && (e[0].params.pageLength = Math.ceil(e[0].params.pageHeight / 568)), e = n(e, "displayorder");
                for (var t in e) {
                    e[t].params.baseStyle instanceof Array && (e[t].params.baseStyle = {}), e[t].params.borderStyle instanceof Array && (e[t].params.borderStyle = {}), e[t].params.shadowStyle instanceof Array && (e[t].params.shadowStyle = {}), e[t].params.positionStyle instanceof Array && (e[t].params.positionStyle = {});
                    var a = angular.copy(e[t].params);
                    if (e[t].animationStyle = "", e[t].params.animationStyle = {}, e[t].params.animate) {
                        var i = e[t].params.animate.match(/(\w+)\s1/);
                        i = i ? i[1] : "noEffect", e[t].params.animationStyle.name = i
                    } else e[t].params.animationStyle.name = "noEffect";
                    switch (e[t].params.animationStyle = {
                        name: e[t].params.animationStyle.name,
                        speed: 1,
                        delay: .6
                    }, e[t].animationStyle = "animation: " + e[t].params.animate + ";", e[t].params.positionStyle = _.isEmpty(e[t].params.positionStyle) ? {} : e[t].params.positionStyle, e[t].params.baseStyle = _.isEmpty(e[t].params.baseStyle) ? {} : e[t].params.baseStyle, e[t].params.borderStyle = _.isEmpty(e[t].params.borderStyle) ? {} : e[t].params.borderStyle, e[t].params.shadowStyle = _.isEmpty(e[t].params.shadowStyle) ? {} : e[t].params.shadowStyle, e[t].baseStyle = "", e[t].borderStyle = "", e[t].shadowStyle = "", e[t].positionStyle = "", e[t].id) {
                        case "onlyText":
                            e[t].params.baseStyle.textAlign = a.postype, e[t].params.baseStyle.fontSize = a.baseStyle.fontsize, e[t].params.baseStyle.lineHeight = a.baseStyle.lineheight, e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 290, e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 0, e[t].baseStyle = "font-size:" + a.baseStyle.fontsize + "px;text-align:" + a.postype + ";line-height:" + a.baseStyle.lineheight + ";";
                            break;
                        case "image":
                            e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 0, e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 0;
                            break;
                        case "shape":
                            e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 100, e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 0;
                            break;
                        case "pureLink":
                        case "dial":
                            e[t].params.baseStyle.fontSize = a.baseStyle.fontsize ? a.baseStyle.fontsize + "px" : "14px", e[t].params.baseStyle.textAlign = "center";
                            for (var s in a.items)
                                if (1 == a.items[s].active) {
                                    e[t].params.baseStyle.backgroundColor = a.items[s].discolor, e[t].params.baseStyle.color = a.items[s].color;
                                    break
                                }
                            e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 320 - a.positionStyle.marginleft, e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 35, e[t].params.baseStyle.lineHeight = e[t].params.positionStyle.height + "px", e[t].params.borderStyle.borderWidth = 1, e[t].params.borderStyle.borderRadius = 8, e[t].params.borderStyle.borderStyle = "solid", e[t].params.borderStyle.borderColor = "#ADADAD", e[t].baseStyle = "font-size:" + e[t].params.baseStyle.fontSize + ";text-align:center;background-color:" + a.items[s].discolor + ";color:" + a.items[s].color + ";line-height:" + e[t].params.baseStyle.lineHeight + ";", e[t].borderStyle = "border-radius:8px; border-width: 1px;border-style: solid;border-color: #ADADAD;";
                            break;
                        case "good":
                            e[t].params.baseStyle.fontSize = a.baseStyle.fontsize + "px", e[t].params.baseStyle.textAlign = "center", e[t].params.baseStyle.color = a.color, e[t].params.baseStyle.backgroundColor = "#d15d82", e[t].params.borderStyle.borderRadius = 5, e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 320 - a.positionStyle.marginleft, 1 == a.layoutstyle ? e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 35 : e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 54, e[t].params.baseStyle.lineHeight = e[t].params.positionStyle.height + "px", e[t].baseStyle = "font-size:" + e[t].params.baseStyle.fontSize + ";text-align:center;background-color:#d15d82;color:" + a.color + ";line-height:" + e[t].params.baseStyle.lineHeight + ";", e[t].borderStyle = "border-radius:5px;";
                            break;
                        case "countDown":
                            e[t].params.baseStyle.fontSize = a.baseStyle.fontsize + "px", e[t].params.baseStyle.textAlign = "center", e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0, e[t].params.positionStyle.width = a.positionStyle.width ? a.positionStyle.width : 320, e[t].params.positionStyle.height = a.positionStyle.height ? a.positionStyle.height : 35, e[t].params.baseStyle.lineHeight = e[t].params.positionStyle.height + "px", e[t].params.borderStyle.borderWidth = 1, e[t].params.borderStyle.borderStyle = "solid", e[t].params.borderStyle.borderColor = "#ccc", e[t].baseStyle = "font-size:" + e[t].params.baseStyle.fontSize + ";text-align:center;line-height:" + e[t].params.baseStyle.lineHeight + ";", e[t].borderStyle = "border-width: 1px;border-style: solid;border-color: #ccc;";
                            break;
                        case "title":
                            e[t].params.baseStyle.backgroundColor = a.tradition.bgcolor, e[t].baseStyle = "background-color:" + a.tradition.bgcolor + ";";
                        case "white":
                            e[t].params.positionStyle.height = e[t].params.height;
                        case "richText":
                        case "adImg":
                        case "cube":
                        case "textNav":
                        case "navImg":
                        case "link":
                        case "line":
                        case "audio":
                        case "notice":
                            void 0 !== a.positionStyle ? e[t].params.positionStyle.left = a.positionStyle.marginleft ? a.positionStyle.marginleft : 0 : e[t].params.positionStyle.left = 0, e[t].params.positionStyle.width = 320
                    }
                    var o = "";
                    heightStyle = "", e[t].params.positionStyle.width && (o = "width:" + e[t].params.positionStyle.width + "px;"), e[t].params.positionStyle.height && (heightStyle = "height:" + e[t].params.positionStyle.height + "px;"), e[t].positionStyle = "position:relative;left:" + e[t].params.positionStyle.left + "px;" + o + heightStyle, void 0 !== a.positionStyle ? e[t].marginTop = a.positionStyle.margintop ? a.positionStyle.margintop : 0 : e[t].marginTop = 0
                }
                return e
            }, a
        }
    ]), angular.module("wapeditorApp").controller("AdImgCtrl", ["$scope",
        function(e) {
            e.addItem = function() {
                require(["fileUploader"], function(t) {
                    t.show(function(t) {
                        e.activeItem.params.items.push({
                            id: t.id,
                            imgurl: t.url,
                            title: "",
                            url: "",
                            isactive: !1
                        }), $.each(e.activeItem.params.items, function(t, n) {
                            e.activeItem.params.items[0].isactive = 0 == t
                        }), e.$apply("activeItem"), e.changeInnerHeight()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.removeItem = function(t) {
                index = $.inArray(t, e.activeItem.params.items), items = _.clone(e.activeItem.params.items), e.activeItem.params.items = [];
                for (i in items) i != index && e.activeItem.params.items.push(items[i]);
                e.changeInnerHeight()
            }, e.addEmpty = function() {
                e.activeItem.params.items.push({
                    imgurl: "",
                    title: "",
                    url: ""
                }), e.changeInnerHeight()
            }, e.changeItem = function(t) {
                require(["fileUploader"], function(n) {
                    n.init(function(n) {
                        var a = $.inArray(t, e.activeItem.params.items);
                        a > -1 && (e.activeItem.params.items[a].id = n.id, e.activeItem.params.items[a].imgurl = n.url, e.$apply())
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                }), e.changeInnerHeight()
            }
        }
    ]), angular.module("wapeditorApp").controller("AudioCtrl", ["$scope",
        function(e) {
            e.addAudioItem = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        t && (e.activeItem.params.audio.id = t.id, e.activeItem.params.audio.url = t.attachment, e.$apply(), $(".audio-player-play").click(function() {
                            var t = e.activeItem.params.audio.url;
                            if (t) {
                                $("#player").remove();
                                var n = $('<div id="player"></div>');
                                $(document.body).append(n), n.data("control", $(this)), n.jPlayer({
                                    playing: function() {
                                        $(this).data("control").find("i").removeClass("fa-play").addClass("fa-stop")
                                    },
                                    pause: function(e) {
                                        $(this).data("control").find("i").removeClass("fa-stop").addClass("fa-play")
                                    },
                                    swfPath: "resource/components/jplayer",
                                    supplied: "mp3,wma,wav,amr",
                                    solution: "html, flash"
                                }), n.jPlayer("setMedia", {
                                    mp3: t
                                }).jPlayer("play"), $(this).find("i").hasClass("fa-stop") ? n.jPlayer("stop") : n.jPlayer("setMedia", {
                                    mp3: t
                                }).jPlayer("play")
                            }
                        }).show())
                    }, {
                        direct: !0,
                        multiple: !1,
                        type: "audio"
                    })
                })
            }, e.addImgItem = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.activeItem.params.headimg = t.url, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.changeInnerHeight = function() {
                e.changeInnerHeight()
            }
        }
    ]), angular.module("wapeditorApp").controller("CountDownCtrl", ["$scope", "$timeout",
        function(e, t) {
            e.$watch("activeItem.params.deadtime", function(t, a) {
                if (e.activeItem.params.leftTimeText = {
                    day: 0,
                    hour: 0,
                    min: 0,
                    sec: 0
                }, t && void 0 !== t && 0 != t) {
                    var i = t.replace(/:/g, "-"),
                        s = (i = i.replace(/ /g, "-")).split("-");
                    dtime = new Date(Date.UTC(s[0], s[1] - 1, s[2], s[3] - 8, s[4], s[5])), dtime = parseInt(dtime.getTime()), d = new Date(dtime)
                } else {
                    var o = Date.parse(new Date);
                    dtime = parseInt(2592e6 + o), d = new Date(dtime)
                }
                e.activeItem.params.deadtime = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate() + " " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds(), e.activeItem.params.deadtimeToMin = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate() + " " + d.getHours() + ":" + d.getMinutes(), n()
            });
            var n = function() {
                var a = Date.parse(new Date),
                    i = dtime - a > 0 ? dtime - a : 0;
                e.activeItem.params.leftTimeText.day = parseInt(i / 864e5), e.activeItem.params.leftTimeText.hour = parseInt(i / 36e5 % 24), e.activeItem.params.leftTimeText.min = parseInt(i / 6e4 % 60), e.activeItem.params.leftTimeText.sec = parseInt(i / 1e3 % 60), t(n, 1e3)
            }
        }
    ]), angular.module("wapeditorApp").controller("CubeCtrl", ["$scope",
        function(e) {
            if (e.activeItem.params && e.activeItem.params.layout && _.isEmpty(e.activeItem.params.layout))
                for (row = 0; row < 4; row++)
                    for (e.activeItem.params.layout[row] = {}, col = 0; col < 4; col++) e.activeItem.params.layout[row][col] = {
                        cols: 1,
                        rows: 1,
                        isempty: !0,
                        imgurl: "",
                        classname: ""
                    };
            $(".layout-table").bind("mouseover", function(e) {
                if ("LI" == e.target.tagName) {
                    $(".layout-table li").removeClass("selected");
                    var t = $(e.target).attr("data-rows"),
                        n = $(e.target).attr("data-cols");
                    $(".layout-table li").filter(function(e, a) {
                        return $(a).attr("data-rows") <= t && $(a).attr("data-cols") <= n
                    }).addClass("selected")
                }
            }), e.activeItem.params.currentLayout = {}, e.showSelection = function(t, n) {
                e.activeItem.params.currentPos = {
                    row: t,
                    col: n
                }, e.activeItem.params.selection = {};
                var a = -1,
                    s = 1;
                for (i = t; i < 4; i++) {
                    for (y = 1, e.activeItem.params.selection[s] = {}, j = n; j < 4; j++) a >= 0 && a < j || (!_.isUndefined(e.activeItem.params.layout[i][j]) && e.activeItem.params.layout[i][j].isempty ? (e.activeItem.params.selection[s][y] = {
                        rows: s,
                        cols: y
                    }, y++) : a = j - 1);
                    s++
                }
                return $(".layout-table li").removeClass("selected"), e.modalobj = $("#modal-cube-layout").modal({
                    show: !0
                }), !0
            }, e.selectLayout = function(t, n, a, s) {
                for (_.isUndefined(a) && (a = 0), _.isUndefined(s) && (s = 0), e.activeItem.params.layout[t][n] = {
                    cols: s,
                    rows: a,
                    isempty: !1,
                    imgurl: "",
                    classname: "index-" + e.activeItem.params.showIndex
                }, i = t; i < parseInt(t) + parseInt(a); i++)
                    for (j = n; j < parseInt(n) + parseInt(s); j++) t == i && n == j || delete e.activeItem.params.layout[i][j];
                return e.activeItem.params.showIndex++, e.modalobj.modal("hide"), e.changeItem(t, n), !0
            }, e.addItem = function(t, n) {
                require(["fileUploader"], function(t) {
                    t.show(function(t) {
                        e.activeItem.params.currentLayout.id = t.id, e.activeItem.params.currentLayout.imgurl = t.url, e.$apply(), e.changeInnerHeight()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.changeItem = function(t, n) {
                $("#cube-editor td").removeClass("current").filter(function(e, a) {
                    return $(a).attr("x") == t && $(a).attr("y") == n
                }).addClass("current"), $("#thumb").attr("src", ""), e.activeItem.params.currentLayout = e.activeItem.params.layout[t][n]
            }, e.removeItem = function() {
                for (var t = 0; t < 4; t++)
                    for (var n = 0; n < 4; n++)
                        if (!_.isEmpty(e.activeItem.params.layout[t][n]) && e.activeItem.params.currentLayout.classname == e.activeItem.params.layout[t][n].classname) {
                            if (e.activeItem.params.currentLayout.rows > 1)
                                for (var a = 0; a < e.activeItem.params.currentLayout.rows; a++) {
                                    var i = t + a;
                                    if (e.activeItem.params.layout[i][n] = {
                                        cols: 1,
                                        rows: 1,
                                        isempty: !0,
                                        imgurl: "",
                                        classname: ""
                                    }, e.activeItem.params.currentLayout.cols > 1)
                                        for (s = 0; s < e.activeItem.params.currentLayout.cols; s++) {
                                            o = n + s;
                                            e.activeItem.params.layout[i][o] = {
                                                cols: 1,
                                                rows: 1,
                                                isempty: !0,
                                                imgurl: "",
                                                classname: ""
                                            }
                                        }
                                } else if (e.activeItem.params.layout[t][n] = {
                                    cols: 1,
                                    rows: 1,
                                    isempty: !0,
                                    imgurl: "",
                                    classname: ""
                                }, e.activeItem.params.currentLayout.cols > 1)
                                    for (var s = 0; s < e.activeItem.params.currentLayout.cols; s++) {
                                        var o = n + s;
                                        e.activeItem.params.layout[t][o] = {
                                            cols: 1,
                                            rows: 1,
                                            isempty: !0,
                                            imgurl: "",
                                            classname: ""
                                        }
                                    }
                                e.activeItem.params.currentLayout = {}
                        }
            }
        }
    ]), angular.module("wapeditorApp").controller("DialCtrl", ["$scope",
        function(e) {
            e.changeItem = function(t) {
                5 == t.id ? (e.activeItem.paddingTop = angular.copy(e.activeItem.params.baseStyle.paddingTop), e.activeItem.params.baseStyle.paddingTop = 0) : e.activeItem.params.baseStyle.paddingTop = e.activeItem.params.baseStyle.paddingTop ? e.activeItem.params.baseStyle.paddingTop : e.activeItem.paddingTop, index = $.inArray(t, e.activeItem.params.items);
                for (i in e.activeItem.params.items) i == index ? (e.activeItem.params.items[i].active = 1, e.activeItem.params.baseStyle.color = e.activeItem.params.items[i].color, e.activeItem.params.baseStyle.backgroundColor = e.activeItem.params.items[i].discolor) : e.activeItem.params.items[i].active = 0
            }, e.addImage = function(t) {
                index = $.inArray(t, e.activeItem.params.items);
                for (i in e.activeItem.params.items) i == index && require(["fileUploader"], function(t) {
                    t.show(function(t) {
                        e.saveModulePosition(), e.resetPosition(t), e.activeItem.params.items[i].imgurl = t.url, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.resetPosition = function(t) {
                t.width && t.height && (e.activeItem.params.positionStyle.width = t.width, e.activeItem.params.positionStyle.height = t.height, e.setModulePositionStyle(e.activeItem.params.positionStyle))
            }
        }
    ]), angular.module("wapeditorApp").controller("GoodCtrl", ["$scope",
        function(e) {
            e.changeLayout = function(t) {
                switch (t) {
                    case "lr":
                        e.activeItem.params.layoutstyle = 1;
                        break;
                    case "ud":
                        e.activeItem.params.layoutstyle = 2
                }
            }
        }
    ]), angular.module("wapeditorApp").controller("HeaderCtrl", ["$scope",
        function(e) {
            e.addThumb = function(t) {
                require(["fileUploader"], function(n) {
                    n.show(function(n) {
                        e.activeItem.params[t] = n.url, e.$apply("activeItem")
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.ifCheck = function() {
                e.activeItem.params.bottom_menu = !e.activeItem.params.bottom_menu
            }
        }
    ]), angular.module("wapeditorApp").controller("ImageCtrl", ["$scope",
        function(e) {
            e.addItem = function() {
                require(["fileUploader"], function(t) {
                    t.show(function(t) {
                        e.saveModulePosition(), e.resetPosition(t), e.activeItem.params.items = {
                            id: t.id,
                            imgurl: t.url
                        }, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.changeItem = function(t) {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.saveModulePosition(), e.resetPosition(t), e.activeItem.params.items.id = t.id, e.activeItem.params.items.imgurl = t.url, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.resetPosition = function(t) {
                t.width && t.height && (w = t.width, h = t.height, w >= h ? (e.activeItem.params.positionStyle.width = 100, e.activeItem.params.positionStyle.height = e.activeItem.params.positionStyle.width * h / w) : (e.activeItem.params.positionStyle.height = 100, e.activeItem.params.positionStyle.width = e.activeItem.params.positionStyle.height * w / h), e.setModulePositionStyle(e.activeItem.params.positionStyle))
            }
        }
    ]), angular.module("wapeditorApp").controller("LineCtrl", ["$scope",
        function(e) {}
    ]), angular.module("wapeditorApp").controller("LinkCtrl", ["$scope", "$http",
        function(e, t) {
            e.pageSize = _.range(0, 30), e.addItem = function() {
                e.activeItem.params.items.push({
                    title: "",
                    url: "",
                    type: 1,
                    selectCate: {
                        name: "",
                        id: 0
                    },
                    pageSize: 3
                })
            }, e.removeItem = function(t) {
                index = $.inArray(t, e.activeItem.params.items), items = _.clone(e.activeItem.params.items), e.activeItem.params.items = [];
                for (i in items) i != index && e.activeItem.params.items.push(items[i]);
                e.changeInnerHeight()
            }, e.showSearchCateList = function(n) {
                e.currentItem = n;
                var a = $(".js-search-cate-keyword").val();
                return a = void 0 === a ? "" : a, t.get("./index.php?c=utility&a=link&do=catelist&keyword=" + a).success(function(t, n, a, s) {
                    e.searchCateList = [];
                    var o = t.message;
                    for (i in o) e.searchCateList.push({
                        id: o[i].id,
                        name: o[i].name,
                        children: o[i].children
                    });
                    e.modalobj = $("#modal-search-cate-link").modal({
                        show: !0
                    })
                }), !0
            }, e.selectCateItem = function(t, n, a) {
                return e.currentItem.selectCate = {
                    pid: t,
                    cid: n,
                    name: a
                }, e.modalobj.modal("hide"), !0
            }
        }
    ]), angular.module("wapeditorApp").controller("NavImgCtrl", ["$scope",
        function(e) {
            e.changeItem = function(t) {
                require(["fileUploader"], function(n) {
                    n.show(function(n) {
                        t.id = n.id, t.imgurl = n.url, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }
        }
    ]), angular.module("wapeditorApp").controller("NoticeCtrl", ["$scope",
        function(e) {}
    ]), angular.module("wapeditorApp").controller("OnlyTextCtrl", ["$scope",
        function(e) {}
    ]), angular.module("wapeditorApp").controller("PureLinkCtrl", ["$scope",
        function(e) {
            e.changeItem = function(t) {
                5 == t.id ? (e.activeItem.paddingTop = angular.copy(e.activeItem.params.baseStyle.paddingTop), e.activeItem.params.baseStyle.paddingTop = 0) : e.activeItem.params.baseStyle.paddingTop = e.activeItem.params.baseStyle.paddingTop ? e.activeItem.params.baseStyle.paddingTop : e.activeItem.paddingTop, index = $.inArray(t, e.activeItem.params.items);
                for (i in e.activeItem.params.items) i == index ? (e.activeItem.params.items[i].active = 1, e.activeItem.params.baseStyle.color = e.activeItem.params.items[i].color, e.activeItem.params.baseStyle.backgroundColor = e.activeItem.params.items[i].discolor) : e.activeItem.params.items[i].active = 0
            }, e.addImage = function(t) {
                index = $.inArray(t, e.activeItem.params.items);
                for (i in e.activeItem.params.items) i == index && require(["fileUploader"], function(t) {
                    t.show(function(t) {
                        e.saveModulePosition(), e.resetPosition(t), e.activeItem.params.items[i].imgurl = t.url, e.$apply()
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.resetPosition = function(t) {
                t.width && t.height && (e.activeItem.params.positionStyle.width = t.width, e.activeItem.params.positionStyle.height = t.height, e.setModulePositionStyle(e.activeItem.params.positionStyle))
            }
        }
    ]), angular.module("wapeditorApp").controller("RewardCtrl", ["$scope",
        function(e) {
            e.changeSize = function(t) {
                switch (e.activeItem.params.fontactive = t, e.activeItem.params.fonttype = t, t) {
                    case "big":
                        e.activeItem.params.baseStyle.fontSize = "36px";
                        break;
                    case "middle":
                        e.activeItem.params.baseStyle.fontSize = "26px";
                        break;
                    case "small":
                        e.activeItem.params.baseStyle.fontSize = "16px"
                }
            }
        }
    ]), angular.module("wapeditorApp").controller("RichTextCtrl", ["$scope", "$sce",
        function(e, t) {
            e.trustAsHtml = function(e, n) {
                return !e && n && (e = n.replace(/\#quot;/g, "&quot;")), t.trustAsHtml(e)
            }
        }
    ]), angular.module("wapeditorApp").controller("ShapeCtrl", ["$scope", "$http",
        function(e, t) {
            e.page = {
                currentPage: 1,
                numPages: 1,
                toPage: "",
                totalItems: 0,
                pageSize: 18
            }, e.addItem = function() {
                t({
                    method: "GET",
                    url: window.sysinfo.siteroot + "web/resource/images/app/shape/shape.json",
                    cache: !0
                }).success(function(t) {
                    e.sysCategoryList = t.sysCategoryList, e.sysImageTag = t.sysImageTag, e.sysImageList = t.sysImageList, e.activeItem.params.catlistActive = 1, e.activeItem.params.imgListActive = 4, e.page.numPages = n(), e.pages = i(), a(1), e.currentImageList = o(e.activeItem.params.imgListActive, 1), $("#shapeModal").modal("show")
                })
            }, e.getSysCatAndList = function(t) {
                var s = $.inArray(t, e.sysCategoryList);
                for (var r in e.sysCategoryList)
                    if (r == s) {
                        e.sysCategoryList[r].active = !0, e.activeItem.params.catlistActive = e.sysCategoryList[r].id;
                        var l = 1;
                        for (var c in e.sysImageTag) e.sysImageTag[c].parentid == e.sysCategoryList[r].id && 1 == l ? (e.activeItem.params.imgListActive = e.sysImageTag[c].id, e.sysImageTag[c].active = !0, e.page.numPages = n(), e.pages = i(), a(1), e.currentImageList = o(e.activeItem.params.imgListActive, 1), l++) : e.sysImageTag[c].active = !1
                    } else e.sysCategoryList[r].active = !1
            }, e.getSysImgByTag = function(t) {
                var s = $.inArray(t, e.sysImageTag);
                for (var r in e.sysImageTag) r == s ? (e.sysImageTag[r].active = !0, e.activeItem.params.imgListActive = e.sysImageTag[r].id, e.page.numPages = n(), e.pages = i(), a(1), e.currentImageList = o(e.activeItem.params.imgListActive, 1)) : e.sysImageTag[r].active = !1
            }, e.selectSvg = function(n, a) {
                var i = n.target.dataset.url;
                i = i.split("../"), t({
                    method: "GET",
                    url: window.sysinfo.siteroot + i[1]
                }).success(function(t) {
                    for (var n, a = $(t), i = a.length, s = 0; i > s; s++)
                        if ("svg" == a[s].tagName) {
                            n = a[s];
                            break
                        }
                    e.saveModulePosition();
                    var o = parseFloat($(n).attr("width")),
                        r = parseFloat($(n).attr("height"));
                    o >= r ? e.activeItem.params.positionStyle.height = e.activeItem.params.positionStyle.width * r / o : e.activeItem.params.positionStyle.width = e.activeItem.params.positionStyle.height * o / r, e.setModulePositionStyle(e.activeItem.params.positionStyle), e.activeItem.params.svgValue = t, $("#shapeModal").modal("hide")
                })
            }, e.selectPage = function(t) {
                (t = parseInt(t)) > 0 && t <= e.page.numPages && (e.page.currentPage = t, e.pages = i(), a(t), e.currentImageList = o(e.activeItem.params.imgListActive, t))
            }, e.getImgByPage = function() {
                var t = parseInt(e.page.toPage);
                t > 0 && t <= e.page.numPages && (e.page.currentPage = t, e.pages = i(), a(t), e.currentImageList = o(e.activeItem.params.imgListActive, t))
            };
            var n = function() {
                    var t = s(e.activeItem.params.imgListActive);
                    return Math.ceil(t / e.page.pageSize)
                },
                a = function(t) {
                    for (var n in e.pages) t == e.pages[n].number ? e.pages[n].active = !0 : e.pages[n].active = !1
                },
                i = function() {
                    var t = [];
                    if (e.page.numPages <= 5)
                        for (i = 1; i <= e.page.numPages; i++) e.page.currentPage == i ? t.push({
                            number: i,
                            active: !0
                        }) : t.push({
                            number: i,
                            active: !1
                        });
                    else {
                        var n = e.page.currentPage - 2,
                            a = e.page.currentPage + 2;
                        if (n > 0)
                            if (a <= e.page.numPages) t = [{
                                number: n,
                                active: !1
                            }, {
                                number: e.page.currentPage - 1,
                                active: !1
                            }, {
                                number: e.page.currentPage,
                                active: !0
                            }, {
                                number: e.page.currentPage + 1,
                                active: !1
                            }, {
                                number: a,
                                active: !1
                            }];
                            else
                                for (i = e.page.numPages - 4; i <= e.page.numPages; i++) i == e.page.currentPage ? t.push({
                                    number: i,
                                    active: !0
                                }) : t.push({
                                    number: i,
                                    active: !1
                                });
                        else
                            for (var i = 1; i <= 5; i++) e.page.currentPage == i ? t.push({
                                number: i,
                                active: !0
                            }) : t.push({
                                number: i,
                                active: !1
                            })
                    }
                    return t
                },
                s = function(t) {
                    var n = 0;
                    for (var a in e.sysImageList) t == e.sysImageList[a].parentid && n++;
                    return n
                },
                o = function(t, n) {
                    var a = [],
                        i = 0,
                        s = ((n = parseInt(n) > 0 ? parseInt(n) : 1) - 1) * e.page.pageSize,
                        o = n * e.page.pageSize;
                    for (var r in e.sysImageList) t == e.sysImageList[r].parentid && (i >= s && i < o && a.push(e.sysImageList[r]), i++);
                    return a
                }
        }
    ]), angular.module("wapeditorApp").controller("TextNavCtrl", ["$scope",
        function(e) {
            e.addItem = function() {
                e.activeItem.params.items.push({
                    title: "",
                    url: ""
                }), e.changeInnerHeight()
            }, e.removeItem = function(t) {
                index = $.inArray(t, e.activeItem.params.items), items = _.clone(e.activeItem.params.items), e.activeItem.params.items = [];
                for (i in items) i != index && e.activeItem.params.items.push(items[i]);
                e.changeInnerHeight()
            }
        }
    ]), angular.module("wapeditorApp").controller("TitleCtrl", ["$scope",
        function(e) {
            e.changeNavEnable = function(t) {
                e.activeItem.params.tradition.nav.enable = t
            }
        }
    ]), angular.module("wapeditorApp").controller("WhiteCtrl", ["$scope",
        function(e) {}
    ]), angular.module("accountApp", ["app", "infinite-scroll"]), angular.module("accountApp").controller("AccountDisplay", ["$scope", "$http", "$timeout", "config",
        function(e, t, n, a) {
            e.accountList = a.accountList, e.links = a.links, e.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "#", "全部"], e.activeLetter = "", e.searchModule = function(t) {
                e.activeLetter = t, n(function() {
                    $(".button").click()
                }, 500)
            }, e.stick = function(n) {
                var a = parseInt(n);
                t.post(e.links.rank, {
                    id: a
                }).success(function(e) {
                    0 == e.message.errno && location.reload()
                })
            }, e.currentPage = 1, e.busy = !1, e.loadMore = function() {
                if (e.busy) return !1;
                e.currentPage++, e.busy = !0, t.post(a.scrollUrl, {
                    page: e.currentPage,
                    keyword: a.keyword,
                    letter: a.letter
                }).success(function(t) {
                    if (e.busy = !1, 0 == t.message.errno)
                        for (var n in t.message.message) e.accountList.push(t.message.message[n]);
                    e.busy = !1
                })
            }
        }
    ]), angular.module("accountApp").controller("SystemAccountDisplay", ["$scope", "config",
        function(e, t) {
            e.lists = t.lists, e.links = t.links
        }
    ]), angular.module("accountApp").controller("SystemAccountRecycle", ["$scope", "config",
        function(e, t) {
            e.del_accounts = t.del_accounts, e.links = t.links
        }
    ]), angular.module("accountApp").controller("AccountPostStepOne", ["$scope", "config",
        function(e, t) {}
    ]), angular.module("accountApp").controller("AccountPostStepTwo", ["$scope", "config",
        function(e, t) {
            e.account = {}, e.uploadMultiImage = function(t) {
                require(["fileUploader"], function(n) {
                    n.init(function(n) {
                        e.account[t] = n.url, e.$apply(e.account)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delMultiImage = function(t) {
                e.account[t] = ""
            }
        }
    ]), angular.module("accountApp").controller("AccountPostStepThree", ["$scope", "$http", "config", "AccountAppCommon",
        function(e, t, n, a) {
            e.notify = n.notify, e.owner = n.owner, e.links = n.links, e.selectOwner = function(e) {
                e.preventDefault(), a.selectOwner()
            }, e.changeGroup = function() {
                if (!$('input[name="uid"]').val()) return $("#groupid").val(0), util.message("请先选择管理员"), !1;
                a.update_package_list($("#groupid").find("option:selected").data("package"))
            }, e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }, e.addPermission = a.addPermission
        }
    ]), angular.module("accountApp").controller("AccountPostStepFour", ["$scope", "config", "AccountAppCommon",
        function(e, t, n) {
            e.account = t.account, e.links = t.links, e.url = t.links.siteroot + "api.php?id=" + e.account.acid, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>');
                n.copySuccess(e, t)
            }
        }
    ]), angular.module("accountApp").controller("AccountManageBase", ["$scope", "$http", "config", "AccountAppCommon",
        function(e, t, n, a) {
            e.account = n.account, e.uniaccount = n.uniaccount, e.authstate = n.authstate, e.authurl = n.authurl, e.other = {
                headimgsrc: n.headimgsrc,
                qrcodeimgsrc: n.qrcodeimgsrc,
                serviceUrl: n.links.siteroot + "api.php?id=" + e.account.acid,
                siteurl: n.links.siteroot,
                socket_url: n.links.socket_url
            }, e.changeImage = function(t) {
                "headimgsrc" != t && "qrcodeimgsrc" != t || require(["fileUploader"], function(n) {
                    n.init(function(n) {
                        e.other[t] = n.url, e.$apply(e.other), e.httpChange(t)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<a href="javascript:;" class="btn btn-success btn-sm we7-margin-left-sm"><i class="fa fa-check-circle"></i> 复制成功</a>');
                a.copySuccess(e, t)
            }, e.editInfo = function(t, n) {
                e.middleAccount = {}, e.middleAccount[t] = n
            }, e.httpChange = function(i, s) {
                switch (i) {
                    case "headimgsrc":
                    case "qrcodeimgsrc":
                        t.post(n.links.basePost, {
                            type: i,
                            imgsrc: e.other[i]
                        }).success(function(t) {
                            0 == t.message.errno ? ($(".wechat-img").attr("src", e.other[i]), util.message("修改成功！", "", "success")) : (-1 == t.message.errno && util.message(t.message.message, t.redirect, "error"), 1 == t.message.errno && util.message(t.message.message, "", "error"), 40035 == t.message.errno && util.message(t.message.message, "", "error"))
                        });
                        break;
                    case "name":
                    case "account":
                    case "original":
                    case "level":
                    case "key":
                    case "secret":
                        if ($("#" + i).modal("hide"), 0 == e.middleAccount[i].length) return util.message("不可为空！", "", "error"), !1;
                        t.post(n.links.basePost, {
                            type: i,
                            request_data: e.middleAccount[i]
                        }).success(function(t) {
                            0 == t.message.errno ? (e.account[i] = e.middleAccount[i], util.message("修改成功！", "", "success")) : (1 == t.message.errno && util.message(t.message.message, "", "error"), 40035 == t.message.errno && util.message(t.message.message, "", "error"))
                        });
                        break;
                    case "jointype":
                        if ($("#jointype").modal("hide"), 1 == e.middleAccount.type && t.post(n.links.basePost, {
                            type: "jointype",
                            request_data: 1
                        }).success(function(t) {
                            0 == t.message.errno ? (e.account[i] = e.middleAccount[i], e.account.type = 1, util.message("修改成功！", "", "success")) : (1 == t.message.errno && util.message(t.message.message, "", "error"), 40035 == t.message.errno && util.message(t.message.message, "", "error"))
                        }), 3 == e.middleAccount.type)
                            if (1 == n.authurl.errno) util.message(n.authurl.url);
                            else {
                                if (!confirm("必须通过公众号授权登录页面进行授权接入，是否跳转至授权页面...")) return !1;
                                location.href = n.authurl.url
                            }
                        break;
                    case "token":
                        if ($("#token").modal("hide"), void 0 === s) {
                            if (!confirm("确定要生成新的吗？")) return !1;
                            var o = a.tokenGen()
                        } else {
                            if (0 == (o = $("#newtoken").val()).length) return util.message("不可为空！"), !1;
                            if (!(l = new RegExp(/^[A-Za-z0-9]{3,32}$/)).test(o)) return util.message("必须为英文或者数字，长度为3到32个字符！"), !1
                        }
                        t.post(n.links.basePost, {
                            type: i,
                            request_data: o
                        }).success(function(t) {
                            0 == t.message.errno ? (e.account[i] = o, util.message("修改成功！")) : (-1 == t.message.errno && util.message(t.message.message, t.redirect, "error"), 1 == t.message.errno && util.message(t.message.message, "", "error"), 40035 == t.message.errno && util.message(t.message.message, "", "error"))
                        });
                        break;
                    case "encodingaeskey":
                        if ($("#encodingaeskey").modal("hide"), void 0 === s) {
                            if (!confirm("确定要生成新的吗？")) return !1;
                            var r = a.encodingAESKeyGen()
                        } else {
                            if (0 == (r = $("#newencodingaeskey").val()).length) return util.message("不可为空！"), !1;
                            var l = new RegExp(/^[A-Za-z0-9]{43}$/);
                            if (!l.test(r)) return util.message("必须为英文或者数字，长度为43个字符！"), !1
                        }
                        t.post(n.links.basePost, {
                            type: i,
                            request_data: r
                        }).success(function(t) {
                            0 == t.message.errno ? (e.account[i] = r, util.message("修改成功！")) : (-1 == t.message.errno && util.message(t.message.message, t.redirect, "error"), 1 == t.message.errno && util.message(t.message.message, "", "error"), 40035 == t.message.errno && util.message(t.message.message, "", "error"))
                        })
                }
            }
        }
    ]), angular.module("accountApp").controller("AccountMangeModulesTpl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.owner = n.owner, e.modules_tpl = n.modules_tpl, e.extend = n.extend, e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }, e.changeGroup = function() {
                for (var e = $('input[name="package[]"]'), a = [], i = 0; i < e.length; i++) $(e[i]).is(":checked") && a.push($(e[i]).val());
                t.post(n.links.postModulesTpl, {
                    type: "group",
                    groupdata: a
                }).success(function(e) {
                    0 == e.message.errno ? location.reload() : 40035 == e.message.errno && util.message("参数错误！")
                })
            }, e.addExtend = function() {
                var e = "",
                    a = "",
                    i = [],
                    s = [];
                $("#jurisdiction-add #content-modules").find(".btn-primary").each(function() {
                    e += '<div class="col-sm-3 text-left we7-margin-bottom"><a href="javascript:;" class="label label-info">' + $(this).attr("data-title") + "</a></div>", i.push($(this).attr("data-name"))
                }), $("#jurisdiction-add #content-templates").find(".btn-primary").each(function() {
                    a += '<div class="col-sm-3 text-left we7-margin-bottom"><a href="javascript:;" class="label label-info">' + $(this).attr("data-title") + "</a></div>", s.push($(this).attr("data-id"))
                }), e || a ? $(".account-package-extra").show() : $(".account-package-extra").hide(), $(".account-package-extra .js-extra-modules").append(e), $(".account-package-extra .js-extra-templates").append(a), $("#jurisdiction-add").modal("hide"), t.post(n.links.postModulesTpl, {
                    type: "extend",
                    module: i,
                    tpl: s
                }).success(function(e) {
                    0 == e.message.errno ? location.reload() : 40035 == e.message.errno && util.message("参数错误！")
                })
            }
        }
    ]), angular.module("accountApp").controller("AccountManageUsers", ["$scope", "$http", "config",
        function(e, t, n) {
            e.permissions = n.permissions, e.state = n.state, e.setPermission = function(e) {
                var e = parseInt(e);
                location.href = n.links.setPermission + "&uid=" + e
            }, e.delPermission = function(e) {
                var e = parseInt(e);
                if (!confirm("确认删除当前选择的用户?")) return !1;
                location.href = n.links.delete + "&uid=" + e
            }, e.addOwner = function() {
                $("#owner-modal").modal("hide");
                var t = $.trim($("#add-owner-username").val());
                e.requestPost(3, t)
            }, e.addViceFounder = function() {
                $("#user-vice-modal").modal("hide");
                var t = $.trim($("#add-vice-username").val());
                e.requestPost(4, t)
            }, e.changeOwner = function(e) {
                $("#owner-modal").modal("show"), $("#add-owner-username").val(e)
            }, e.changeVice = function(e) {
                $("#user-vice-modal").modal("show"), $("#add-vice-username").val(e)
            }, e.addUsername = function() {
                $("#user-modal").modal("hide");
                var t = $.trim($("#add-username").val()),
                    n = $(".addtype2").is(":checked");
                e.requestPost(n ? 2 : 1, t)
            }, e.requestPost = function(e, a) {
                if (!a) return util.message("请输入用户名."), !1;
                var e = parseInt(e);
                t.post(n.links.addUser, {
                    username: a,
                    addtype: e,
                    account_type: n.accountType
                }).success(function(e) {
                    0 == e.message.errno ? location.reload() : (-1 == e.message.errno && util.message("用户/创始人不存在或已被删除！"), 1 == e.message.errno && util.message("添加失败，请稍候重试！"), 2 == e.message.errno && util.message(a + "已经是该公众号的操作员或管理员，请勿重复添加！"), 3 == e.message.errno && util.message("用户未通过审核，请联系网站管理员审核通过后再行添加！"), 4 == e.message.errno && util.message("管理员不可操作其他管理员！"), 5 != e.message.errno && 6 != e.message.errno || util.message(e.message.message))
                })
            }
        }
    ]), angular.module("accountApp").controller("AccountManageSms", ["$scope", "$http", "config",
        function(e, t, n) {
            e.notify = n.notify, e.signatures = n.signatures, e.editSms = function(t, n) {
                e.middleSms = {}, e.middleSms[t] = n
            }, e.httpChange = function(a) {
                switch (a) {
                    case "balance":
                        $("#balance").modal("hide"), t.post(n.links.postSms, {
                            type: a,
                            balance: e.middleSms[a]
                        }).success(function(t) {
                            0 == t.message.errno ? (e.notify.sms[a] = t.message.message.num, util.message("修改成功！")) : (-1 == t.message.errno && util.message("您现有短信数量为0，请联系服务商购买短信!"), 1 == t.message.errno && util.message("修改失败！请稍候重试！"))
                        });
                        break;
                    case "signature":
                        $("#signature").modal("hide"), t.post(n.links.postSms, {
                            type: a,
                            signature: e.middleSms[a]
                        }).success(function(t) {
                            0 == t.message.errno ? (e.notify.sms[a] = e.middleSms[a], util.message("设置成功！")) : (40035 == t.message.errno && util.message("参数错误！"), 1 == t.message.errno && util.message("修改失败！请稍候重试！"))
                        })
                }
            }
        }
    ]), angular.module("accountApp").controller("SystemPlatform", ["$scope", "$http", "config", "AccountAppCommon",
        function(e, t, n, a) {
            e.platform = n.platform, e.url = n.url, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="btn btn-success we7-margin-left-sm"><i class="fa fa-check-circle"></i> 复制成功</span>');
                a.copySuccess(e, t)
            }, e.httpChange = function(i, s) {
                switch (i) {
                    case "authstate":
                        var o = 1 == e.platform.authstate ? 0 : 1;
                        t.post(n.links.platformPost, {
                            authstate: o
                        }).success(function(t) {
                            0 == t.message.errno ? (e.platform.authstate = o, util.message("修改成功！", "", "success")) : 1 == t.message.errno && util.message("修改失败，请稍后重试！")
                        });
                        break;
                    case "appid":
                        $("#AppID").modal("hide");
                        var r = $("#newappid").val();
                        t.post(n.links.platformPost, {
                            appid: r
                        }).success(function(t) {
                            0 == t.message.errno ? (e.platform.appid = r, util.message("修改成功！")) : 1 == t.message.errno && util.message("修改失败，请稍后重试！")
                        });
                        break;
                    case "appsecret":
                        $("#AppSecret").modal("hide");
                        var l = $("#newappsecret").val();
                        t.post(n.links.platformPost, {
                            appsecret: l
                        }).success(function(t) {
                            0 == t.message.errno ? (e.platform.appsecret = l, util.message("修改成功！")) : 1 == t.message.errno && util.message("修改失败，请稍后重试！")
                        });
                        break;
                    case "token":
                        if (void 0 === s) {
                            if (!confirm("确定要生成新的吗？")) return !1;
                            var c = a.tokenGen()
                        } else {
                            if (0 == (c = $("#newtoken").val()).length) return util.message("不可为空！"), !1;
                            if (!(d = new RegExp(/^[A-Za-z0-9]{3,32}$/)).test(c)) return util.message("必须为英文或者数字，长度为3到32个字符！"), !1
                        }
                        t.post(n.links.platformPost, {
                            token: c
                        }).success(function(t) {
                            0 == t.message.errno ? (e.platform.token = c, util.message("修改成功！")) : 1 == t.message.errno && util.message("修改失败，请稍后重试！")
                        });
                        break;
                    case "encodingaeskey":
                        if (void 0 === s) {
                            if (!confirm("确定要生成新的吗？")) return !1;
                            var u = a.encodingAESKeyGen()
                        } else {
                            if (0 == (u = $("#newencodingaeskey").val()).length) return util.message("不可为空！"), !1;
                            var d = new RegExp(/^[A-Za-z0-9]{43}$/);
                            if (!d.test(u)) return util.message("必须为英文或者数字，长度为43个字符！"), !1
                        }
                        t.post(n.links.platformPost, {
                            encodingaeskey: u
                        }).success(function(t) {
                            0 == t.message.errno ? (e.platform.encodingaeskey = u, util.message("修改成功！")) : 1 == t.message.errno && util.message("修改失败，请稍后重试！")
                        })
                }
            }
        }
    ]), angular.module("accountApp").controller("AccountManageWxappCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.wxapp_modules = n.wxapp_modules, e.current_module_info = n.current_module_info, e.showWxModules = function() {
                $("#module_wxapp").modal("show")
            }, e.selectedWxModule = function(t, n) {
                var a = $(n.target).parents(".select-module-wxapp");
                a.find("span").removeClass("hide"), a.siblings().find("span").addClass("hide"), e.newWxModule = t
            }, e.addWxModules = function() {
                t.post(n.links.editmodule, {
                    module: e.newWxModule,
                    account_type: 4
                }).success(function(e) {
                    $("#module_wxapp").modal("hide"), 0 == e.message.errno ? location.reload() : util.message(e.message.message)
                })
            }, e.delWxModule = function() {
                t.post(n.links.delmodule, {
                    module: e.current_module_info,
                    account_type: 4
                }).success(function(e) {
                    0 == e.message.errno ? location.reload() : util.message(e.message.message)
                })
            }
        }
    ]), angular.module("accountApp").service("AccountAppCommon", ["$rootScope", "$http", "config",
        function(e, t, n) {
            var a = {};
            return a.addPermission = function() {
                var e = "",
                    t = "";
                $("#jurisdiction-add #content-modules").find(".btn-primary").each(function() {
                    e += '<span class="label label-info" style="margin-right:3px;">' + $(this).attr("data-title") + '</span><input type="hidden" name="extra[modules][]" value="' + $(this).attr("data-name") + '" />'
                }), $("#jurisdiction-add #content-templates").find(".btn-primary").each(function() {
                    t += '<span class="label label-info" style="margin-right:3px;">' + $(this).attr("data-title") + '</span><input type="hidden" name="extra[templates][]" value="' + $(this).attr("data-name") + '" />'
                }), e || t ? $(".account-package-extra").show() : $(".account-package-extra").hide(), $(".account-package-extra .js-extra-modules").html(e), $(".account-package-extra .js-extra-templates").html(t), $("#jurisdiction-add").modal("hide")
            }, a.update_package_list = function(e) {
                $('input[name="package[]"]').prop("checked", !1), $('input[name="package[]"]').prop("disabled", !1);
                for (i in e) $('input[name="package[]"][value="' + e[i] + '"]').prop("checked", !0), $('input[name="package[]"][value="' + e[i] + '"]').prop("disabled", !0)
            }, a.selectOwner = function() {
                var e = [];
                require(["biz"], function(i) {
                    i.user.browser(e, function(e) {
                        t.post(n.links.userinfo, {
                            uid: e
                        }).success(function(e) {
                            e.message.errno && util.message(e.message.message), $("#manager").val(e.message.message.uid), $("#showname").val(e.message.message.username), $("#groupid").val(e.message.message.group.id), $(".account-package-extra").show(), a.update_package_list(e.message.message.package)
                        })
                    }, {
                        mode: "invisible",
                        direct: !0
                    })
                })
            }, a.copySuccess = function(e, t) {
                var e = parseInt(e),
                    t = t,
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }, a.tokenGen = function() {
                for (var e = "", t = 0; t < 32; t++) e += "abcdefghijklmnopqrstuvwxyz0123456789" [parseInt(32 * Math.random())];
                return e
            }, a.encodingAESKeyGen = function() {
                for (var e = "", t = 0; t < 43; t++) e += "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789" [parseInt(61 * Math.random() + 1)];
                return e
            }, a
        }
    ]), angular.module("replyFormApp", ["app"]), angular.module("replyFormApp").controller("KeywordReply", ["$scope", "$http", "config",
        function(e, t, n) {
            e.reply = {
                advanceTrigger: !1,
                status: !0,
                showAdvance: !1,
                keyword: {
                    exact: "",
                    indistinct: "",
                    contain: "",
                    regexp: ""
                },
                entry: n.replydata
            }, e.reply.entry ? (e.reply.entry.istop = e.reply.entry.displayorder >= 255 ? 1 : 0, e.reply.status = 1 == e.reply.entry.status, e.reply.entry.keywords || (e.reply.entry.keywords = [])) : e.reply.entry = {
                istop: 0,
                displayorder: "",
                id: "",
                keywords: [],
                module: "",
                name: "",
                status: 1,
                uniacid: n.uniacid
            }, e.changeStatus = function() {
                e.reply.status = !e.reply.status
            }, e.changeKeywordType = function(t) {
                var t = parseInt(t);
                e.newKeyword = {
                    type: t,
                    content: ""
                }, $("#keyword-indistinct").next().text(""), $("#keyword-exact").next().text(""), $("#keyword-regexp").next().text("")
            }, e.showAddkeywordModal = function() {
                $("#addkeywordModal").modal("show"), e.newKeyword = {
                    type: 1,
                    content: ""
                }
            }, e.addNewKeyword = function() {
                $("#addkeywordModal").modal("hide");
                var t = parseInt(e.newKeyword.type);
                switch (t) {
                    case 1:
                    case 2:
                        var n = e.newKeyword.content.replace(/，/g, ",").split(",");
                        angular.forEach(n, function(n) {
                            "" != n && e.reply.entry.keywords.push({
                                type: t,
                                content: n
                            })
                        });
                        break;
                    case 3:
                        e.reply.entry.keywords.push(e.newKeyword)
                }
            }, e.delKeyword = function(t) {
                var n = _.findIndex(e.reply.entry.keywords, t);
                e.reply.entry.keywords = _.without(e.reply.entry.keywords, e.reply.entry.keywords[n])
            }, e.changeTriggerType = function() {
                "exact" == e.reply.advanceTrigger && (e.reply.advanceTrigger = !1), "indistinct" == e.reply.advanceTrigger && (e.reply.advanceTrigger = !0)
            }, e.changeShowAdvance = function() {
                e.reply.showAdvance = !e.reply.showAdvance
            }, $.isFunction(window.initReplyController) && window.initReplyController(e, t), e.submitForm = function() {
                if (0 == e.reply.entry.keywords.length) return util.message("请输入有效的触发关键字."), !1;
                var n = angular.toJson(e.reply.entry.keywords);
                if ($(':hidden[name="keywords"]').val(n), $.isFunction(window.validateReplyForm)) {
                    if (!window.validateReplyForm($("#reply-form"), $, _, util, e, t)) return !1;
                    $(".reply-form-submit").click()
                } else $(".reply-form-submit").click()
            }, e.initEmotion = function(t) {
                util.emotion($("#emoji-exact"), $("#keyword-exact"), function(t, n, a) {
                    e.newKeyword.content = $(a).val()
                }), util.emotion($("#emoji-indistinct"), $("#keyword-indistinct"), function(t, n, a) {
                    e.newKeyword.content = $(a).val()
                })
            }, e.checkKeyWord = function(e) {
                var a = $(e.target),
                    i = a.val().trim();
                if ("" == i) return a.next().text(""), !1;
                t.post("./index.php?c=platform&a=reply&do=post", {
                    keyword: i
                }).success(function(e) {
                    if (0 == e.message.errno) {
                        var t = $('input[name="rid"]').val(),
                            i = JSON.parse(e.message.message),
                            s = "";
                        for (rule in i) t != i[rule].id && (s += "<a href='" + n.links.postUrl + "&rid=" + i[rule].id + "' target='_blank'><strong class='text-danger'>" + i[rule].name + "</strong></a>&nbsp;");
                        "" != s && a.next().html("该关键字已存在于 " + s + " 规则中.")
                    } else a.next().text("")
                })
            }
        }
    ]), angular.module("replyFormApp").controller("ApplyReply", ["$scope",
        function(e) {
            e.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], e.activeLetter = "", e.searchModule = function(t) {
                e.activeLetter = t
            }
        }
    ]), angular.module("replyFormApp").controller("KeywordDisplay", ["$scope", "$http",
        function(e, t) {
            e.changeStatus = function(e) {
                var n = $("#key-" + e).attr("class");
                t.post("./index.php?c=platform&a=reply&do=change_keyword_status", {
                    id: e
                }).success(function(t) {
                    0 == t.message.errno ? (n.match("switchOn") ? $("#key-" + e).removeClass("switchOn") : $("#key-" + e).addClass("switchOn"), util.message("修改成功！")) : util.message("网络错误，请稍候重试")
                }).error(function(e) {
                    util.message("网络错误，请稍候重试")
                })
            }
        }
    ]), angular.module("replyFormApp").controller("serviceDisplay", ["$scope", "config", "$http",
        function(e, t, n) {
            e.changeStatusUrl = t.url, e.service = t.service, e.changeStatus = function(t) {
                var t = file = t;
                n.post(e.changeStatusUrl, {
                    rid: t,
                    file: file,
                    m: "service"
                }).success(function(n) {
                    0 == n.message.errno ? (e.service[t].switch = "" == e.service[t].switch ? "checked" : "", location.reload()) : util.message("网络错误，请稍候重试")
                })
            }
        }
    ]), angular.module("replyFormApp").controller("SpecialDisplay", ["$scope", "config", "$http",
        function(e, t, n) {
            e.config = t, e.url = t.url, e.msgtypes = {
                image: e.config.image,
                voice: e.config.voice,
                video: e.config.video,
                shortvideo: e.config.shortvideo,
                location: e.config.location,
                trace: e.config.trace,
                link: e.config.link,
                merchant_order: e.config.merchant_order,
                ShakearoundUserShake: e.config.ShakearoundUserShake,
                ShakearoundLotteryBind: e.config.ShakearoundLotteryBind,
                WifiConnected: e.config.WifiConnected
            }, e.switch_class = new Array, angular.forEach(e.msgtypes, function(t, n) {
                e.switch_class[n] = "module" == t || "keyword" == t ? "switch switchOn special_switch" : "switch special_switch"
            }), e.changestatus = function(t) {
                n.post(e.url, {
                    type: t
                }).success(function(n) {
                    0 == n.message.errno ? (e.switch_class[t] = "switch switchOn special_switch" == e.switch_class[t] ? "switch special_switch" : "switch switchOn special_switch", util.message("修改成功！")) : util.message(n.message.message)
                })
            }
        }
    ]), angular.module("replyFormApp").controller("PostCtrl", ["$scope", "config", "$http",
        function(e, t, n) {
            require(["underscore", "util"], function(t, n) {
                window.initReplyController(e)
            }), e.switch_class = t.class, e.status = "module" == t.status || "keyword" == t.status ? t.status : "", e.change = function(t, n) {
                e.status = 0 == n ? 1 : 0, e.switch_class = 1 == e.status ? "switch switchOn special_switch" : "switch special_switch"
            }
        }
    ]), angular.module("replyFormApp").controller("WelcomeDisplay", ["$scope",
        function(e) {
            $.isFunction(window.initReplyController) && window.initReplyController(e)
        }
    ]), angular.module("replyFormApp").controller("DefaultDisplay", ["$scope",
        function(e) {
            $.isFunction(window.initReplyController) && window.initReplyController(e)
        }
    ]), angular.module("replyFormApp").directive("ngInvoker", ["$parse",
        function(e) {
            return function(e, t, n) {
                e.$eval(n.ngInvoker)
            }
        }
    ]), angular.module("replyFormApp").directive("ngMyEditor", function() {
        var e = {
            scope: {
                value: "=ngMyValue"
            },
            template: '<textarea id="editor" style="height:600px;width:100%;"></textarea>',
            link: function(t, n, a) {
                if (!n.data("editor")) {
                    var i = {
                        autoClearinitialContent: !1,
                        toolbars: [
                            ["fullscreen", "source", "preview", "|", "bold", "italic", "underline", "strikethrough", "forecolor", "backcolor", "|", "justifyleft", "justifycenter", "justifyright", "|", "insertorderedlist", "insertunorderedlist", "blockquote", "emotion", "link", "removeformat", "|", "rowspacingtop", "rowspacingbottom", "lineheight", "indent", "paragraph", "fontfamily", "fontsize", "|", "inserttable", "deletetable", "insertparagraphbeforetable", "insertrow", "deleterow", "insertcol", "deletecol", "mergecells", "mergeright", "mergedown", "splittocells", "splittorows", "splittocols", "|", "anchor", "map", "print", "drafts"]
                        ],
                        elementPathEnabled: !1,
                        initialFrameHeight: 200,
                        focus: !1,
                        maximumWords: 9999999999999,
                        autoFloatEnabled: !1
                    };
                    e = UE.getEditor("editor", i), n.data("editor", e), e.addListener("contentChange", function() {
                        t.value = e.getContent().replace(/\&quot\;/g, '"'), t.$root.$$phase || t.$apply("value")
                    }), $(n).parents("form").submit(function() {
                        e.queryCommandState("source") && e.execCommand("source")
                    }), e.addListener("ready", function() {
                        e && e.getContent() != t.value && e.setContent(t.value), t.$watch("value", function(t) {
                            e && e.getContent() != t && e.setContent(t || "")
                        })
                    })
                }
            }
        };
        return e
    }), angular.module("replyFormApp").filter("nl2br", ["$sce",
        function(e) {
            return function(t) {
                return t ? e.trustAsHtml(t.replace(/\n/g, "<br/>")) : ""
            }
        }
    ]), angular.module("cloudApp", ["app"]), angular.module("cloudApp").controller("FileProcessorCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.files = n.files, e.fails = [];
            var a = e.files.length,
                i = 1,
                s = "",
                o = n.tasknum && "" != n.type ? n.tasknum : 1;
            o > a && (o = 1);
            var r = function() {
                var o = e.files.pop();
                if (!o && i >= a) return util.message("文件同步完成，正在处理数据同步......"), void("theme" == n.type ? location.href = "./index.php?c=cloud&a=process&step=schemas&t=" + n.appname + "&is_upgrade=" + n.is_upgrade : "webtheme" == n.type ? location.href = "./index.php?c=cloud&a=process&step=schemas&w=" + n.appname + "&is_upgrade=" + n.is_upgrade : location.href = "./index.php?c=cloud&a=process&step=schemas&m=" + n.appname + "&is_upgrade=" + n.is_upgrade + "&batch=1&account_type=" + n.account_type);
                e.file = o, e.pragress = i + "/" + a;
                var l = {
                    path: o,
                    type: n.type
                };
                t.post(location.href, l).success(function(t) {
                    i++, "success" != t && (e.fails.push("[" + t + "] " + o), s = t), r()
                }).error(function() {
                    i++, e.fails.push(o), r()
                })
            };
            for (j = 0; j < o; j++) r()
        }
    ]).controller("SchemasProcessorCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.schemas = n.schemas, e.fails = [];
            n.is_module_install;
            var a = e.schemas.length,
                i = 1,
                s = function() {
                    util.message("未能成功执行处理数据库, 请联系开发商解决. ")
                },
                o = function() {
                    var n = e.schemas.pop();
                    if (!n) return e.fails.length > 0 ? void s() : void(location.href = "");
                    e.schema = n, e.pragress = i + "/" + a;
                    var r = {
                        table: n
                    };
                    t.post(location.href, r).success(function(t) {
                        i++, "success" != t && e.fails.push(n), t.message ? util.message(t.message) : o()
                    }).error(function() {
                        i++, e.fails.push(n), o()
                    })
                };
            o()
        }
    ]).controller("CloudDiagnoseCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.showToken = function() {
                util.message("Token:" + $("#token").val(), "", "info")
            }, $(".js-checkip p").each(function() {
                var e = $(this);
                $.getJSON("./index.php?c=cloud&a=diagnose&do=testapi&ip=" + e.find("#serverdnsip").html(), function(t) {
                    e.find("#checkresult").html(t.message.message)
                })
            }), $.ajax({
                type: "get",
                data: {
                    date: n.date,
                    version: n.version,
                    siteurl: n.siteurl
                },
                url: "//s.we7.cc/index.php?c=site&a=diagnose&jsonpcallback=?",
                dataType: "jsonp",
                success: function(e) {
                    "0" == e.check_time.errno ? $("#check-time").html('<i class="fa fa-check text-success"></i> 正常') : $("#check-time").html('<i class="fa fa-remove text-warning"></i> 异常，当前时间为：' + e.check_time.message.localtime + "; 服务器时间为：" + e.check_time.message.servertime), "0" == e.check_touch.errno ? $("#check-touch").html('<i class="fa fa-check text-success"></i> 正常') : $("#check-touch").html('<i class="fa fa-remove text-warning"></i> 异常，' + e.check_touch.message)
                },
                error: function() {
                    alert("fail")
                }
            })
        }
    ]), angular.module("fansApp", ["app"]).value("config", {
        running: !1,
        syncState: "",
        downloadState: ""
    }).controller("DisplayCtrl", ["$scope", "$http", "config", "$q",
        function(e, t, n, a) {
            e.config = n, e.addTagUrl = n.addTagUrl, e.tag = "", e.searchMod = n.searchMod, e.closeValue = 0, e.switchSearchMod = function(t) {
                e.searchMod = t, e.$apply(e.searchMod)
            }, e.addTag = function() {
                t.post(e.addTagUrl, {
                    tag: e.tag
                }).success(function(e) {})
            }, e.downloadFans = function(a, i) {
                i || (i = 0), void 0 == a && (a = "", util.message("正在下载粉丝数据...")), t.post(n.syncAllUrl, {
                    next_openid: a
                }).success(function(t) {
                    if (0 != t.message.errno) {
                        var n = "";
                        return "string" == typeof t.message ? n = t.message : "string" == typeof t.message.message && (n = t.message.message), util.message("粉丝下载失败。具体原因：" + n), !1
                    }
                    if (i += parseInt(t.message.message.count), t.message.message.total <= i || !t.message.message.count && !t.message.message.next) return e.sync("all"), !1;
                    e.downloadFans(t.message.message.next, i)
                })
            }, e.sync = function(i, s) {
                if ("all" == i) s || ((s = {}).pageindex = 0, s.total = 0, util.message("粉丝数据下载完成。开始更新粉丝数据...", "", "success")), s.type = "all";
                else {
                    if (s = {
                        type: "check",
                        openids: []
                    }, $(".openid:checked").each(function() {
                        s.openids.push(this.value)
                    }), 0 == s.openids.length) return util.message("请选择粉丝", "", "info"), !1;
                    util.message("正在同步粉丝数据请不要关闭浏览器...")
                }
                s.pageindex > 0 && 0 == e.closeValue && ($("#modal-message").modal("hide"), util.dialog("更新进度", '<div class="progress"> <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="' + s.pageindex / s.total * 100 + '" aria-valuemin="0" aria-valuemax="100" style="width: ' + s.pageindex / s.total * 100 + '%"><span class="sr-only"></span></div></div>', "", {
                    containerName: "link-container"
                }).modal("show")), $(".close").click(function() {
                    e.closeValue = 1
                });
                var o = a.defer();
                o.promise.then(function() {
                    t.post(e.config.syncUrl, s).success(function(t) {
                        if (void 0 == t.message) return util.message("更新失败！可能是由于你当前网络不稳定，请稍后再试。", "", "info"), !1;
                        if (0 == t.message.errno) {
                            if ("success" == t.message.message || t.message.message.total == t.message.message.pageindex) return util.message("同步粉丝数据成功", n.msgUrl, "success"), !1;
                            e.sync("all", {
                                pageindex: t.message.message.pageindex,
                                total: t.message.message.total
                            })
                        } else {
                            if (++s.pageindex > s) return util.message("同步粉丝数据成功", n.msgUrl, "success"), !1;
                            e.sync("all", {
                                pageindex: ++s.pageindex,
                                total: s.total
                            })
                        }
                    })
                }, function(e) {}), 1 == e.closeValue ? e.closeValue = 0 : o.resolve()
            }
        }
    ]).controller("chatsCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            send = function() {
                types = [], types.text = $('[name="reply[reply_basic]"]').val(), types.news = $('[name="reply[reply_news]"]').val(), types.image = $('[name="reply[reply_image]"]').val(), types.music = $('[name="reply[reply_music]"]').val(), types.voice = $('[name="reply[reply_voice]"]').val(), types.video = $('[name="reply[reply_video]"]').val(), types.wxcard = $('[name="reply[reply_wxcard]"]').val();
                for (type in types)
                    if ("" != types[type]) {
                        msg_type = type, msg_content = types[type];
                        break
                    }
                $.post(n.sendurl, {
                    type: msg_type,
                    content: msg_content
                }, function(t) {
                    -1 == (t = $.parseJSON(t)).message.errno ? util.message("由于粉丝48小时内未与你互动，你不能主动与粉丝聊天", "", "info") : (e.chatLogs.unshift({
                        flag: 1,
                        createtime: t.message.message.createtime,
                        content: t.message.message.content
                    }), e.$apply())
                })
            }, e.chatLogs = n.chatLogs, window.onbeforeunload = function() {
                $.get(n.endurl, {}, function(e) {})
            }
        }
    ]), angular.module("homeApp", ["app"]), angular.module("homeApp").controller("WelcomeCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.notices = n.notices, e.loaderror = 0, e.last_modules = null, e.fans_kpi = [], t({
                method: "POST",
                url: "./index.php?c=home&a=welcome&do=get_fans_kpi"
            }).success(function(t) {
                0 == t.message.errno && (e.fans_kpi = t.message.message)
            }), e.get_last_modules = function() {
                t.post("./index.php?c=home&a=welcome&do=get_last_modules").success(function(t) {
                    if (0 == t.message.errno) {
                        var n = [];
                        angular.forEach(t.message.message, function(e, t) {
                            e.wxapp || n.push(e)
                        }), e.last_modules = n
                    } else e.last_modules = null, e.loaderror = 1
                })
            }, e.get_last_modules()
        }
    ]), angular.module("massApp", ["app"]), angular.module(["massApp"]).controller("MassSend", ["$scope", "$http", "config",
        function(e, t, n) {
            e.showLog = function(e) {
                var a = parseInt(e),
                    i = $("#" + a);
                t.post(n.logUrl, {
                    tid: a,
                    type: "mass",
                    module: "task"
                }).success(function(e) {
                    var t = "";
                    (e = angular.toJson(e)).message && 0 != e.message.items.length ? $.each(e.message.items, function(e, n) {
                        t += "<tr><td>" + n.createtime + " " + n.note + "</td></tr>"
                    }) : t = '<tr><td class="text-center"><i class="fa fa-info-circle"></i> 暂无数据</td></tr>', i.popover({
                        html: !0,
                        placement: "left",
                        trigger: "manual",
                        title: "触发日志",
                        content: '<table class="table-cron table">' + t + "</table>"
                    }), i.popover("toggle")
                })
            }, e.hideLog = function(e) {
                var t = parseInt(e);
                $("#" + t).popover("toggle")
            }
        }
    ]), angular.module("massApp").controller("MassPost", ["$scope", "config",
        function($scope, config) {
            $scope.groups = config.groups, $scope.massdata = config.massdata, $scope.clock = config.massdata ? config.massdata.clock : "08:00", $.isFunction(window.initReplyController) && window.initReplyController($scope), 1 == $scope.massdata.type ? $(".sendtime").show() : $(".sendtime").hide(), $(".mass-type").change(function() {
                1 == $("select[name='type']").val() ? $(".sendtime").show() : $(".sendtime").hide()
            }), $scope.checkSubmit = function(e) {
                var selectedGroup = $(".mass-group").val();
                if ("" == selectedGroup) return e.preventDefault(), util.message("请选择群发对象"), !1;
                if (angular.forEach($scope.groups, function(e, t) {
                    e.id == selectedGroup && $(':hidden[name="group"]').val(angular.toJson(e))
                }), "" == $scope.clock) return e.preventDefault(), util.message("请选择群发具体时间"), !1;
                if ("0" == config.day) {
                    var selectedTime = $scope.clock.split(":"),
                        d = new Date,
                        hours = d.getHours(),
                        minutes = d.getMinutes();
                    if (selectedTime[0] < hours || selectedTime[0] == hours && selectedTime[1] < minutes) return e.preventDefault(), util.message("发送时间不能小于当前时间"), !1
                }
                var reply_news = $(':hidden[name="reply[reply_news]"]').val(),
                    reply_image = $(':hidden[name="reply[reply_image]"]').val(),
                    reply_music = $(':hidden[name="reply[reply_music]"]').val(),
                    reply_voice = $(':hidden[name="reply[reply_voice]"]').val(),
                    reply_video = $(':hidden[name="reply[reply_video]"]').val();
                if ("" == reply_news && "" == reply_image && "" == reply_music && "" == reply_voice && "" == reply_video) return e.preventDefault(), util.message("请选择群发素材"), !1;
                if ("" != reply_news) {
                    if ("perm" != (reply_news = eval("(" + reply_news + ")")).model) return e.preventDefault(), util.message("定时群发不支持本地/服务器素材，请选择微信素材"), !1;
                    $(':hidden[name="reply[reply_news]"]').val(reply_news.mediaid)
                }
                "" != reply_image && (reply_image = eval("(" + reply_image + ")"), $(':hidden[name="reply[reply_image]"]').val(reply_image)), "" != reply_music && (reply_music = eval("(" + reply_music + ")"), $(':hidden[name="reply[reply_music]"]').val(reply_music)), "" != reply_voice && (reply_voice = eval("(" + reply_voice + ")"), $(':hidden[name="reply[reply_voice]"]').val(reply_voice)), "" != reply_video && (reply_video = eval("(" + reply_video + ")"), $(':hidden[name="reply[reply_video]"]').val(reply_video.mediaid))
            }, $(".clockpicker").clockpicker({
                autoclose: !0
            })
        }
    ]), angular.module("massApp").controller("MassDisplay", ["$scope", "$http", "config",
        function(e, t, n) {
            e.days = n.days, e.delMass = function(n, a) {
                var n = parseInt(n),
                    a = parseInt(a);
                return !!confirm("确认清空这条群发吗?") && (t.post("./index.php?c=platform&a=mass&do=del", {
                    id: n
                }).success(function(t, n) {
                    t.message.errno ? util.message("清空群发失败:<br>" + t.message.message, "", "error") : e.days[a].info = ""
                }), !1)
            }, e.toEdit = function(e) {
                var e = parseInt(e);
                window.location.href = "./index.php?c=platform&a=mass&do=post&day=" + e
            }, e.preview = function(n) {
                var n = parseInt(n);
                if (!e.days[n].info) return util.message("群发内容错误！"), !1;
                var a = e.days[n].info.media_id,
                    i = e.days[n].info.msgtype;
                $("#modal-view").modal("show"), $("#modal-view .btn-view").unbind().click(function() {
                    var e = $.trim($("#modal-view #wxname").val());
                    return e ? ($("#modal-view").modal("hide"), t.post("./index.php?c=platform&a=mass&do=preview", {
                        media_id: a,
                        wxname: e,
                        type: i
                    }).success(function(e) {
                        0 != e.message.errno ? util.message(e.message.message) : util.message("发送成功", "", "success")
                    }), !1) : (util.message("微信号不能为空", "", "error"), !1)
                })
            }
        }
    ]), angular.module("materialApp", ["app"]), angular.module("materialApp").directive("ngMyEditor", function() {
        return {
            scope: {
                value: "=ngMyValue"
            },
            template: '<textarea id="editor" style="height:600px;width:100%;"></textarea>',
            link: function(e, t, n) {
                t.data("editor") || util.editor("editor", {
                    allow_upload_video: 0,
                    callback: function(n, a) {
                        t.data("editor", a), a.addListener("contentChange", function() {
                            e.value = a.getContent(), e.$root.$$phase || e.$apply("value")
                        }), a.addListener("ready", function() {
                            a && a.getContent() != e.value && a.setContent(e.value), e.$watch("value", function(e) {
                                a && a.getContent() != e && a.setContent(e || "")
                            })
                        })
                    }
                })
            }
        }
    }).controller("materialDisplay", ["$scope", "$http", "config",
        function(e, t, n) {
            e.materialList = n.materialList, e.groups = n.group, e.config = n, e.group = "", e.materialType = "", e.materialId = "", e.syncNews = n.syncNews, e.hidenbutton = 0, e.sync = function(a, i, s, o, r) {
                $(window).bind("beforeunload", function() {
                    return "您输入的内容尚未保存，确定离开此页面吗？"
                }), void 0 == i ? util.message("正在同步素材，请勿关闭浏览器...") : util.message("已同步" + parseInt((i - 1) / s * 100) + "%，请勿关闭浏览器..."), t.post(n.sync_url, {
                    type: a,
                    pageindex: i,
                    total: s,
                    wechat_existid: o,
                    original_newsid: r
                }).success(function(t) {
                    0 == t.message.errno ? ($(window).unbind("beforeunload"), util.message("同步素材成功", "./index.php?c=platform&a=material&type=" + a, "success")) : (sync_info = t.message.message, e.sync(sync_info.type, sync_info.pageindex, sync_info.total, sync_info.wechat_existid, sync_info.original_newsid))
                })
            }, 1 == e.syncNews && e.sync("news"), e.upload = function(e, t, n) {
                fileUploader.init(function() {
                    util.message("上传成功", location.href, "success")
                }, {
                    type: e,
                    direct: !0,
                    multiple: t,
                    isWechat: n
                })
            }, e.del_material = function(e, a, i) {
                if (!confirm("删除不可恢复确认删除吗？")) return !1;
                t.post(n.del_url, {
                    material_id: a,
                    type: e,
                    server: i
                }).success(function(t) {
                    0 != t.message.errno ? util.message("删除失败,具体原因:" + t.message.message, "", "info") : util.message("删除成功", "./index.php?c=platform&a=material&type=" + e + ("local" == i ? "&islocal=true" : ""), "success")
                })
            }, e.checkGroup = function(t, n) {
                $("#check-group").modal("show"), e.materialType = t, e.materialId = n, e.group = ""
            }, e.transToWechat = function(a, i) {
                util.message("素材转换将在后台运行，成功后后自动刷新页面，请勿关闭浏览器..."), t.post(n.trans_url, {
                    material_id: i
                }).success(function(t) {
                    0 != t.message.errno ? util.message("转换失败,具体原因:" + t.message.message, "", "info") : e.sync(a)
                })
            }, e.newsToWechat = function(n) {
                util.message("素材转换将在后台运行，成功后后自动刷新页面，请勿关闭浏览器..."), t.post(e.config.postwechat_url, {
                    material_id: n
                }).success(function(e) {
                    0 == e.message.errno ? util.message("已保存", "./index.php?c=platform&a=material", "success") : alert("创建图文失败" + e.message.message.message)
                })
            }, e.sendMaterial = function() {
                t.post(e.config.send_url, {
                    type: e.materialType,
                    id: e.materialId,
                    group: e.group
                }).success(function(t) {
                    1 == t.message.errno ? util.message(t.message.message, "", "info") : util.message("群发成功", "./index.php?c=platform&a=material&type=" + e.materialType, "success")
                })
            }, e.createNew = function(t) {
                var n = e.config.create_new_url + "&new_type=" + t;
                window.location = n
            }
        }
    ]).controller("materialAdd", ["$scope", "material", "$http", "$timeout",
        function(e, t, n, a) {
            e.config = t, e.operate = t.operate, e.new_type = t.new_type, e.hidenbutton = "reply" == t.new_type ? 0 : 1, e.changeClass = function() {
                angular.forEach(e.materialList, function(t, n) {
                    e.materialList[n].class = "0" == n ? e.activeIndex == n ? "cover-appmsg-item active" : "cover-appmsg-item" : e.activeIndex == n ? "appmsg-item active" : "appmsg-item"
                })
            }, e.tomedia = function(e) {
                var n = "";
                return $.ajax({
                    url: t.url,
                    async: !1,
                    data: {
                        url: e
                    },
                    success: function(e) {
                        var e = $.parseJSON(e);
                        n = e.message.message
                    }
                }), n
            }, e.changeOrder = function(n, a) {
                t = {}, "down" == n ? (t = e.materialList[a], e.materialList[a] = e.materialList[a + 1], e.materialList[a + 1] = t) : (t = e.materialList[a], e.materialList[a] = e.materialList[a - 1], e.materialList[a - 1] = t)
            }, e.deleteMaterial = function(t) {
                confirm("确定要删除吗？") && (e.materialList.splice(t, 1), e.activeIndex = e.activeIndex - 1)
            }, e.changeIndex = function(t) {
                e.activeIndex = t, e.changeClass()
            }, e.addMaterial = function() {
                void 0 == e.materialList ? (e.materialList = [], e.activeIndex = 0) : e.activeIndex = e.materialList.length, e.materialList.push({
                    id: "",
                    title: "",
                    author: "",
                    thumb: "",
                    media_id: "",
                    displayorder: "0",
                    digest: "",
                    content: "",
                    content_source_url: "",
                    show_cover_pic: 0,
                    class: ""
                }), e.changeClass()
            }, "add" == e.operate && "reply" != e.config.type ? e.addMaterial() : (e.activeIndex = 0, e.materialList = [], angular.forEach(t.materialList, function(t, n) {
                t.thumb_url = e.tomedia(t.thumb_url), e.materialList[n] = {
                    id: t.id,
                    title: t.title,
                    author: t.author,
                    thumb: t.thumb_url,
                    media_id: t.thumb_media_id,
                    displayorder: n,
                    digest: t.digest,
                    content: t.content,
                    content_source_url: t.content_source_url,
                    url: t.url,
                    show_cover_pic: isNaN(Number(t.show_cover_pic)) ? 0 : Number(t.show_cover_pic),
                    class: ""
                }
            }), e.changeClass()), e.pickPicture = function(t) {
                isWechat = "wechat" == t, fileUploader.init(function(t) {
                    e.materialList[e.activeIndex].thumb = t.url, e.materialList[e.activeIndex].media_id = t.media_id, e.$apply()
                }, {
                    type: "image",
                    direct: !0,
                    multiple: !1,
                    isWechat: isWechat,
                    image_limit: e.config.image_limit,
                    voice_limit: e.config.voice_limit,
                    video_limit: e.config.video_limit
                })
            }, e.updateSelection = function() {
                e.materialList[e.activeIndex].show_cover_pic = isNaN(Number(!e.materialList[e.activeIndex].show_cover_pic)) ? 0 : Number(!e.materialList[e.activeIndex].show_cover_pic)
            }, e.saveNews = function(t) {
                news = [];
                var a = "",
                    i = "";
                if (angular.forEach(e.materialList, function(e, n) {
                    "" == e.title ? (a = n, i = "请输入标题后,再点击保存按钮") : "" == e.content && "wechat" == t ? (a = n, i = "请输入一段正文,再点击保存按钮") : "" == e.content && "wechat" == t ? (a = n, i = "图文内容中图片上传失败，请重新上传") : (e.displayorder = n + 1, news[n] = e)
                }), "" !== a) return e.activeIndex = a, e.changeClass(), alert(i), !1;
                util.message("正在生成图文消息，请勿关闭浏览器...");
                var s = "add" == e.config.operate ? "" : e.config.materialList[0].attach_id;
                n.post(e.config.newsUpload_url, {
                    news: news,
                    operate: e.operate,
                    attach_id: s,
                    type: e.config.type,
                    target: t,
                    news_rid: e.config.news_rid
                }).success(function(t) {
                    0 == t.message.errno ? util.message("已保存", e.config.msg_url, "success") : alert("创建图文失败" + t.message.message)
                })
            }, e.exportFromCms = function() {
                e.searchCms()
            }, e.searchCms = function(t) {
                var a = {};
                a.header = '<ul role="tablist" class="nav nav-pills" style="font-size:14px; margin-top:-20px;">\t<li role="presentation" class="active" id="li_goodslist"><a data-toggle="tab" role="tab" aria-controls="articlelist" href="#articlelist">文章列表</a></li></ul>', a.content = '<div class="tab-content"><div id="articlelist" class="tab-pane active" role="tabpanel">\t<table class="table table-hover">\t\t<thead class="navbar-inner">\t\t\t<tr>\t\t\t\t<th style="width:40%;">标题</th>\t\t\t\t<th style="width:30%">创建时间</th>\t\t\t\t<th style="width:30%; text-align:right">\t\t\t\t\t<div class="input-group input-group-sm hide">\t\t\t\t\t\t<input type="text" class="form-control">\t\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t\t<button class="btn btn-default" type="button"><i class="fa fa-search"></i></button>\t\t\t\t\t\t</span>\t\t\t\t\t</div>\t\t\t\t</th>\t\t\t</tr>\t\t</thead>\t\t<tbody></tbody>\t</table>\t<div id="pager" style="text-align:center;"></div></div></div>', a.footer = "", a.articleitem = '<%_.each(list, function(item) {%> \n<tr>\n\t<td><a href="#" data-cover-attachment-url="<%=item.attachment%>" title="<%=item.title%>"><%=item.title%></a></td>\n\t<td><%=item.createtime%></td>\n\t<td class="text-right">\n\t\t<button class="btn btn-default js-btn-select" js-id="<%=item.id%>">选取</button>\n\t</td>\n</tr>\n<%});%>\n', $("#link-search-cms")[0] ? e.modalobj = $("#link-search-cms").data("modal") : (e.modalobj = util.dialog(a.header, a.content, a.footer, {
                    containerName: "link-search-cms"
                }), e.modalobj.find(".modal-body").css({
                    height: "680px",
                    "overflow-y": "auto"
                }), e.modalobj.modal("show"), e.modalobj.on("hidden.bs.modal", function() {
                    e.modalobj.remove()
                }), $("#link-search-cms").data("modal", e.modalobj)), t = t || 1, n.get("./index.php?c=utility&a=link&do=articlelist&page=" + t).success(function(t, n, i, s) {
                    t.message.message.list && (e.modalobj.find("#articlelist").data("articles", t.message.message.list), e.modalobj.find("#articlelist tbody").html(_.template(a.articleitem)(t.message.message)), e.modalobj.find("#pager").html(t.message.message.pager), e.modalobj.find("#pager .pagination li[class!='active'] a").click(function() {
                        return e.searchCms($(this).attr("page")), !1
                    }), e.modalobj.find(".js-btn-select").click(function() {
                        e.addCms($(this).attr("js-id")), e.$apply(), e.modalobj.modal("hide")
                    }))
                })
            }, e.addCms = function(t) {
                var n = e.modalobj.find("#articlelist").data("articles")[t];
                e.materialList[e.activeIndex].title = n.title, e.materialList[e.activeIndex].thumb = n.thumb_url, e.materialList[e.activeIndex].author = n.author, e.materialList[e.activeIndex].incontent = 1 == n.incontent, e.materialList[e.activeIndex].description = n.description, e.materialList[e.activeIndex].content = n.content, e.materialList[e.activeIndex].content_source_url = n.linkurl, e.materialList[e.activeIndex].detail = "" != n.content
            }
        }
    ]), angular.module("memberAPP", ["app"]), angular.module("memberAPP").controller("group", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.group_level = e.config.group_level, e.group_person_count = e.config.group_person_count, e.group_list = e.config.group_list, e.default_group = e.config.default_group, e.set_group_detail_info = function(n) {
                e.group_detail = {}, t.post(e.config.get_group_url, {
                    group_id: n
                }).success(function(t) {
                    1 == t.message.errno ? util.message(t.message.message, "", "error") : e.group_detail = t.message.message
                }), $("#group_detail").modal("show")
            }, e.change_group_level = function() {
                t.post(e.config.change_group_level_url, {
                    group_level: e.group_level
                }).success(function(e) {
                    0 == e.message.errno ? util.modal_message("", "设置成功", "", "success") : util.message("设置失败", "", "error")
                })
            }, e.save_group = function() {
                if ("" == e.group_detail.title) return util.message("请填写会员组名称", "", "error"), !1;
                t.post(e.config.save_group_url, {
                    group: e.group_detail
                }).success(function(t) {
                    1 == t.message.errno && util.message(t.message.message, "", "error"), 2 == t.message.errno && ($("#group_detail").modal("hide"), e.group_list[e.group_detail.groupid] = e.group_detail, util.message(t.message.message, "", "success")), 3 == t.message.errno && (groupid = t.message.message.groupid, e.group_list[groupid] = t.message.message, $("#group_detail").modal("hide"), util.message("添加成功", "", "success"))
                })
            }, e.set_default = function(n) {
                t.post(e.config.set_default_url, {
                    group_id: n
                }).success(function(t) {
                    0 == t.message.errno ? (e.group_list[n].isdefault = 1, e.group_list[e.default_group.groupid].isdefault = 0, e.default_group = e.group_list[n], e.apply(e), util.message("设置成功", "", "success")) : util.message("设置失败", "", "error")
                })
            }, e.del_group = function(n) {
                if (!confirm("确定要删除吗？")) return !1;
                t.post(e.config.del_group_url, {
                    group_id: n
                }).success(function(t) {
                    0 == t.message.errno ? (delete e.group_list[n], util.message("删除成功", "", "success")) : util.message("删除失败", "", "error")
                })
            }
        }
    ]), angular.module("menuApp", ["app"]), angular.module("menuApp").controller("menuDisplay", ["$scope", "config", "$http",
        function(e, t, n) {
            e.changeStatus = function(e, a, i) {
                a = 1 == a ? 2 : 1, 3 == i && (1 == a ? $(".js-switch-" + e).addClass("switchOn") : 2 == a && $(".js-switch-" + e).removeClass("switchOn")), n.post(t.push_url, {
                    id: e
                }).success(function(e) {
                    0 == e.message.errno ? util.message(e.message.message, e.redirect) : 3 == i ? util.message(e.message.message, "error") : util.message(e.message.message, e.redirect, "error")
                })
            }
        }
    ]), angular.module("menuApp").controller("conditionMenuDesigner", ["$scope", "config", "$http",
        function(e, t, n) {
            current_menu_url = t.current_menu_url, require(["underscore", "jquery.ui", "jquery.caret", "district"], function(e, t, t, n) {
                t(".tpl-district-container").each(function() {
                    var e = {};
                    e.province = t(this).find(".tpl-province")[0], e.city = t(this).find(".tpl-city")[0];
                    var a = {};
                    a.province = t(e.province).data("value"), a.city = t(e.city).data("value"), n.render(e, a, {
                        withTitle: !0,
                        wechat: !0
                    })
                }), t(".sub-designer-y").sortable({
                    items: ".sub-js-sortable",
                    axis: "y",
                    cancel: ".sub-js-not-sortable"
                }), t(".designer-x").sortable({
                    items: ".js-sortable",
                    axis: "x"
                })
            }), e.context = {}, e.context.group = t.group, t.id > 0 && 1 != t.type && 1 == t.status && (e.context.group.disabled = 1), e.context.group || (e.context.group = {
                title: "",
                type: t.type,
                button: [{
                    name: "菜单名称",
                    type: "click",
                    url: "",
                    key: "",
                    media_id: "",
                    appid: "",
                    pagepath: "",
                    sub_button: []
                }],
                matchrule: {
                    sex: 0,
                    client_platform_type: 0,
                    group_id: -1,
                    country: "",
                    province: "",
                    city: "",
                    language: ""
                }
            }), e.$watch("context.group.matchrule.province", function(e, t) {
                "" == e ? $(".tpl-city").hide() : $(".tpl-city").show()
            }), e.context.activeIndex = 0, e.context.activeBut = e.context.group.button[e.context.activeIndex], e.context.activeItem = e.context.activeBut, e.context.activeType = 1, e.context.remove = function() {
                return !!confirm("删除默认菜单会清空所有菜单记录，确定吗？") && (location.href = t.delete_url, !1)
            }, e.context.submit = function() {
                var a = e.context.group;
                a.button = _.sortBy(a.button, function(e) {
                    return $(':hidden[data-role="parent"][data-hash="' + e.$$hashKey + '"]').parent().index()
                }), angular.forEach(a.button, function(e) {
                    e.sub_button = _.sortBy(e.sub_button, function(e) {
                        return $(':hidden[data-role="sub"][data-hash="' + e.$$hashKey + '"]').parent().index()
                    })
                });
                $(':hidden[name="menu_media"]').val();
                if (!$.trim(a.title)) return util.message("没有设置菜单组名称", "", "error"), !1;
                if (2 == t.type && !(a.matchrule.sex || a.matchrule.client_platform_type || -1 != a.matchrule.group_id || a.matchrule.province || a.matchrule.city)) return util.message("没有设置个性化菜单的匹配规则", "", "error"), !1;
                if (a.button.length < 1) return util.message("没有设置菜单", "", "error"), !1;
                var i = {
                    name: "",
                    action: ""
                };
                angular.forEach(a.button, function(e, t) {
                    "" == $.trim(e.name) && (this.name += "第" + (t + 1) + "个一级菜单未设置菜单名称<br>"), e.sub_button.length > 0 ? angular.forEach(e.sub_button, function(n, a) {
                        "" == $.trim(n.name) && (this.name += "第" + (t + 1) + "个一级菜单中的第" + (a + 1) + "个二级菜单未设置菜单名称<br>"), "view" == n.type && n.url.indexOf("http") < 0 && (this.action += "第" + (t + 1) + "个一级菜单中的第" + (a + 1) + "个二级菜单跳转链接缺少http标识<br>"), "miniprogram" == n.type && ("" == $.trim(n.appid) && (this.action += "第" + (t + 1) + "个一级菜单中的第" + (a + 1) + "个二级菜单需设置APPID<br>"), "" == $.trim(n.pagepath) && (this.action += "第" + (t + 1) + "个一级菜单中的第" + (a + 1) + "个二级菜单需设置页面跳转地址<br>"), "" == $.trim(n.url) && (this.action += "第" + (t + 1) + "个一级菜单中的第" + (a + 1) + "个二级菜单需设置备用页跳转地址<br>")), ("view" == n.type && "" == $.trim(n.url) || "click" == n.type && "" == n.media_id && "" == n.key || "view" != n.type && "click" != n.type && "miniprogram" != n.type && "" == $.trim(n.key)) && (this.action += "菜单【" + e.name + "】的子菜单【" + n.name + "】未设置操作选项. <br />")
                    }, i) : ("view" == e.type && e.url.indexOf("http") < 0 && (this.action += "菜单【" + e.name + "】跳转链接缺少http标识. <br />"), "miniprogram" == e.type && ("" == $.trim(e.appid) && (this.action += "菜单【" + e.name + "】需设置APPID. <br />"), "" == $.trim(e.pagepath) && (this.action += "菜单【" + e.name + "】需设置页面跳转地址. <br />"), "" == $.trim(e.url) && (this.action += "菜单【" + e.name + "】需设置备用页跳转地址. <br />")), ("view" == e.type && "" == $.trim(e.url) || "click" == e.type && "" == e.media_id && "" == e.key || "view" != e.type && "click" != e.type && "miniprogram" != e.type && "" == $.trim(e.key)) && (this.action += "菜单【" + e.name + "】不存在子菜单并且未设置操作选项. <br />"))
                }, i), i.name ? util.message(i.title, "", "error") : i.action ? util.message(i.action, "", "error") : ($("#btn-submit").attr("disabled", !0), n.post(location.href, {
                    group: a,
                    method: "post"
                }).success(function(e) {
                    0 != e.message.errno ? ($("#btn-submit").attr("disabled", !1), util.message(e.message.message, "", "error")) : util.message("创建菜单成功. ", e.redirect, "success")
                }))
            }, e.context.triggerActiveBut = function(t) {
                var n = $.inArray(t, e.context.group.button);
                if (-1 == n) return !1;
                e.context.activeIndex = n, e.context.activeBut = e.context.group.button[e.context.activeIndex], e.context.activeItem = e.context.activeBut, e.context.activeType = 1, e.context.activeItem.forceHide = 0
            }, e.context.editBut = function(t, a, i) {
                e.context.triggerActiveBut(a), t ? (e.context.activeItem = t, e.context.activeType = 2) : (e.context.activeItem = a, e.context.activeType = 1), 1 == e.context.activeType && e.context.activeItem.sub_button.length > 0 ? e.context.activeItem.forceHide = 1 : e.context.activeItem.forceHide = 0, i && (e.context.activeItem.material = [], "view" != e.context.activeItem.type && "click" != e.context.activeItem.type && (e.context.activeItem.key ? current_type = e.context.activeItem.key.substr(0, 6) : current_type = "click", "module" == current_type ? e.context.activeItem.etype = "module" : e.context.activeItem.etype = "click"), n.post(current_menu_url, {
                    current_menu: e.context.activeItem
                }).success(function(t) {
                    0 == t.message.errno && e.context.activeItem.material.push(t.message.message)
                }))
            }, e.context.addBut = function() {
                if (!(e.context.group.button.length >= 3)) {
                    e.context.group.button.push({
                        name: "菜单名称",
                        type: "click",
                        url: "",
                        key: "",
                        media_id: "",
                        appid: "",
                        pagepath: "",
                        sub_button: []
                    });
                    var t = e.context.group.button[e.context.group.button.length - 1];
                    e.context.triggerActiveBut(t), $(".designer-x").sortable({
                        items: ".js-sortable",
                        axis: "x"
                    })
                }
            }, e.context.removeBut = function(t, n) {
                if (1 == n) {
                    if (!confirm("将同时删除所有子菜单,是否继续")) return !1;
                    e.context.group.button = _.without(e.context.group.button, t), e.context.triggerActiveBut(e.context.group.button[0])
                } else e.context.activeBut.sub_button = _.without(e.context.activeBut.sub_button, t), e.context.triggerActiveBut(e.context.activeBut);
                e.context.activeItem.sub_button.length > 0 ? e.context.activeItem.forceHide = 1 : e.context.activeItem.forceHide = 0
            }, e.context.addSubBut = function(t) {
                if (1 == e.context.group.disabled) return !1;
                e.context.triggerActiveBut(t), e.context.activeBut.sub_button.length >= 5 || (e.context.activeBut.sub_button.push({
                    name: "子菜单名称",
                    type: "click",
                    url: "",
                    key: "",
                    appid: "",
                    pagepath: "",
                    media_id: ""
                }), $(".sub-designer-y").sortable({
                    items: ".sub-js-sortable",
                    axis: "y",
                    cancel: ".sub-js-not-sortable"
                }), e.context.activeItem = e.context.activeBut.sub_button[e.context.activeBut.sub_button.length - 1], e.context.activeType = 2, e.context.activeItem.forceHide = 0)
            }, e.context.selectEmoji = function() {
                util.emojiBrowser(function(t) {
                    var n = "::" + t.find("span").text() + "::";
                    $("#title").setCaret(), $("#title").insertAtCaret(n), e.context.activeItem.name = $("#title").val(), e.$digest()
                })
            }, e.context.select_link = function() {
                $(this).parent().prev();
                util.linkBrowser(function(n) {
                    var a = t.site_url;
                    "tel:" != n.substring(0, 4) ? (-1 == n.indexOf("http://") && -1 == n.indexOf("https://") && (n = a + "app" + (n = n.replace("./index.php?", "/index.php?"))), e.context.activeItem.url = n, e.$digest()) : util.message("自定义菜单不能设置为一键拨号")
                })
            }, e.context.search = function() {
                var n = $("#ipt-forward").val();
                $.post(t.search_key_url, {
                    key_word: n
                }, function(t) {
                    var n = (t = $.parseJSON(t)).length,
                        a = "";
                    if (n > 0)
                        for (var i = 0; i < n; i++) a += '<li><a href="javascript:;">' + t[i] + "</a></li>";
                    else a += '<li><a href="javascript:;" id="no-result">没有找到您输入的关键字</a></li>';
                    $("#key-result ul").html(a), $('#key-result ul li a[id!="no-result"]').click(function() {
                        $("#ipt-forward").val($(this).html()), e.context.activeItem.key = $(this).html(), $("#key-result").hide()
                    }), $("#key-result").show()
                })
            }, e.context.select_mediaid = function(t, n) {
                var a = {
                    type: t,
                    ignore: {
                        basic: "basic" !== t,
                        wxcard: "wxcard" !== t,
                        image: "image" !== t,
                        music: "music" !== t,
                        news: "news" !== t,
                        video: "video" !== t,
                        voice: "voice" !== t,
                        keyword: "keyword" !== t,
                        module: "module" !== t
                    },
                    others: {
                        basic: "",
                        news: {
                            showwx: "all" === n || "wx" === n,
                            showlocal: "all" === n || "local" === n
                        }
                    }
                };
                util.material(function(a) {
                    e.context.activeItem.key = "", e.context.activeItem.media_id = a.media_id, e.context.activeItem.material = [], "keyword" == t ? (e.context.activeItem.material.push(a), e.context.activeItem.material[0].type = "keyword", e.context.activeItem.key = "keyword:" + a.child_items[0].content, e.context.activeItem.media_id = "", "1" == n && (e.context.activeItem.material[0].etype = "click", e.context.activeItem.material[0].name = a.name, e.context.activeItem.material[0].content = a.child_items[0].content)) : "image" == t ? e.context.activeItem.material.push(a) : "news" == t ? e.context.activeItem.material.push(a) : "voice" == t ? e.context.activeItem.material.push(a) : "video" == t ? e.context.activeItem.material.push(a) : "module" == t && (e.context.activeItem.key = "module:" + a.name, e.context.activeItem.material.push(a), e.context.activeItem.material[0].module_type = e.context.activeItem.material[0].type, e.context.activeItem.material[0].type = "module", e.context.activeItem.material[0].etype = "module"), e.$digest()
                }, a)
            }, e.context.editBut("", e.context.group.button[0], e.context.group.id)
        }
    ]), angular.module("moduleApp", ["app", "infinite-scroll"]), angular.module("moduleApp").controller("ModuleMoreCtrl", ["$scope", "config",
        function(e, t) {
            e.activeLetter = "", e.searchModule = function(e) {
                location.href = t.searchurl + "&letter=" + e
            }
        }
    ]).controller("moduleGroupCtrl", ["$scope",
        function(e) {
            e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }
        }
    ]).controller("moduleGroupPostCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.moduleGroup = null === n.moduleGroup ? {
                title: ""
            } : n.moduleGroup, e.groupHaveModuleApp = 0 == n.groupHaveModuleApp.length ? {} : n.groupHaveModuleApp, e.groupHaveModuleWxapp = 0 == n.groupHaveModuleWxapp.length ? {} : n.groupHaveModuleWxapp, e.groupNotHaveModuleApp = n.groupNotHaveModuleApp, e.groupNotHaveModuleWxapp = n.groupNotHaveModuleWxapp, e.groupHaveTemplate = 0 == n.groupHaveTemplate.length ? {} : n.groupHaveTemplate, e.groupNotHaveTemplate = n.groupNotHaveTemplate, e.selectedModules = [], e.addModule = function() {
                $("#add_module").modal("show")
            }, e.addModuleWxapp = function() {
                $("#add_module_wxapp").modal("show")
            }, e.adTemplate = function() {
                $("#add_template").modal("show")
            }, e.selectModule = function(t, n) {
                e.selectedModules.push(t), "template" != n ? $("#" + n + "-" + t.mid).removeClass("hidden") : $("#" + n + "-" + t.id).removeClass("hidden"), "module" == n && "" != t.main_module && void 0 != e.groupNotHaveModuleApp[t.main_module] && (e.selectedModules.push(e.groupNotHaveModuleApp[t.main_module]), $("#" + n + "-" + e.groupNotHaveModuleApp[t.main_module].mid).removeClass("hidden"))
            }, e.cancleModule = function(t, n) {
                if (have_plugin = !1, angular.forEach(e.selectedModules, function(e) {
                    e.main_module == t.name && (have_plugin = !0)
                }), 1 == have_plugin) return !1;
                "template" != n ? $("#" + n + "-" + t.mid).addClass("hidden") : $("#" + n + "-" + t.id).addClass("hidden");
                var a = _.indexOf(e.selectedModules, t);
                a > -1 && (e.selectedModules = _.without(e.selectedModules, e.selectedModules[a]))
            }, e.addHaveModule = function() {
                angular.forEach(e.selectedModules, function(t, n) {
                    delete e.groupNotHaveModuleApp[t.name], e.groupHaveModuleApp[t.name] = t
                }), e.selectedModules = [], $("#add_module").modal("hide")
            }, e.addHaveModuleWxapp = function() {
                angular.forEach(e.selectedModules, function(t, n) {
                    delete e.groupNotHaveModuleWxapp[t.name], e.groupHaveModuleWxapp[t.name] = t
                }), e.selectedModules = [], $("#add_module_wxapp").modal("hide")
            }, e.addHaveTemplate = function() {
                angular.forEach(e.selectedModules, function(t, n) {
                    delete e.groupNotHaveTemplate[t.name], e.groupHaveTemplate[t.name] = t
                }), e.selectedModules = [], $("#add_template").modal("hide")
            }, e.delHaveModule = function(t) {
                delete e.groupHaveModuleApp[t.name], e.groupNotHaveModuleApp[t.name] = t, "" != t.plugin && angular.forEach(e.groupHaveModuleApp, function(n) {
                    n.main_module == t.name && (delete e.groupHaveModuleApp[n.name], e.groupNotHaveModuleApp[n.name] = n)
                })
            }, e.delHaveModuleWxapp = function(t) {
                delete e.groupHaveModuleWxapp[t.name], e.groupNotHaveModuleWxapp[t.name] = t
            }, e.delHaveTemplate = function(t) {
                delete e.groupHaveTemplate[t.name], e.groupNotHaveTemplate[t.name] = t
            }, e.saveGroup = function() {
                var n = [];
                angular.forEach(e.groupHaveModuleApp, function(e, t) {
                    n.push(e.name)
                });
                var a = {
                    id: e.moduleGroup.id,
                    name: e.moduleGroup.name,
                    modules: n,
                    wxapp: e.groupHaveModuleWxapp,
                    templates: e.groupHaveTemplate
                };
                if ("" === a.name || void 0 === a.name) return util.message("请输入套餐名", "", "info"), !1;
                t({
                    method: "POST",
                    url: e.config.url,
                    data: a,
                    beforeSend: function() {
                        $(".loader").show()
                    },
                    complete: function() {
                        $(".loader").hide()
                    }
                }).success(function(e) {
                    if (1 == e.message.errno) return util.message(e.message.message), !1;
                    util.message("提交成功", e.redirect, "success")
                })
            }
        }
    ]).controller("installedCtrl", ["$scope", "$http", "config", "$sce",
        function(e, t, n, a) {
            e.config = n, e.isFounder = n.isFounder, e.letters = ["全部"], angular.forEach(n.letters, function(t) {
                e.letters.push(t)
            }), e.letter = n.letter, e.module_list = n.module_list, e.allModules = n.allModules, e.moduleinfo = {}, e.cloudModule = n.cloudModule, e.upgradeInfo = {}, e.pager = n.pager, e.new_branch = 0, e.upgrade_branch = 0, check_module = [], angular.forEach(e.module_list, function(e, t) {
                check_module.push(t)
            }), t.post(e.config.checkUpgradeUrl, {
                module_list: check_module
            }).success(function(t) {
                0 == t.message.errno && angular.forEach(t.message.message, function(t) {
                    e.module_list[t.name].upgrade = t.upgrade, e.module_list[t.name].upgrade_info = t.upgrade_info, e.module_list[t.name].from = t.from, e.module_list[t.name].service_expire = t.service_expire
                })
            }), filter = function(n, i) {
                "new_branch" != n && "upgrade_branch" != n || (e[n] = 1 == e[n] ? 0 : 1), t.post(e.config.filterUrl, {
                    condition: {
                        new_branch: e.new_branch,
                        upgrade_branch: e.upgrade_branch
                    },
                    pageindex: i
                }).success(function(t) {
                    e.module_list = t.message.message.modules, e.pager = a.trustAsHtml(t.message.message.pager)
                })
            }, e.searchLetter = function(e) {
                $(':hidden[name="letter"]').val(e), $("#search").click()
            }, e.editModule = function(n) {
                $("#module-info").modal("show"), "" != n && t.post(e.config.editModuleUrl, {
                    mid: n
                }).success(function(t) {
                    e.moduleinfo = t.message.message, e.moduleinfo.logo = e.moduleinfo.logo + "?v=" + (new Date).getTime(), e.moduleinfo.preview = e.moduleinfo.preview + "?v=" + (new Date).getTime()
                })
            }, e.changePicture = function(t) {
                fileUploader.init(function(n) {
                    e.moduleinfo[t] = n.url, e.$apply(e.moduleinfo)
                }, {
                    type: "image",
                    direct: !0,
                    multiple: !1
                })
            }, e.delPicture = function(t) {
                e.moduleinfo[t] = ""
            }, e.save = function() {
                t.post(e.config.saveModuleUrl, {
                    moduleinfo: e.moduleinfo
                }).success(function(t) {
                    0 == t.message.message && (e.moduleinfo.logo = e.moduleinfo.logo + "?v=" + (new Date).getTime(), e.moduleinfo.preview = e.moduleinfo.preview + "?v=" + (new Date).getTime(), e.module_list[e.moduleinfo.name].title = e.moduleinfo.title, e.module_list[e.moduleinfo.name].logo = e.moduleinfo.logo)
                })
            }, e.setUpgradeInfo = function(n) {
                t.post(e.config.get_upgrade_info_url, {
                    name: n
                }).success(function(t) {
                    0 == t.message.errno ? (e.upgradeInfo = t.message.message, $("#upgrade-info").modal("show")) : 1 == t.message.errno && ($("#upgrade-info").modal("show"), $("#upgrade-info").html(t.message.message), util.message(t.message.message))
                })
            }, e.upgrade = function(e, t, n) {
                if (!confirm("本次升级需要花费" + e + "个交易币。确认升级？")) return !1;
                location.href = "./index.php?c=cloud&a=redirect&do=buybranch&m=" + t + "&branch=" + n + "&is_upgrade=1"
            }
        }
    ]).controller("notInstalledCtrl", ["$scope", "config",
        function(e, t) {
            e.letters = ["全部"], angular.forEach(t.letters, function(t) {
                e.letters.push(t)
            }), e.letter = t.letter, e.module_list = t.module_list, e.searchLetter = function(e) {
                $(':hidden[name="letter"]').val(e), $("#search").click()
            }
        }
    ]).controller("detailCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.isFounder = n.isFounder, e.receive_ban = n.receive_ban, e.moduleinfo = n.moduleInfo, e.subscribe = 2, e.checkupgrade = 0, e.show = n.show, e.editType = "", t.post(e.config.checkReceiveUrl, {
                module_name: n.modulename
            }).success(function(t) {
                0 == t.message.errno && (e.subscribe = 1)
            }), t({
                method: "POST",
                url: e.config.checkUpgradeUrl,
                data: {
                    module_list: {
                        0: n.modulename
                    }
                },
                beforeSend: function() {
                    "upgrade" == e.show && $(".loader").show()
                },
                complete: function() {
                    $(".loader").hide()
                }
            }).success(function(n) {
                0 == n.message.errno && 1 == n.message.message[0].upgrade && (e.checkupgrade = 1, "cloud" == n.message.message[0].from ? t.post(e.config.get_upgrade_info_url, {
                    name: e.moduleinfo.name
                }).success(function(t) {
                    if (0 == t.message.errno) {
                        e.upgradeInfo = t.message.message;
                        var n = (new Date).getTime();
                        n = n.toString().substr(0, 10), e.upgradeInfo.service_expiretime > 0 && n > e.upgradeInfo.service_expiretime ? e.upgradeInfo.service_expire = !0 : e.upgradeInfo.service_expire = !1
                    } else 1 == t.message.errno && util.message(t.message.message)
                }) : e.upgradeInfo = n.message.message[0])
            }), e.changeShow = function(t) {
                e.show = t
            }, e.changeSwitch = function() {
                e.receive_ban = 1 == e.receive_ban ? 2 : 1, t.post(e.config.url, {
                    modulename: e.config.modulename
                }).success(function(e) {
                    0 == e.message.errno && util.message("更新成功！")
                })
            }, e.editModule = function(t, n) {
                $("#module-info").modal("show"), e.editType = t, e.moduleOriginal = {}, e.moduleOriginal[t] = n
            }, e.changePicture = function(t) {
                fileUploader.init(function(n) {
                    e.moduleOriginal[t] = n.url, e.$apply(e.moduleOriginal)
                }, {
                    type: "image",
                    direct: !0,
                    multiple: !1
                })
            }, e.delPicture = function(t) {
                e.moduleOriginal[t] = ""
            }, e.upgrade = function(e, t, n) {
                if (!confirm("本次升级需要花费" + e + "个交易币。确认升级？")) return !1;
                location.href = "./index.php?c=cloud&a=redirect&do=buybranch&m=" + t + "&branch=" + n + "&is_upgrade=1"
            }, e.notice = function(e, t, n) {
                var a = e ? '升级服务已到期，请到商城<a class="color-default" target="_blank" href="http://s.we7.cc/module-' + t + '.html">续费。' : "确认升级到本分支的最高版本吗";
                return e ? (util.message(a, "", "info"), !1) : !!confirm(a) && void(location.href = "./index.php?c=cloud&a=process&m=" + n + "&is_upgrade=1")
            }, e.save = function() {
                t.post(e.config.saveModuleUrl, {
                    moduleinfo: e.moduleOriginal,
                    type: e.editType,
                    modulename: e.moduleinfo.name
                }).success(function(t) {
                    0 == t.message.errno ? (util.message("修改成功", "", "success"), e.moduleinfo[e.editType] = e.moduleOriginal[e.editType], "logo" == e.editType && (e.moduleinfo.logo = e.moduleOriginal.logo + "?v=" + (new Date).getTime()), "preview" == e.editType && (e.moduleinfo.preview = e.moduleOriginal.preview + "?v=" + (new Date).getTime()), e.$apply(e.moduleinfo)) : util.message("修改失败", "", "fail")
                })
            }, change = function(e) {
                branch = e.data("id"), $("#version-detail-" + branch).toggle(), clas = "wi wi-angle-down" == e.find("i").prop("class") ? "wi wi-angle-up" : "wi wi-angle-down", text = "wi wi-angle-down" == clas ? "查看详情" : "收起", e.html(text + '<i class="' + clas + '"></i>')
            }
        }
    ]).controller("templateCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.templateList = n.templateList, e.upgradeInfo = {}, e.checkUpgrade = function() {
                t.post(e.config.url, {
                    template: e.templateList
                }).success(function(t) {
                    0 == t.message.errno && (e.templateList = t.message.message)
                })
            }, e.checkUpgrade(), e.setUpgradeInfo = function(n) {
                t.post(e.config.get_upgrade_info_url, {
                    name: n
                }).success(function(t) {
                    0 == t.message.errno ? (e.upgradeInfo = t.message.message, $("#upgradeInfo").modal("show")) : 1 == t.message.errno && util.message(t.message.message)
                })
            }, e.upgrade = function(e) {
                return confirm("本次升级需要花费" + e + "个交易币。确认升级？")
            }
        }
    ]).controller("userModuleDisplayCtrl", ["$scope", "$http", "$timeout", "config",
        function(e, t, n, a) {
            var i = Object.keys(a.userModule);
            e.userModule = [], e.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "全部"], e.activeLetter = a.activeLetter, e.searchKeyword = "", e.showAccounts = function(n, i) {
                t.post(a.links.moduleAccounts, {
                    module_name: i
                }).success(function(t) {
                    e.userModule[i].accounts = t.message.message
                });
                var s = $(n.target).parents(".mask").next(".cut-select");
                "none" == s.css("display") ? (s.css("display", "block"), s.parent(".module-list-item").siblings().find(".cut-select").css("display", "none")) : s.css("display", "none")
            }, e.hideSelect = function(e) {
                $(e.target).css("display", "none")
            }, e.searchKeywordModule = function() {
                e.searchKeyword ? (e.keywordModule = [], angular.forEach(a.userModule, function(t, n) {
                    t.title.match(e.searchKeyword) && e.keywordModule.push(t)
                }), e.userModule = e.keywordModule) : e.userModule = a.userModule
            }, e.searchLetterModule = function(t) {
                e.activeLetter = t, "全部" == e.activeLetter ? e.userModule = a.userModule : (e.letterModule = [], angular.forEach(a.userModule, function(t, n) {
                    t.title_initial == e.activeLetter && e.letterModule.push(t)
                }), e.userModule = e.letterModule)
            }, e.getall_last_switch = function() {
                t.post(a.links.getall_last_switch).success(function(e) {
                    var t = e.message.message;
                    angular.forEach(a.userModule, function(e, n) {
                        a.userModule[n].last_switch = t[e.name]
                    })
                })
            }, e.addMoreModule = function(t) {
                var n = 15 * (Math.max(1, parseInt(t)) - 1),
                    s = 0;
                return !(i.length < n) && (angular.forEach(a.userModule, function(t, a) {
                    s >= n && s < n + 15 && e.userModule.push(t), s++
                }), !0)
            }, e.currentPage = 1, e.loadMore = function() {
                e.addMoreModule(e.currentPage), e.currentPage++
            }
        }
    ]).controller("subscribeCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.subscribe_module = n.subscribe_module, e.types = n.types, e.change_ban_url = n.change_ban_url, e.check_receive_url = n.check_receive_url, e.change_ban = function(n) {
                t.post(e.change_ban_url, {
                    modulename: n
                }).success(function(t) {
                    0 != t.message.errno ? util.message(t.message.message, "", "error") : e.subscribe_module[n].receive_ban = 1 == e.subscribe_module[n].receive_ban ? 0 : 1
                })
            }, angular.forEach(e.subscribe_module, function(n, a) {
                t.post(e.check_receive_url, {
                    module_name: a
                }).success(function(t) {
                    0 == t.message.errno && (e.subscribe_module[a].subscribe_success = 1)
                })
            })
        }
    ]), angular.module("paycenterApp", ["cfp.hotkeys"]).controller("microPay", ["$scope", "$timeout", "config", "$http", "hotkeys", "servicePaycenterBase",
        function(e, t, n, a, i, s) {
            card = $.parseJSON(n.card_set_str), i.add({
                combo: "return+up",
                description: "Description goes here",
                allowIn: ["INPUT"],
                callback: function(t, n) {
                    e.micro.submit()
                }
            }), i.add({
                combo: "esc",
                description: "Description goes here",
                allowIn: ["INPUT"],
                callback: function(t, n) {
                    e.micro.reset()
                }
            }), i.add({
                combo: "backspace",
                description: "Description goes here",
                allowIn: ["INPUT"],
                callback: function(t, n) {
                    e.micro.counter_handler("backspace"), t.preventDefault()
                }
            }), i.add({
                combo: "-",
                description: "Description goes here",
                allowIn: ["INPUT"],
                callback: function(t, n) {
                    "0" != e.micro.config.fee ? e.micro.mcardPayManage() : util.message("请输入金额", "", "error")
                }
            }), i.add({
                combo: "+",
                description: "Description goes here",
                allowIn: ["INPUT"],
                callback: function(t, n) {
                    "0" != e.micro.config.fee ? e.micro.wechatPayManage() : util.message("请输入金额", "", "error")
                }
            }), nums = ["7", "8", "9", "4", "5", "6", "1", "2", "3", "0", "."], e.micro = s.paycenterBaseData(card), angular.forEach(nums, function(t, n) {
                i.add({
                    combo: t,
                    description: "Description goes here",
                    allowIn: ["INPUT"],
                    callback: function(t, n) {
                        e.micro.counter_handler(t.key)
                    }
                })
            }), e.micro.mcardPayManage = function() {
                $("#mcard-pay").on("shown.bs.modal", function() {
                    $(".js-input").focus();
                    var t = 2;
                    i.add({
                        combo: "return",
                        description: "Description goes here",
                        allowIn: ["INPUT"],
                        callback: function(n, a) {
                            input_count = e.micro.input_count(), t > input_count && e.micro.submit(), $('input[tabindex="' + t + '"]').focus(), t++
                        }
                    }), i.del("backspace"), angular.forEach(nums, function(e, t) {
                        i.del(e)
                    })
                }), $("#mcard-pay").on("hidden.bs.modal", function() {
                    i.del("return"), angular.forEach(nums, function(t, n) {
                        i.add({
                            combo: t,
                            description: "Description goes here",
                            allowIn: ["INPUT"],
                            callback: function(t, n) {
                                e.micro.counter_handler(t.key)
                            }
                        })
                    })
                }), $("#mcard-pay").modal("show")
            }, e.micro.wechatPayManage = function() {
                $("#wechat-pay").on("shown.bs.modal", function() {
                    $(".js-input").focus(), i.add({
                        combo: "return",
                        description: "Description goes here",
                        allowIn: ["INPUT"],
                        callback: function(t, n) {
                            e.micro.submit()
                        }
                    }), i.del("backspace"), angular.forEach(nums, function(e, t) {
                        i.del(e)
                    })
                }), $("#wechat-pay").on("hidden.bs.modal", function() {
                    i.del("return"), angular.forEach(nums, function(t, n) {
                        i.add({
                            combo: t,
                            description: "Description goes here",
                            allowIn: ["INPUT"],
                            callback: function(t, n) {
                                e.micro.counter_handler(t.key)
                            }
                        })
                    })
                }), $("#wechat-pay").modal("show")
            }, e.micro.num = function(t) {
                e.micro.counter_handler(t)
            }, e.$watch("micro.config.code", function(e, t) {
                e && e.length > 0 && $(".js-pay-warning").html("")
            }), e.micro.counter_handler = function(t) {
                if ("backspace" == (t += "")) return current_fee_length = e.micro.config.fee.length, void("1" == current_fee_length ? e.micro.config.fee = "0" : e.micro.config.fee = e.micro.config.fee.substr(0, current_fee_length - 1));
                "clear" != t ? "0" != e.micro.config.fee || "1" != e.micro.config.fee.length || "." == t ? e.micro.config.fee.length >= 9 || 8 == e.micro.config.fee.length && "." == t || e.micro.config.fee.indexOf(".") > -1 && (float = e.micro.config.fee.split("."), float[1] && float[1].length >= 2 || "." == t) || (e.micro.config.fee += t) : e.micro.config.fee = t : e.micro.config.fee = "0"
            }, e.micro.reset = function() {
                e.micro.config.fee = "0"
            }, e.$watch("micro.config.offset_money", function(t, n) {
                var a = Math.floor(e.micro.config.member.credit1 / e.micro.config.card.offset_rate);
                e.micro.config.offset_money = parseInt(t), t >= a && (e.micro.config.offset_money = a), t || (e.micro.config.offset_money = 0), e.micro.config.credit1 = e.micro.config.card.offset_rate * e.micro.config.offset_money, e.micro.checkLast_money()
            }), e.$watch("micro.config.credit2", function(t, n) {
                reg = /^\d*\.{0,1}\d{0,1}\d{0,1}$/, reg.test(t) || (e.micro.config.credit2 = n), t > e.micro.config.member.credit2 && (e.micro.config.credit2 = e.micro.config.member.credit2), e.micro.checkLast_money()
            }), e.$watch("micro.config.last_money", function(t, n) {
                t < 0 && (e.config.last_money = 0), e.micro.checkLast_money()
            }), e.micro.checkBasic = function() {
                if (!$.trim(e.micro.config.body)) return util.message("商品名称不能为空"), !1;
                var t = /^(([1-9]{1}\d*)|([0]{1}))(\.(\d){1,2})?$/,
                    n = $.trim(e.micro.config.fee);
                return t.test(n) ? void 0 : (util.message("支付金额不能少于0.01元"), !1)
            }, e.micro.input_count = function() {
                return input_count = $("#mcard-pay input.js-input").length, input_count
            }, e.$watch("micro.config.cardsn", function(t, n) {
                11 == t.length ? e.micro.checkCard() : (e.micro.config.member.uid = -1, e.micro.config.credit2 = 0, t.length > 11 && (e.micro.config.card_error = "会员卡卡号错误"))
            }), e.micro.mcardPay = function(t) {
                "0" == e.micro.config.fee ? util.message("请输入金额", "", "error") : (e.micro.config.cardsn = "", e.micro.config.member.uid = -1), "1" == t ? e.micro.mcardPayManage() : "2" == t && e.micro.wechatPayManage()
            }, e.micro.is_showCode = function() {
                Math.floor(e.micro.config.member.credit1 / e.micro.config.card.offset_rate);
                e.micro.config.fact_fee <= e.micro.config.member.credit2 ? e.micro.config.is_showCode = 0 : e.micro.config.card.offset_rate > 0 ? (max = e.micro.config.fact_fee - e.micro.config.member.credit2 - Math.floor(e.micro.config.member.credit1 / e.micro.config.card.offset_rate), reg = /^-?[1-9]\d*$/, max > 0 ? e.micro.config.is_showCode = 1 : 0 == max ? e.micro.config.is_showCode = 0 : reg.test(max) ? e.micro.config.is_showCode = 0 : e.micro.config.is_showCode = 1) : (max = e.micro.config.fact_fee - e.micro.config.member.credit2, max > 0 ? e.micro.config.is_showCode = 1 : e.micro.config.is_showCode = 0)
            }, e.micro.checkCard = function() {
                e.micro.checkBasic();
                var t = $.trim(e.micro.config.cardsn);
                if (11 != t.length) return util.message("卡号不足11位", "", "error"), !1;
                e.micro.config.loading = "加载中..", e.micro.config.card_error = "", a.post(n.card_check_url, {
                    cardsn: t
                }).success(function(t) {
                    if (e.micro.config.loading = "", -1 != t.message.errno) {
                        e.micro.config.card_error = "", e.micro.config.member = t.message.message, e.micro.config.fact_fee = e.micro.config.fee;
                        var n = parseInt(e.micro.config.fee),
                            a = parseInt(e.micro.config.member.discount.condition);
                        return e.micro.config.member.discount_type > 0 && e.micro.config.member.discount && n >= a && (1 == e.micro.config.member.discount_type ? (e.micro.config.fact_fee = e.micro.config.fee - e.micro.config.member.discount.discount, e.micro.config.fact_fee = e.micro.config.fact_fee.toFixed(2)) : e.micro.config.fact_fee = e.micro.config.fee * e.micro.config.member.discount.discount, e.micro.config.fact_fee < 0 && (e.micro.config.fact_fee = 0)), e.micro.last_money = e.micro.config.fact_fee, e.micro.checkCredit2(), e.micro.is_showCode(), !1
                    }
                    e.micro.config.card_error = t.message.message
                })
            }, e.micro.checkCredit2 = function() {
                e.micro.checkLast_money(), e.micro.config.credit2 = Math.min.apply(null, [e.micro.config.member.credit2, e.micro.last_money]), e.micro.checkLast_money()
            }, e.micro.checkLast_money = function() {
                var t = e.micro.config.fact_fee - e.micro.config.credit2 - e.micro.config.offset_money;
                t < 0 && (e.config.last_money = 0), e.micro.last_money = t.toFixed(2)
            }, e.micro.query = function() {
                if (!e.micro.uniontid) return util.message("系统错误", "", "error"), !1;
                a.post("{php echo url('paycenter/wxmicro/query');}", {
                    uniontid: e.micro.uniontid
                }).success(function(e) {
                    0 == e.message.errno ? (util.message("支付成功", "", "success"), location.reload()) : util.message("支付失败:" + e.message.message, "", "error")
                })
            }, e.micro.checkpay = function() {
                a.post(n.checkpay_url, {
                    uniontid: e.micro.uniontid
                }).success(function(a) {
                    console.dir(a), "SUCCESS" == a.message.trade_state ? util.message("支付成功", n.redirect_url, "error") : "NOTPAY" == a.message.trade_state ? util.message("支付失败:用户取消支付", n.redirect_url, "error") : "USERPAYING" == a.message.trade_state ? t(function() {
                        e.micro.checkpay()
                    }, 5e3) : util.message(a.message.trade_state_desc, n.redirect_url, "error")
                })
            }, e.micro.submit = function() {
                return !!confirm("确认支付吗?") && ((1 == e.micro.config.is_showCode || e.micro.config.member.uid <= 0) && !$.trim(e.micro.config.code) ? ($(".js-pay-warning").html("支付授权码不能为空"), !1) : (1 == e.micro.config.is_showCode ? e.micro.config.cash = e.micro.last_money : e.micro.config.cash = 0, e.micro.config.member.uid > 0 && (e.micro.checkLast_money(), e.micro.last_money - e.micro.config.cash != 0) ? (util.message("支付方式设置的支付金额不等于实际支付金额", "", "error"), !1) : void a.post(n.pay_url, e.micro.config).success(function(n) {
                    return 0 == n.message.errno ? util.message(n.message.message, n.redirect, "success") : -1 == n.message.errno ? (util.message("支付失败:" + n.message.message, "", "error"), $('#form1 :text[name="code"]').val("")) : -10 == n.message.errno && ($(".js-userpaying").show(), e.micro.uniontid = n.message.uniontid, t(function() {
                        e.micro.checkpay()
                    }, 5e3)), !1
                })))
            }
        }
    ]), angular.module("paycenterApp").filter("credit1_num", ["$rootScope",
        function(e) {
            return function(e) {
                return e = Math.floor(e)
            }
        }
    ]), angular.module("paycenterApp").service("servicePaycenterBase", ["$rootScope",
        function(e) {
            var t = {},
                n = {
                    config: {
                        body: "刷卡支付收款",
                        fee: "0",
                        cardsn: "",
                        card: "",
                        credit1: 0,
                        credit2: 0,
                        last_money: 0,
                        offset_money: 0,
                        is_showCode: 0,
                        loading: "",
                        card_error: "",
                        member: {
                            uid: 0,
                            credit2: 0
                        },
                        nums: [
                            ["7", "7"],
                            ["8", "8"],
                            ["9", "9"],
                            ["4", "4"],
                            ["5", "5"],
                            ["6", "6"],
                            ["1", "1"],
                            ["2", "2"],
                            ["3", "3"],
                            ["0", "0"],
                            [".", "."],
                            ["clear", "清除"]
                        ]
                    }
                };
            return t.paycenterBaseData = function(e) {
                return n.config.card = e, n
            }, t
        }
    ]), angular.module("profileApp", ["app"]), angular.module("profileApp").controller("oauthCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.oauthHost = n.oauthHost, e.oauthAccount = n.oauthAccount, e.oauthtitle = n.oauthAccounts[n.oauthAccount], e.jsOauthAccount = n.jsOauth, e.jsOauthtitle = n.jsOauthAccounts[n.jsOauth], e.oauthAccounts = n.oauthAccounts, e.jsOauthAccounts = n.jsOauthAccounts, e.originalHost = e.oauthHost, e.recover = function() {
                e.oauthHost = e.originalHost
            }, e.saveOauth = function(n) {
                param = {}, "oauth" == n && (param = {
                    type: "oauth",
                    account: e.oauthAccount,
                    host: e.oauthHost
                }, e.oauthtitle = e.oauthAccounts[e.oauthAccount]), "jsoauth" == n && (param = {
                    type: "jsoauth",
                    account: e.jsOauthAccount
                }, e.jsOauthtitle = e.jsOauthAccounts[e.jsOauthAccount]), t.post(e.config.oauth_url, param).success(function(t) {
                    0 == t.message.errno && (e.originalHost = e.oauthHost, $('[data-toggle="modal"]').modal("hide"))
                })
            }
        }
    ]).controller("tplCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.tplList = n.tplList, e.active = "", e.activetpl = "", e.changeActive = function(t) {
                e.active = t, e.activetpl = e.tplList[t].tpl
            }, e.saveTpl = function() {
                original_tpl = e.tplList[e.active].tpl, e.tplList[e.active].tpl = e.activetpl, t.post(n.url, {
                    tpl: e.tplList
                }).success(function(t) {
                    1 == t.message.errno ? (e.tplList[e.active].tpl = original_tpl, util.message("请填写正确的" + t.message.message + "模板id", "", "info")) : $(".modal").modal("hide")
                })
            }
        }
    ]).controller("emailCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.setting = e.config.setting, e.type = void 0 == e.setting.smtp ? "163" : e.setting.smtp.type, e.changeType = function(e) {
                var t = $(e)[0].target;
                $(t).attr("type", "password")
            }
        }
    ]).controller("paymentCtrl", ["$scope", "$http", "config", "$timeout",
        function(e, t, n, a) {
            e.config = n, e.paysetting = n.paysetting, e.aliaccounthelp = !1, e.alipartnerhelp = !1, e.alisecrethelp = !1, e.saveEdit = function(n) {
                if ("wechat_facilitator" == n && !0 === e.paysetting.wechat_facilitator.switch) {
                    if ("" == e.paysetting.wechat_facilitator.mchid) return util.message("请填写服务商商户号", "", "info"), !1;
                    if ("" == e.paysetting.wechat_facilitator.signkey) return util.message("请填写服务商商户支付密钥", "", "info"), !1
                }
                if ("alipay" == n && !0 === e.paysetting.alipay.switch) {
                    if ("" == e.paysetting.alipay.partner) return util.message("请填写合作者身份", "", "info"), !1;
                    if ("" == e.paysetting.alipay.account) return util.message("请填写收款支付宝账号", "", "info"), !1;
                    if ("" == e.paysetting.alipay.secret) return util.message("请填写校验密钥", "", "info"), !1
                }
                if ("wechat" == n) {
                    if (1 == e.paysetting.wechat.switch)
                        if (1 == e.paysetting.wechat.version) {
                            if ("" == e.paysetting.wechat.partner) return util.message("请填写商户身份", "", "info"), !1;
                            if ("" == e.paysetting.wechat.key) return util.message("请填写商户秘钥", "", "info"), !1;
                            if ("" == e.paysetting.wechat.signkey) return util.message("请填写通信秘钥", "", "info"), !1
                        } else {
                            if ("" == e.paysetting.wechat.mchid) return util.message("请填写商户号", "", "info"), !1;
                            if ("" == e.paysetting.wechat.apikey) return util.message("请填写支付秘钥", "", "info"), !1
                        }
                    if (3 == e.paysetting.wechat.switch) {
                        if ("" == e.paysetting.wechat.service) return util.message("请选择服务商公众号", "", "info"), !1;
                        if ("" == e.paysetting.wechat.sub_mch_id) return util.message("请填写子商户号", "", "info"), !1
                    }
                }
                if ("unionpay" == n) {
                    if (1 == e.paysetting.unionpay.switch) {
                        if ("" == e.paysetting.unionpay.merid) return util.message("请填写商户号", "", "info"), !1;
                        if ("" == e.paysetting.unionpay.signcertpwd) return util.message("请填写商户私钥证书密码", "", "info"), !1
                    }
                    return $("#form1").submit(), !1
                }
                if ("baifubao" == n && !0 === e.paysetting.baifubao.switch) {
                    if ("" == e.paysetting.baifubao.mchid) return util.message("请填写商户号", "", "info"), !1;
                    if ("" == e.paysetting.baifubao.signkey) return util.message("请填写商户支付密钥", "", "info"), !1
                }
                if ("line" == n && !0 === e.paysetting.line.switch && "" == e.paysetting.line.message) return util.message("请填写账户信息", "", "info"), !1;
                t.post(e.config.saveurl, {
                    type: n,
                    param: e.paysetting[n]
                }).success(function(t) {
                    0 == t.message.errno && ("delivery" == n || "credit" == n ? e.paysetting[n].switch = !0 !== e.paysetting[n].switch : $(".modal").modal("hide"))
                })
            }, e.check_wechat = function() {
                if (n.account_level < 3 || void 0 != n.services && n.borrows.length < 1 && n.services.length < 1 && 4 != n.account_level || void 0 == n.services && n.borrows.length < 1 && 4 != n.account_level) return util.message("您没有有效的微信支付方式", "", "error"), !1;
                $("#weixin").modal("show")
            }, $(".modal").on("hide.bs.modal", function() {
                t.post(e.config.get_setting_url, {}).success(function(t) {
                    e.paysetting = t.message.message
                })
            }), e.test_alipay = function() {
                t.post(e.config.text_alipay_url, {
                    param: e.paysetting.alipay
                }).success(function(e) {
                    if (null !== e.message.message) return location.href = e.message.message, !1;
                    alert("配置失败")
                })
            }, e.changeSwitch = function(t, n) {
                e.paysetting[t].switch = n
            }, e.changeVersion = function(t) {
                e.paysetting.wechat.version = t
            }, e.tokenGen = function(t) {
                for (var n = "", a = 0; a < 32; a++) n += "abcdefghijklmnopqrstuvwxyz0123456789" [parseInt(32 * Math.random())];
                "wechat_facilitator.signkey" == t && (e.paysetting.wechat_facilitator.signkey = n), "wechat.apikey" == t && (e.paysetting.wechat.apikey = n)
            }
        }
    ]).controller("creditCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.creditSetting = n.creditSetting, e.tactics = {
                activity: n.activity,
                currency: n.currency
            }, e.creditTitle = "", e.activeCredit = "", e.activeTacticsType = "", e.enabledCredit = n.enabledCredit, e.activeTactics = "", e.syncSetting = n.syncSetting, e.changeEnabled = function(n) {
                void 0 == e.creditSetting[n] && (e.creditSetting[n] = {
                    title: "",
                    enabled: 0
                }), e.creditSetting[n].enabled = 1 == e.creditSetting[n].enabled ? 0 : 1, t.post(e.config.saveCreditSetting, {
                    credit_setting: e.creditSetting
                }).success(function(e) {})
            }, e.editCreditTactics = function(t) {
                $("#tactics").modal("show"), e.activeTacticsType = t, e.activeTactics = e.tactics[t]
            }, e.editCreditName = function(t) {
                e.activeCredit = t, $("#credit-name").modal("show"), void 0 == e.creditSetting[t] && (e.creditSetting[t] = {
                    title: "",
                    enabled: 0
                }), e.creditTitle = e.creditSetting[t].title
            }, e.setCreditName = function() {
                e.creditSetting[e.activeCredit].title = e.creditTitle, t.post(e.config.saveCreditSetting, {
                    credit_setting: e.creditSetting
                }).success(function(e) {})
            }, e.setCreditTactics = function() {
                t.post(e.config.saveTacticsSetting, {
                    setting: e.tactics
                }).success(function(e) {})
            }
        }
    ]).controller("syncCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.syncSetting = n.syncSetting, e.setSync = function() {
                e.syncSetting = 1 == e.syncSetting ? 0 : 1, t.post(e.config.saveSyncSetting, {
                    setting: e.syncSetting
                }).success(function(e) {})
            }
        }
    ]).controller("ucCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.uc = n.uc, $("#submit").click(function() {
                var t = $("#textarea").val().split(";"),
                    n = new Array;
                for (var a in t) {
                    var i = t[a].indexOf("UC"),
                        s = t[a].indexOf("', '"),
                        o = t[a].indexOf("')"),
                        r = t[a].substring(i, s),
                        l = t[a].substring(s + 4, o);
                    n[r] = l
                }
                e.uc.connect = n.UC_CONNECT, e.uc.appid = n.UC_APPID, e.uc.key = n.UC_KEY, e.uc.charset = n.UC_CHARSET, e.uc.dbhost = n.UC_DBHOST, e.uc.dbuser = n.UC_DBUSER, e.uc.dbname = n.UC_DBNAME, e.uc.dbpw = n.UC_DBPW, e.uc.dbcharset = n.UC_DBCHARSET, e.uc.dbtablepre = n.UC_DBTABLEPRE, e.uc.dbconnect = n.UC_DBCONNECT, e.uc.api = n.UC_API, e.uc.ip = n.UC_IP, e.$digest()
            }), $("#form1").submit(function() {
                if ("1" == $(':radio[name="status"]:checked').val()) {
                    if ("" == $.trim($(':text[name="title"]').val())) return util.message("必须输入通行证名称.", "", "error"), !1;
                    var e = parseInt($(':text[name="appid"]').val());
                    if (isNaN(e)) return util.message("必须输入UCenter应用的ID.", "", "error"), !1;
                    if ("" == $.trim($(':text[name="key"]').val())) return util.message("必须输入与UCenter的通信密钥.", "", "error"), !1;
                    if ("" == $.trim($(':text[name="charset"]').val())) return util.message("必须输入UCenter的字符集.", "", "error"), !1;
                    if ("mysql" == $(':radio[name="connect"]:checked').val()) {
                        if ("" == $.trim($(':text[name="dbhost"]').val())) return util.message("必须输入UCenter数据库主机地址.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="dbuser"]').val())) return util.message("必须输入UCenter数据库用户名.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="dbpw"]').val())) return util.message("必须输入UCenter数据库密码.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="dbname"]').val())) return util.message("必须输入UCenter数据库名称.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="dbcharset"]').val())) return util.message("必须输入UCenter数据库字符集.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="dbtablepre"]').val())) return util.message("必须输入UCenter数据表前缀.", "", "error"), !1
                    } else if ("http" == $(':radio[name="connect"]:checked').val()) {
                        if ("" == $.trim($(':text[name="api"]').val())) return util.message("必须输入UCenter 服务端的URL地址.", "", "error"), !1;
                        if ("" == $.trim($(':text[name="ip"]').val())) return util.message("必须输入UCenter的IP.", "", "error"), !1
                    }
                }
            })
        }
    ]).controller("refundCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.setting = n.setting, e.wechat_refund = e.setting.wechat_refund, e.change_switch = function(t, n) {
                "wechat_refund" == t && (e.wechat_refund.switch = n)
            }, $("#key").change(function() {
                e.wechat_refund.key = $("#key").val(), e.$apply()
            }), $("#cert").change(function() {
                e.wechat_refund.cert = $("#cert").val(), e.$apply()
            }), $("form").submit(function() {
                if (1 == e.wechat_refund.switch) {
                    if ("" == e.wechat_refund.key) return util.message("请上传apiclient_cert.pem证书"), !1;
                    if ("" == e.wechat_refund.key) return util.message("请上传apiclient_key.pem证书"), !1
                }
            })
        }
    ]), angular.module("qrApp", ["app"]), angular.module("qrApp").controller("QrDisplay", ["$scope",
        function(e) {
            $(".js-clip").each(function() {
                util.clip(this, $(this).attr("data-url"))
            })
        }
    ]), angular.module("qrApp").controller("QrPost", ["$scope", "$http", "config",
        function(e, t, n) {
            n.id > 0 ? e.type = 0 : e.type = 1, $(".we7-select").change(function() {
                var t = $(".we7-select").val();
                e.type = 1 == t ? 1 : 2, e.$apply(e.type)
            }), $.isFunction(window.initReplyController) && window.initReplyController(e, t), $(".submit").on("click", function() {
                return !!e.checkSubmit()
            }), e.checkSubmit = function() {
                if ("" == $(":text[name='scene-name']").val()) return util.message("抱歉，二维码名称为必填项，请返回修改！"), !1;
                if (1 == e.type) {
                    if ("" == $(":text[name='expire-seconds']").val()) return util.message("抱歉，临时二维码过期时间为必填项，请返回修改！"), !1;
                    if (!/^\+?[1-9][0-9]*$/.test($(":text[name='expire-seconds']").val())) return util.message("抱歉，临时二维码过期时间必须为正整数，请返回修改！"), !1;
                    if (parseInt($(":text[name='expire-seconds']").val()) < 30 || parseInt($(":text[name='expire-seconds']").val()) > 2592e3) return util.message("抱歉，临时二维码过期时间必须在30-2592000秒之间，请返回修改！"), !1
                }
                if (2 == e.type) {
                    var n = $.trim($("#scene_str").val());
                    if (!n) return util.message("场景值不能为空！"), !1;
                    if (/^\d+$/g.test(n)) return util.message("场景值不能是数字！"), !1;
                    t.post("{php echo url('platform/qr/check_scene_str')}", {
                        scene_str: n
                    }).success(function(e) {
                        if (1 == e.message.errno && "repeat" == e.message.message) return util.message("场景值和现有二维码场景值重复，请修改场景值"), !1
                    })
                }
                return "" != $(":hidden[name='reply[reply_keyword]']").val() || (util.message("抱歉，请选择二维码要触发的关键字！"), !1)
            }
        }
    ]), angular.module("qrApp").controller("UrlToQr", ["$scope", "$http", "config",
        function(e, t, n) {
            e.copyLink = "", e.selectUrl = function() {
                var e = $("#longurl");
                util.linkBrowser(function(t) {
                    var a = n.site_url;
                    if ("tel:" == t.substring(0, 4)) return util.message("长链接不能设置为一键拨号"), !1; - 1 == t.indexOf("http://") && -1 == t.indexOf("https://") && (t = a + "app" + (t = t.replace("./index.php?", "/index.php?"))), e.val(t)
                })
            }, e.transformUrl = function() {
                var a = $("#longurl").val().trim();
                if ("" == a) return util.message("请输入长链接"), !1;
                if (-1 == a.indexOf("http://") && -1 == a.indexOf("https://") && -1 == a.indexOf("weixin://")) return util.message("请输入有效的长链接"), !1;
                var i = $("#change"),
                    s = n.img_url;
                i.html('<i class="fa fa-spinner"></i> 转换中'), t.post(n.transform_url, {
                    longurl: a
                }).success(function(t) {
                    if (-1 == t.message.errno) return util.message(t.message.message), i.html("立即转换"), !1;
                    $("#shorturl").val(t.message.message.short_url), e.copyLink = t.message.message.short_url, $(".url-short").next().attr({
                        "data-url": t.message.message.short_url
                    }).removeClass("disabled"), $("#qrsrc").attr("src", s + "url=" + t.message.message.short_url), $(".qr-img").next().removeClass("disabled"), i.html("立即转换")
                })
            }, e.downQr = function() {
                var e = $("#shorturl").val(),
                    t = n.down_url;
                window.location.href = t + "qrlink=" + e
            }, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;height:33px;line-height:28px;"><i class="fa fa-check-circle"></i> 复制成功</span>'),
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }
        }
    ]), angular.module("quickMenuApp", ["wapeditorApp"]), angular.module("quickMenuApp").controller("MainCtrl", ["$scope", "config", "serviceCommon", "serviceQuickMenuBase", "serviceQuickMenuSubmit",
        function(e, t, n, a, i) {
            e.submit = {}, e.activeItem = t.activeItem ? t.activeItem : a.initActiveItem(), a.initActiveItem(e.activeItem), e.selectNavStyle = function() {
                var t = $('input[name="nav_style"]:checked').val();
                e.activeItem.navStyle = a.selectNavStyle(t)
            }, e.addMenu = function() {
                e.activeItem.menus = a.addMenu()
            }, e.addSubMenu = function(t) {
                var n = _.findIndex(e.activeItem.menus, t);
                e.activeItem.menus[n].submenus = a.addSubMenu(t)
            }, e.submit = function(t) {
                e.submit = i.submit(), e.$apply("submit"), $(t.target).parents("form").submit()
            }, e.removeMenu = function(t) {
                e.activeItem.menus = a.removeMenu(t)
            }, e.removeSubMenu = function(t, n) {
                a.removeSubMenu(t, n), e.activeItem.menus[t].submenus = _.without(e.activeItem.menus[t].submenus, n)
            }, e.showSearchModules = function() {
                e.moduleDialog = $("#shop-modules-modal").modal(), $("#shop-modules-modal .modal-body .btn-primary").html("取消"), $("#shop-modules-modal").find(".modal-footer .btn-primary").unbind("click").click(function() {
                    e.activeItem.ignoreModules = {}, $("#shop-modules-modal .modal-body .btn-primary").each(function() {
                        e.hasIgnoreModules = !0, e.activeItem.ignoreModules[$(this).attr("js-name")] = {
                            name: $(this).attr("js-name"),
                            title: $(this).attr("js-title")
                        }
                    }), e.$apply("activeItem"), e.$apply("hasIgnoreModules"), a.setQuickMenuData("ignoreModules", e.activeItem.ignoreModules)
                })
            }, $(".js-editor-submit").click(function(t) {
                e.submit(t)
            }), e.hasIgnoreModules = _.size(e.activeItem.ignoreModules), $(".nav-menu").show(), $(".app-shopNav-edit").show()
        }
    ]), angular.module("quickMenuApp").service("serviceQuickMenuBase", ["$rootScope",
        function(e) {
            var t = {},
                n = {};
            return t.initActiveItem = function(e) {
                return n = angular.isObject(e) ? e : {
                    navStyle: 1,
                    bgColor: "#2B2D30",
                    menus: [],
                    extend: [],
                    position: {
                        homepage: !0,
                        usercenter: !0,
                        page: !0,
                        article: !0
                    },
                    ignoreModules: {}
                }
            }, t.selectNavStyle = function(e) {
                return n.navStyle = e, n.navStyle
            }, t.addMenu = function() {
                return n.menus.push({
                    title: "标题",
                    url: "",
                    submenus: [],
                    icon: {
                        name: "fa-home",
                        color: "#00ffff"
                    },
                    image: "",
                    hoverimage: "",
                    hovericon: ""
                }), n.menus
            }, t.removeMenu = function(e) {
                var t = $.inArray(e, n.menus),
                    a = angular.copy(n.menus);
                n.menus = [];
                for (i in a) i != t && n.menus.push(a[i]);
                return n.menus
            }, t.addSubMenu = function(e) {
                var t = _.findIndex(n.menus, e);
                return n.menus[t].submenus.push({
                    title: "标题",
                    url: ""
                }), n.menus[t].submenus
            }, t.removeSubMenu = function(e, t) {
                return n.menus[e].submenus = _.without(n.menus[e].submenus, t), n.menus[e].submenus
            }, t.getQuickMenuData = function(e) {
                return angular.isString(e) ? n[e] : n
            }, t.setQuickMenuData = function(e, t) {
                angular.isObject(e) ? angular.forEach(e, function(e, t) {
                    n[t] = e
                }) : n[e] = t
            }, t
        }
    ]), angular.module("quickMenuApp").service("serviceQuickMenuSubmit", ["serviceCommon", "serviceQuickMenuBase",
        function(e, t) {
            var n = {};
            return n.submit = function() {
                var n = {
                    params: {},
                    html: ""
                };
                n.params = t.getQuickMenuData(), e.stripHaskey(n.params);
                var a = $(".nav-menu").html();
                return a = a.replace(/<\!\-\-([^-]*?)\-\->/g, ""), a = a.replace(/ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), a = a.replace(/ng\-[a-zA-Z]+/g, ""), a = a.replace(/[\t\n\n\r]/g, ""), n.html = a, n
            }, n
        }
    ]), angular.module("wesiteApp", ["app"]), angular.module("wesiteApp").controller("WesiteDisplay", ["$scope", "$http", "serviceCommon", "config",
        function(e, t, n, a) {
            e.default_site = a.default_site, e.multis = a.multis, e.links = a.links, angular.forEach(e.multis, function(t, n) {
                t.copyLink = e.links.appHome + "t=" + t.id
            }), e.preview = function(t) {
                var t = parseInt(t),
                    n = util.dialog("预览模板", '<iframe width="320px" scrolling="yes" height="480px" frameborder="0" src="about:blank"></iframe>', '<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>'),
                    a = e.links.appHome + "&t=" + t;
                n.find("iframe").attr("src", a), n.find(".modal-dialog").css({
                    width: "322px"
                }), n.find(".modal-body").css({
                    padding: "0",
                    height: "480px"
                }), n.modal("show")
            }, e.switchOn = function(n, a) {
                var i = _.indexOf(e.multis, n),
                    a = parseInt(a);
                i > -1 && t.post(e.links.switch, {
                    id: a
                }).success(function(t) {
                    0 == t.message.errno && (e.multis[i].status = 1 == e.multis[i].status ? "0" : "1", util.message("修改成功！"))
                })
            }, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>');
                n.copySuccess(e, t)
            }
        }
    ]), angular.module("wesiteApp").controller("WesitePost", ["$scope", "config", "$http", "serviceCommon", "serviceHomeMenuBase", "serviceQuickMenuBase", "serviceQuickMenuSubmit",
        function(e, t, n, a, i, s, o) {
            e.links = t.links, e.attachurl = t.attachurl, e.default_site = t.default_site, e.temtypes = t.temtypes, e.temtype = {
                name: "all",
                title: "全部"
            }, e.searchedStyleName = "", e.multi = t.multi, e.styles = t.styles, e.siteEntrance = e.links.murl + "t=" + e.multi.id, e.slideLists = [], e.showSlideSubmit = !1, e.addHomemenuStatus = !1, e.homeMenu = [], e.sections = i.initSections(), e.menuInfo = i.initHomemenuInfo(), e.activeItem = {}, e.modules = {}, e.quickMenuStatus = !0, e.hasIgnoreModules = 0, e.submit = {}, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10;width:90px;height:34px;line-height:28px;"><i class="fa fa-check-circle"></i> 复制成功</span>');
                a.copySuccess(e, t)
            }, e.selectStyle = function(t) {
                e.multi.style = t
            }, e.searchStyle = function() {
                n.post(e.links.searchStyleLink, {
                    name: e.searchedStyleName
                }).success(function(t) {
                    0 == t.message.errno && (e.styles = t.message.message)
                })
            }, e.changeMultiStatus = function() {
                e.multi.status = 1 == e.multi.status ? 0 : 1
            }, e.uploadMultiImage = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.multi.site_info.thumb = t.url, e.$apply(e.multi.site_info)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delMultiImage = function() {
                e.multi.site_info.thumb = ""
            }, e.loadSlideInfo = function() {
                n.post(e.links.slideDisplay, {
                    multiid: t.multiid
                }).success(function(t) {
                    0 == t.message.errno && (e.slideLists = t.message.message, _.isEmpty(e.slideLists) || (e.showSlideSubmit = !0))
                })
            }, e.addSlide = function() {
                e.slideLists.push({
                    title: "",
                    displayorder: 0,
                    thumb: "",
                    url: ""
                }), e.showSlideSubmit = !0
            }, e.delSlide = function(t) {
                var n = _.indexOf(e.slideLists, t);
                n > -1 && (e.slideLists = _.without(e.slideLists, e.slideLists[n])), _.isEmpty(e.slideLists) && (e.showSlideSubmit = !1)
            }, e.uploadSlideImage = function(t) {
                var n = _.indexOf(e.slideLists, t);
                n > -1 ? require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.slideLists[n].thumb = t.url, e.$apply(e.slideLists)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                }) : util.message("参数错误，请刷新页面重试！")
            }, e.delSlideImage = function(t) {
                var n = _.indexOf(e.slideLists, t);
                n > -1 && (e.slideLists[n].thumb = "")
            }, e.saveSlide = function() {
                n.post(e.links.slidePost, {
                    slide: e.slideLists,
                    multiid: t.multiid
                }).success(function(e) {
                    e.message.errno, util.message(e.message.message)
                })
            }, e.loadHomemenuInfo = function() {
                n.post(e.links.homeMenuDisplay, {
                    multiid: t.multiid
                }, {
                    cache: !1
                }).success(function(t) {
                    0 == t.message.errno && (e.homeMenu = t.message.message, e.addHomemenuStatus = !1)
                })
            }, e.changeHomemenuStatus = function(t) {
                if (e.addHomemenuStatus = !e.addHomemenuStatus, _.isEmpty(t)) e.menuInfo = i.initHomemenuInfo();
                else {
                    e.menuInfo = t;
                    var n = parseInt(e.menuInfo.section);
                    n = n <= 10 && n >= 0 ? n : 0, e.menuInfo.section = e.sections[n], _.isEmpty(e.menuInfo.icon) ? e.menuInfo.icontype = 1 : e.menuInfo.icontype = 2
                }
            }, e.updateMenu = function(t, a) {
                var i = parseInt(t.id),
                    s = _.indexOf(e.homeMenu, t);
                if (s > -1) switch (a) {
                    case "del":
                        n.post(e.links.homeMenuDel, {
                            id: i
                        }).success(function(n) {
                            0 == n.message.errno ? (util.message("删除成功！"), e.homeMenu = _.without(e.homeMenu, t)) : (-1 == n.message.errno && util.message("本公众号不存在该导航！"), 1 == n.message.errno && util.message("删除失败，请稍候重试。"))
                        });
                        break;
                    case "switch":
                        n.post(e.links.homeMenuSwith, {
                            id: i
                        }).success(function(t) {
                            0 == t.message.errno ? e.homeMenu[s].status = !e.homeMenu[s].status : (-1 == t.message.errno && util.message("本公众号不存在该导航！"), 1 == t.message.errno && util.message("更新失败，请稍候重试。"))
                        })
                }
            }, e.uploadHomemenuImage = function(t) {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.menuInfo.icon = t.attachment, e.$apply(e.menuInfo)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delHomemenuImage = function(t) {
                e.menuInfo.icon = ""
            }, e.selectHomemenuIcon = function() {
                util.iconBrowser(function(t) {
                    e.menuInfo.css.icon.icon = t, e.$apply(e.menuInfo.css)
                })
            }, e.saveMenu = function() {
                n.post(e.links.homeMenuPost, {
                    menu_info: e.menuInfo,
                    multiid: t.multiid
                }).success(function(t) {
                    0 == t.message.errno ? (util.message("导航菜单保存成功！"), e.loadHomemenuInfo()) : (1 == t.message.errno && util.message("保存失败！"), -1 == t.message.errno && util.message("抱歉，请输入导航菜单的名称！"))
                })
            }, e.successMenu = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10;width:80px;margin-left:10px"><i class="fa fa-check-circle"></i> 复制成功</span>');
                a.copySuccess(e, t)
            }, e.quickMenuSwitch = function() {
                e.quickMenuStatus = !e.quickMenuStatus
            }, e.loadQuickmenuInfo = function() {
                n.post(e.links.quickMenuDisplay, {
                    multiid: t.multiid
                }).success(function(t) {
                    0 == t.message.errno ? (e.activeItem = t.message.message.params, s.initActiveItem(e.activeItem), e.modules = t.message.message.modules, e.quickMenuStatus = t.message.message.status, e.hasIgnoreModules = _.size(e.activeItem.ignoreModules)) : util.message("请求错误：微站不存在，请按“Ctrl+F5”刷新重试！")
                })
            }, e.saveQucikMenu = function() {
                e.submit = o.submit(), n.post(e.links.quickMenuPost, {
                    multiid: t.multiid,
                    postdata: e.submit,
                    status: e.quickMenuStatus ? 1 : 0
                }).success(function(e) {
                    0 == e.message.errno && util.message("保存成功。您可点击“预览刷新”查看效果！")
                })
            }, e.showSearchModules = function() {
                e.moduleDialog = $("#shop-modules-modal").modal(), $("#shop-modules-modal .modal-body .btn-primary").html("取消"), $("#shop-modules-modal").find(".modal-footer .btn-primary").unbind("click").click(function() {
                    e.activeItem.ignoreModules = {}, $("#shop-modules-modal .modal-body .btn-primary").each(function() {
                        e.hasIgnoreModules = !0, e.activeItem.ignoreModules[$(this).attr("js-name")] = {
                            name: $(this).attr("js-name"),
                            title: $(this).attr("js-title")
                        }
                    }), e.$apply("activeItem"), e.$apply("hasIgnoreModules"), s.setQuickMenuData("ignoreModules", e.activeItem.ignoreModules)
                })
            }, e.selectNavStyle = function() {
                var t = $('#shop-nav-modal .alert input[type="radio"]:checked').val();
                e.activeItem.navStyle = s.selectNavStyle(t)
            }, e.addMenu = function() {
                e.activeItem.menus = s.addMenu()
            }, e.addSubMenu = function(t) {
                var n = _.findIndex(e.activeItem.menus, t);
                e.activeItem.menus[n].submenus = s.addSubMenu(t)
            }, e.removeMenu = function(t) {
                e.activeItem.menus = s.removeMenu(t)
            }, e.removeSubMenu = function(t, n) {
                s.removeSubMenu(t, n), e.activeItem.menus[t].submenus = _.without(e.activeItem.menus[t].submenus, n)
            }
        }
    ]), angular.module("wesiteApp").controller("WesiteTplDidplay", ["$scope", "config",
        function(e, t) {
            e.stylesResult = t.stylesResult, e.temtypes = t.temtypes, e.type = t.type, e.setting = t.setting, e.links = t.links, e.preview = function(t) {
                var t = parseInt(t),
                    n = '\t\t\t<a href="' + e.links.default+"&styleid=" + t + '" class="btn btn-primary">设为默认模板</a>\t\t\t<a href="' + e.links.designer + "&styleid=" + t + '" class="btn btn-primary">设计风格</a>\t\t\t<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>',
                    a = util.dialog("预览模板", '<iframe width="320" scrolling="yes" height="480" frameborder="0" src="about:blank"></iframe>', n);
                a.find("iframe").on("load", function() {
                    $("a", this.contentWindow.document.body).each(function() {
                        var e = $(this).attr("href");
                        if (e && "#" != e[0]) {
                            var n = e.split(/#/g),
                                a = n[0];
                            "&" != a.slice(-1) && (a += "&"), -1 != a.indexOf("?") && (a += "s=" + t), n[1] && (a += "#" + n[1]), "javascript" != a.substr(0, 10) && -1 != a.indexOf("?") || (a = a.substr(0, a.lastIndexOf("&"))), $(this).attr("href", a)
                        }
                    })
                });
                var i = e.links.home + "&s=" + t;
                a.find("iframe").attr("src", i), a.find(".modal-dialog").css({
                    width: "322px"
                }), a.find(".modal-body").css({
                    padding: "0",
                    height: "480px"
                }), a.modal("show")
            }, e.selectDefault = function(t) {
                var n = parseInt(t);
                location.href = e.links.default+"&styleid=" + n
            }
        }
    ]), angular.module("wesiteApp").controller("WesiteTplPost", ["$scope", "config",
        function(e, t) {
            e.style = t.style, e.styles = t.styles ? t.styles : {}, e.template = t.template, e.systemtags = t.systemtags, e.customStyles = [], angular.forEach(e.styles, function(t, n) {
                -1 == _.indexOf(e.systemtags, t.variable) && e.customStyles.push(t)
            }), e.addCustomAttribute = function() {
                $("#customForm").append($("#item-form-html").html())
            }, e.delCustomArrtibute = function(e) {
                $(e.target).parent().parent().remove()
            }, e.uploadImage = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.styles.indexbgimg = {
                            content: t.url
                        }, e.$apply(e.styles.indexbgimg.content)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delImage = function() {
                e.styles.indexbgimg = ""
            }, e.checkSubmit = function(e) {
                for (var t = $(':text[name="custom[name][]"]'), n = $(':text[name="custom[desc][]"]'), a = $(':text[name="custom[value][]"]'), i = 0; i < t.length; i++)
                    if (_.isEmpty(t[i].value)) return util.message("自定义属性变量名不可为空！"), !1;
                for (var s = 0; s < n.length; s++)
                    if (_.isEmpty(n[s].value)) return util.message("自定义属性变量描述不可为空！"), !1;
                for (var o = 0; o < a.length; o++)
                    if (_.isEmpty(a[o].value)) return util.message("自定义属性变量值不可为空！"), !1;
                $("#submit-post").click()
            }
        }
    ]), angular.module("wesiteApp").controller("wesiteArticleDisplay", ["$scope", "config", "serviceCommon",
        function(e, t, n) {
            e.category = t.category, e.articleList = t.articleList, angular.forEach(e.articleList, function(n, a) {
                if (0 != n.pcate) {
                    var i = parseInt(n.pcate);
                    if (0 != n.ccate) {
                        s = parseInt(n.ccate);
                        angular.isDefined(e.category[i]) && angular.isDefined(e.category[s]) && (n.title = "【" + e.category[i].name + "】-【" + e.category[s].name + "】" + n.title)
                    } else angular.isDefined(e.category[i]) && (n.title = "【" + e.category[i].name + "】" + n.title)
                } else if (0 != n.ccate) {
                    var s = parseInt(n.ccate);
                    angular.isDefined(e.category[s]) && (n.title = "【" + e.category[s].name + "】" + n.title)
                }
                n.link = t.copyCommonLink + n.id, e.articleList[a] = n
            }), e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>');
                n.copySuccess(e, t)
            }, e.editArticle = function(e) {
                var e = parseInt(e);
                location.href = "./index.php?c=site&a=article&do=post&id=" + e
            }, e.delArticle = function(e) {
                if (confirm("此操作不可恢复，确认吗？")) {
                    var e = parseInt(e);
                    location.href = "./index.php?c=site&a=article&do=del&id=" + e
                }
            }
        }
    ]), angular.module("wesiteApp").controller("WesiteArticlePost", ["$scope", "config",
        function(e, t) {
            e.item = t.item, e.keywords = t.keywords, e.id = t.id, e.template = t.template, e.uploadImage = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.item.thumb = t.url, e.$apply(e.item.thumb)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delImage = function() {
                e.item.thumb = ""
            }
        }
    ]), angular.module("wesiteApp").controller("WesiteCategoryPost", ["$scope", "config",
        function(e, t) {
            e.id = t.id, e.category = t.category, e.parent = t.parent, e.parentid = t.parentid, e.multis = t.multis, e.site_template = t.site_template, e.styles = t.styles, angular.isUndefined(e.category.enabled) ? e.enabled = !0 : e.id && 1 == e.category.enabled ? e.enabled = !0 : e.enabled = !1, angular.isUndefined(e.category.icontype) || 0 == e.category.icontype || 1 == e.category.icontype ? e.icontype = !0 : e.icontype = !1, e.selectIcon = function() {
                util.iconBrowser(function(t) {
                    e.category.css.icon.icon = t, e.$apply(e.category.css)
                })
            }, e.showWesite = function() {
                $(".js-site-selector").show()
            }, e.hideWesite = function() {
                $(".js-site-selector").hide()
            }, e.changeStyle = function(t) {
                var n = parseInt(t),
                    a = $(".title-" + n).text(),
                    i = $(".preview-" + n).attr("src");
                $(".item-style").removeClass("active"), e.category.styleid = n, $("#current-title").text(a), $("#current-preview").attr("src", i), $(".title-" + n).parent().parent().addClass("active"), $("#ListStyle").modal("hide"), e.$apply(e.category.styleid)
            }, e.uploadImage = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.category.icon = t.url, e.$apply(e.category.icon)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.delImage = function() {
                e.category.icon = ""
            }
        }
    ]), angular.module("wesiteApp").service("serviceCommon", ["$rootScope",
        function(e) {
            var t = {};
            return t.copySuccess = function(e, t) {
                var e = parseInt(e),
                    t = t,
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }, t
        }
    ]), angular.module("wesiteApp").service("serviceHomeMenuBase", ["$rootScope",
        function(e) {
            var t = {};
            return t.initHomemenuInfo = function() {
                return {
                    css: {
                        icon: {
                            width: "",
                            color: "",
                            icon: ""
                        }
                    },
                    name: "",
                    description: "",
                    url: "",
                    status: 1,
                    displayorder: 0,
                    icon: "",
                    icontype: 1,
                    section: 0
                }
            }, t.initSections = function() {
                return [{
                    num: 0,
                    val: "不设置位置"
                }, {
                    num: 1,
                    val: "位置1"
                }, {
                    num: 2,
                    val: "位置2"
                }, {
                    num: 3,
                    val: "位置3"
                }, {
                    num: 4,
                    val: "位置4"
                }, {
                    num: 5,
                    val: "位置5"
                }, {
                    num: 6,
                    val: "位置6"
                }, {
                    num: 7,
                    val: "位置7"
                }, {
                    num: 8,
                    val: "位置8"
                }, {
                    num: 9,
                    val: "位置9"
                }, {
                    num: 10,
                    val: "位置10"
                }]
            }, t
        }
    ]), angular.module("wesiteApp").service("serviceQuickMenuBase", ["$rootScope",
        function(e) {
            var t = {},
                n = {};
            return t.initActiveItem = function(e) {
                return n = angular.isObject(e) ? e : {
                    navStyle: 1,
                    bgColor: "#2B2D30",
                    menus: [],
                    extend: [],
                    position: {
                        homepage: !0,
                        usercenter: !0,
                        page: !0,
                        article: !0
                    },
                    ignoreModules: {}
                }
            }, t.selectNavStyle = function(e) {
                return n.navStyle = e, n.navStyle
            }, t.addMenu = function() {
                return void 0 === n.menus && (n.menus = []), n.menus.push({
                    title: "标题",
                    url: "",
                    submenus: [],
                    icon: {
                        name: "fa-home",
                        color: "#00ffff"
                    },
                    image: "",
                    hoverimage: "",
                    hovericon: ""
                }), n.menus
            }, t.removeMenu = function(e) {
                var t = $.inArray(e, n.menus),
                    a = angular.copy(n.menus);
                n.menus = [];
                for (i in a) i != t && n.menus.push(a[i]);
                return n.menus
            }, t.addSubMenu = function(e) {
                var t = _.findIndex(n.menus, e);
                return n.menus[t].submenus.push({
                    title: "标题",
                    url: ""
                }), n.menus[t].submenus
            }, t.removeSubMenu = function(e, t) {
                return n.menus[e].submenus = _.without(n.menus[e].submenus, t), n.menus[e].submenus
            }, t.getQuickMenuData = function(e) {
                return angular.isString(e) ? n[e] : n
            }, t.setQuickMenuData = function(e, t) {
                angular.isObject(e) ? angular.forEach(e, function(e, t) {
                    n[t] = e
                }) : n[e] = t
            }, t
        }
    ]), angular.module("wesiteApp").service("serviceQuickMenuSubmit", ["serviceQuickMenuBase",
        function(e) {
            var t = {};
            return t.stripHaskey = function(e) {
                for (var n in e) "$$hashKey" == n ? delete e[n] : "object" == typeof e[n] && t.stripHaskey(e[n]);
                return e
            }, t.submit = function() {
                var n = {
                    params: {},
                    html: ""
                };
                n.params = e.getQuickMenuData(), t.stripHaskey(n.params);
                var a = $(".nav-menu").html();
                return a = a.replace(/<\!\-\-([^-]*?)\-\->/g, ""), a = a.replace(/ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), a = a.replace(/ng\-[a-zA-Z]+/g, ""), a = a.replace(/[\t\n\n\r]/g, ""), n.html = a, n
            }, t
        }
    ]), angular.module("specialApp", ["wapeditorApp"]), angular.module("specialApp").controller("MainCtrl", ["$scope", "$timeout", "$uibModal", "widget", "config", "serviceCommon", "serviceSetStyle", "serviceBase", "serviceSpecialBase", "serviceSubmit", "serviceMultiSubmit", "serviceMultiPage", "serviceUpwardCompatible", "$sanitize",
        function(e, t, n, a, i, s, o, r, l, c, u, d, p, m) {
            e.modules = [], e.editors = [], e.allPages = i.allPages, e.multipage = i.multipage ? i.multipage : [], e.submit = {
                params: {},
                html: "",
                multipage: []
            }, e.isNew = !0, e.allPages && -1 == _.findIndex(e.allPages, {
                active: !0
            }) && (e.isNew = !1, e.allPages = [{
                property: e.allPages,
                active: !0
            }]), r.setBaseData("isNew", e.isNew), e.allPages = e.allPages ? e.allPages : [{
                property: [],
                active: !0
            }];
            var f = _.findIndex(e.allPages, {
                active: !0
            });
            e.activeModules = f > -1 ? r.initActiveModules(e.allPages[f].property) : [], e.activePageIndex = f > -1 ? f : 0, l.setBaseData("activePageIndex", e.activePageIndex), e.activeItem = {}, e.activeIndex = 0, e.index = e.activeModules.length ? s.getMaxScopeIndex(e.allPages) + 1 : 0, r.setBaseData("index", e.index), e.pageLength = _.isEmpty(e.activeModules) ? 1 : e.activeModules[0].params.pageLength ? e.activeModules[0].params.pageLength : 1, e.isMultiPage = 0 == e.index || !(e.activeModules[s.getHeaderIndex(e.activeModules)].params.pageLength > 1), e.isLongPage = 0 == e.index || (e.activeModules[s.getHeaderIndex(e.activeModules)].params.pageLength > 1 || 1 == e.activeModules[s.getHeaderIndex(e.activeModules)].params.pageLength && 1 == e.allPages.length), e.pageLengths = {
                1: 1,
                2: 2,
                3: 3,
                4: 4,
                5: 5
            }, e.lineHeights = {
                1: 1,
                1.25: 1.25,
                1.5: 1.5,
                2: 2,
                2.5: 2.5
            }, e.fontSizes = {
                12: 12,
                14: 14,
                16: 16,
                18: 18,
                20: 20,
                22: 22,
                24: 24,
                26: 26,
                28: 28,
                30: 30,
                32: 32,
                34: 34,
                36: 36,
                38: 38,
                40: 40
            }, l.setBaseData("allPages", e.allPages), l.setBaseData("multipage", e.multipage), r.setBaseData("pageLength", e.pageLength), e.isNew || (e.activeModules = p.compatibility(e.activeModules), void 0 === e.activeModules[0].params.pageLength && (e.activeModules[0].params.pageLength = Math.ceil($(".modules").height() / 568)), e.activeModules[0].params.pageLength > 1 && (e.pageLength = e.activeModules[0].params.pageLength, e.isMultiPage = !1, e.isLongPage = !0, r.setBaseData("pageLength", e.pageLength), t(function() {
                $(".app-content").css("height", 568 * e.pageLength + "px")
            }, 100)), t(function() {
                var t = 0,
                    n = height = "";
                $(".modules>div").each(function() {
                    var a = parseInt($(this).attr("index"));
                    if (n = $(this).find("div.ng-scope[ng-controller$='Ctrl']").css("width"), height = $(this).find("div.ng-scope[ng-controller$='Ctrl']").css("height"), a > 0) {
                        for (var i in e.activeModules) e.activeModules[i].index == a && (t += parseInt(e.activeModules[i].marginTop), e.activeModules[i].params.positionStyle.width = parseInt(n), e.activeModules[i].params.positionStyle.height = parseInt(height), e.activeModules[i].params.positionStyle.top = t, e.activeModules[i].positionStyle = "position:absolute;width:" + n + ";height:" + height + ";left:" + e.activeModules[i].params.positionStyle.left + "px;top:" + t + "px;", $(this).find("div[ng-controller]").attr("style", e.activeModules[i].positionStyle));
                        t += parseInt(height)
                    }
                    i++
                }), r.setBaseData("activeModules", e.activeModules)
            }, 1e3));
            for (var g in e.activeModules) e.activeModules[g].originParams = angular.copy(e.activeModules[g].params);
            e.$on("serviceBase.editors.update", function(t, n) {
                e.editors = n
            }), e.$on("serviceBase.activeItem.update", function(t, n) {
                e.activeItem = n
            }), e.$on("serviceBase.activeModules.update", function(t, n) {
                e.activeModules = n
            }), e.$on("serviceBase.activeItem.params.update", function(t, n) {
                e.activeItem.params = n
            }), e.$on("serviceBase.activeItem.animationName.update", function(t, n) {
                e.activeItem.params.animationStyle.animationName = n
            }), e.$on("serviceBase.activeItem.style.update", function(t, n, a, i, s) {
                e.activeItem.params[n] = a, e.activeItem[n] = i, void 0 !== s && (e.activeItem.transform = s)
            }), e.$on("updateScope", function(t, n) {
                angular.forEach(n, function(t, n) {
                    e[n] = t
                })
            }), e.addItem = function(e) {
                r.addItem(e)
            }, e.editItem = function(e) {
                r.editItem(e)
            }, e.deleteItem = function(e) {
                r.deleteItem(e)
            }, e.submit = function(t) {
                e.submit = c.submit(), e.$apply("submit"), $(t.target).parents("form").submit()
            }, e.multiSubmit = function(t) {
                e.submit = u.submit(), e.$apply("submit"), $(t.target).parents("form").submit()
            }, e.init = function(t, n) {
                if (e.modules = r.setModules(t, n), e.activeModules.length > 0) {
                    var a = [];
                    angular.forEach(e.activeModules, function(e, t) {
                        e && a.push(e.id)
                    })
                }
                angular.forEach(e.modules, function(e, t) {
                    e.defaultshow && -1 == $.inArray(e.id, a) && r.addItem(e.id)
                })
            }, e.setModulePositionStyle = function(e) {
                o.setModulePositionStyle(e)
            }, e.eleAnimationIns = function(e) {
                o.eleAnimationIns(e)
            }, e.savePagePosition = function() {
                o.savePagePosition(e.activeModules)
            }, e.saveModulePosition = function() {
                o.saveModulePosition(e.activeItem)
            }, e.changeTextAlign = function(t) {
                o.changeTextAlign(e.activeItem, t)
            }, e.changeBorderWidth = function() {
                o.changeBorderWidth(e.activeItem)
            }, e.changeInnerHeight = function() {
                o.changeInnerHeight(e.activeItem)
            }, e.clearModuleStyle = function() {
                o.clearModuleStyle(e.activeItem)
            }, e.changePageLength = function(t) {
                if (angular.isString(t))
                    if ("minus" == t && e.pageLength > 1) t = e.pageLength - 1;
                    else {
                        if (!("plus" == t && e.pageLength < 5)) return !1;
                        t = e.pageLength + 1
                    }
                var n = o.changePageLength(t, e.activeModules);
                r.setBaseData("pageLength", parseInt(t)), r.setBaseData("activeModules", n)
            }, e.insertPage = function() {
                d.insertPage(), e.init(null, ["header"])
            }, e.navToPage = function(t) {
                d.navToPage(t), e.activeHeader()
            }, e.removePage = function(t) {
                d.removePage(t), e.activeHeader()
            }, e.copyPage = function(t, n) {
                d.copyPage(t, n), e.activeHeader()
            }, e.changeLock = function() {
                e.activeItem.params.baseStyle.lock = !e.activeItem.params.baseStyle.lock
            }, e.activeHeader = function() {
                for (var t in e.activeModules)
                    if ("header" == e.activeModules[t].id) {
                        e.pageLength = e.activeModules[t].params.pageLength ? e.activeModules[t].params.pageLength : 1, o.changePageLength(e.pageLength, e.activeModules), r.setBaseData("activeItem", e.activeModules[0]), e.editItem(e.activeModules[t].index);
                        break
                    }
            }, $(".multi-submit").on("click", function(t) {
                e.multiSubmit(t)
            }), $(".single-submit").on("click", function(t) {
                e.submit(t)
            }), e.init(null, ["header"]), e.activeHeader(), e.$watch("activeItem.params.baseStyle", function(e) {
                e && o.setModuleBaseStyle(e)
            }, !0), e.$watch("activeItem.params.borderStyle", function(e) {
                e && o.setModuleBorderStyle(e)
            }, !0), e.$watch("activeItem.params.shadowStyle", function(e) {
                e && o.setModuleShadowStyle(e)
            }, !0), e.$watch("activeItem.params.animationStyle", function(e) {
                e && o.setModuleAnimationStyle(e)
            }, !0), e.$watch("activeItem.params.positionStyle", function(e) {
                e && o.setModulePositionStyle(e)
            }, !0)
        }
    ]), angular.module("specialApp").controller("SpecialDisplay", ["$scope", "serviceCopy", "config",
        function(e, t, n) {
            e.pages = n.pages, e.links = n.links, angular.forEach(e.pages, function(t, n) {
                t.copyLink = e.links.appHome + "id=" + t.id
            }), e.success = function(e) {
                var e = parseInt(e),
                    n = $('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>');
                t.copySuccess(e, n)
            }
        }
    ]), angular.module("specialApp").directive("we7Multipage", function() {
        return {
            replace: !0,
            templateUrl: "directive-multipage-multipage.html"
        }
    }), angular.module("specialApp").service("serviceSpecialBase", ["$rootScope", "serviceBase",
        function(e, t) {
            var n = {},
                a = {
                    activePageIndex: 0,
                    isMultiPage: !0,
                    isLongPage: !0,
                    allPages: [],
                    multipage: []
                };
            return n.getBaseData = function(e) {
                return a[e]
            }, n.setBaseData = function(e, t) {
                angular.isObject(e) ? angular.forEach(e, function(e, t) {
                    a[t] = e
                }) : a[e] = t
            }, n
        }
    ]), angular.module("specialApp").service("serviceCopy", ["$rootScope",
        function(e) {
            var t = {};
            return t.copySuccess = function(e, t) {
                var e = parseInt(e),
                    t = t,
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }, t
        }
    ]), angular.module("specialApp").service("serviceMultiPage", ["$rootScope", "serviceCommon", "serviceBase", "serviceSpecialBase", "$window",
        function(e, t, n, a, i) {
            var s = {};
            return s.insertPage = function() {
                s.saveCurPage();
                var t = a.getBaseData("allPages"),
                    i = a.getBaseData("activePageIndex");
                t[i].active = !1, t.push({
                    property: [],
                    active: !0
                }), $(".app-content").css("height", "568px"), i = _.findIndex(t, {
                    active: !0
                }), n.setBaseData({
                    activeModules: [],
                    pageLength: 1
                }), a.setBaseData({
                    allPages: t,
                    isMultiPage: !0,
                    isLongPage: !1,
                    activePageIndex: i
                }), e.$broadcast("updateScope", {
                    allPages: t,
                    isMultiPage: !0,
                    isLongPage: !1,
                    pageLength: 1,
                    activePageIndex: i,
                    activeModules: []
                })
            }, s.navToPage = function(t) {
                var i = a.getBaseData("activePageIndex");
                if (i == t) return !1;
                s.saveCurPage();
                var o = a.getBaseData("allPages"),
                    r = o[t].property;
                o[i].active = !1, o[t].active = !0, i = t, n.setBaseData("activeModules", r), n.setBaseData("activeItem", r[0]), a.setBaseData({
                    allPages: o,
                    activePageIndex: i
                }), e.$broadcast("updateScope", {
                    allPages: o,
                    activePageIndex: i,
                    activeModules: r
                })
            }, s.removePage = function(t) {
                var i = [],
                    o = a.getBaseData("allPages"),
                    r = a.getBaseData("multipage");
                if (1 == o.length) return !1;
                s.saveCurPage(), r.splice(parseInt(t), 1);
                var l = _.clone(o),
                    c = o.length - 1 - t;
                o = [];
                for (var u in l)
                    if (u != t) switch (c) {
                        case 0:
                            parseInt(u) + 1 == t ? (o.push({
                                property: l[u].property,
                                active: !0
                            }), i = l[u].property) : o.push({
                                property: l[u].property,
                                active: !1
                            });
                            break;
                        default:
                            u - 1 == t ? (o.push({
                                property: l[u].property,
                                active: !0
                            }), i = l[u].property) : o.push({
                                property: l[u].property,
                                active: !1
                            })
                    }
                    activePageIndex = _.findIndex(o, {
                    active: !0
                }), 1 == o.length && (a.setBaseData({
                    isMultiPage: !0,
                    isLongPage: !0
                }), e.$broadcast("updateScope", {
                    isMultiPage: !0,
                    isLongPage: !0
                })), n.setBaseData("activeModules", i), a.setBaseData({
                    allPages: o,
                    activePageIndex: activePageIndex
                }), e.$broadcast("updateScope", {
                    allPages: o,
                    activePageIndex: activePageIndex,
                    activeModules: i
                })
            }, s.copyPage = function(t, i) {
                s.saveCurPage();
                var o = n.getBaseData("index"),
                    r = a.getBaseData("allPages"),
                    l = a.getBaseData("multipage");
                l.splice(parseInt(t), 0, l[t]);
                var c = angular.copy(r);
                r = [];
                for (var u in c)
                    if (u == t) {
                        r.push({
                            property: c[u].property,
                            active: !1
                        });
                        var d = angular.copy(c[u].property);
                        for (var p in d) d[p].index = o++;
                        r.push({
                            property: d,
                            active: !0
                        });
                        var m = d
                    } else r.push({
                        property: c[u].property,
                        active: !1
                    });
                activePageIndex = _.findIndex(r, {
                    active: !0
                }), n.setBaseData("activeModules", m), n.setBaseData("index", o), a.setBaseData({
                    allPages: r,
                    multipage: l,
                    isMultiPage: !0,
                    isLongPage: !1,
                    activePageIndex: activePageIndex
                }), i.stopPropagation(), e.$broadcast("updateScope", {
                    allPages: r,
                    isMultiPage: !0,
                    isLongPage: !1,
                    activePageIndex: activePageIndex,
                    activeModules: m
                })
            }, s.saveCurPage = function() {
                var i = n.getBaseData("activeModules"),
                    s = n.getBaseData("pageLength"),
                    o = a.getBaseData("allPages"),
                    r = a.getBaseData("multipage"),
                    l = _.findIndex(o, {
                        active: !0
                    }),
                    c = "";
                $($(".modules").html()).find("div.ng-scope[ng-controller$='Ctrl']").each(function() {
                    var e = $(this).parent().parent(),
                        a = _.findIndex(i, {
                            index: parseInt(e.attr("index"))
                        }),
                        o = "",
                        r = angular.copy(i[a].params);
                    $(this).find(".js-default-content").remove(), $(this).find(".bar").remove();
                    var l = e.attr("name").toLowerCase();
                    if ("header" != l) {
                        var u = $(this).css("top"),
                            d = $(this).css("left"),
                            p = $(this).css("width"),
                            m = $(this).css("height"),
                            f = "position:absolute;top:" + u + ";left:" + d + ";width:" + p + ";height:" + m + ";";
                        i[a].params.positionStyle.top = parseInt(u), i[a].params.positionStyle.left = parseInt(d), i[a].params.positionStyle.width = parseInt(p), i[a].params.positionStyle.height = parseInt(m), i[a].positionStyle = f
                    } else i[a].params.pageLength = s;
                    switch (l) {
                        case "link":
                            var g = this;
                            angular.forEach(r.items, function(e, n) {
                                (e.selectCate.pid || e.selectCate.cid) && $(g).find(".list-group").children().eq(n).replaceWith("<div>" + t.buildDataTagBegin("link", e) + '<div class="list-group-item ng-scope"><a href="{$row[url]}" class="clearfix"><span class="app-nav-title"> {$row[title]}<i class="pull-right fa fa-angle-right"></i></span></a></div>' + t.buildDataTagEnd() + "</div>")
                            });
                            break;
                        case "richtext":
                            i[a] && (i[a].params.content = "")
                    }
                    if (o = $(this).html(), !n.getBaseData("isNew")) {
                        var h = parseInt(u) - 64;
                        $(this).css("top", h + "px")
                    }
                    if ("header" != l) {
                        f = $(this).attr("style");
                        c += '<div type="' + l + '" style="' + f + '">' + o + "</div>"
                    }
                }), c = c.replace(/<\!\-\-([^-]*?)\-\->/g, ""), c = c.replace(/ ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), c = c.replace(/ ng\-[a-zA-Z]+/g, ""), r[l] = c, o[l].property = i, n.setBaseData("activeModules", i), a.setBaseData({
                    allPages: o,
                    multipage: r
                }), e.$broadcast("updateScope", {
                    activeModules: i,
                    allPages: o,
                    multipage: r
                })
            }, s
        }
    ]), angular.module("specialApp").service("serviceMultiSubmit", ["serviceCommon", "serviceMultiPage", "serviceSpecialBase",
        function(e, t, n) {
            var a = {};
            return a.submit = function(a) {
                t.saveCurPage();
                var i = n.getBaseData("multipage"),
                    s = n.getBaseData("allPages"),
                    o = "",
                    r = '<section class="u-arrow-bottom" style="bottom: 15%;"><div class="pre-wrap"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section></div>';
                $.each(i, function(e, t) {
                    e + 1 == i.length ? o += 1 == s.length ? '<div class="pane">' + t + "</div>" : '<div class="pane overflowhidden">' + t + "</div>" : o += 1 == s.length ? '<div class="pane">' + t + r : '<div class="pane overflowhidden">' + t + r
                });
                for (var l in s)
                    for (var c in s[l].property) delete s[l].property[c].originParams, delete s[l].property[c].marginTop;
                var u = {},
                    d = $(".app-content").css("height");
                return o = '<div style="height:' + d + '"><div class="panes">' + o + "</div></div>", o = o.replace(/<\!\-\-([^-]*?)\-\->/g, ""), o = o.replace(/ ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), o = o.replace(/ ng\-[a-zA-Z]+/g, ""), u.html = o, u.params = angular.copy(s), u.multipage = i, e.stripHaskey(u.params), u
            }, a
        }
    ]), angular.module("systemApp", ["app"]), angular.module("systemApp").controller("UpdateCacheCtrl", ["$scope", "$http",
        function(e, t) {
            e.updateCache = function() {
                t({
                    method: "POST",
                    url: "./index.php?c=system&a=updatecache",
                    data: {
                        submit: "submit"
                    },
                    beforeSend: function() {
                        $(".loader").show()
                    },
                    complete: function() {
                        $(".loader").hide()
                    }
                }).success(function(e) {
                    0 == e.message.errno && util.message(e.message.message)
                })
            }
        }
    ]), angular.module("systemApp").controller("MenuCtrl", ["$scope", "$http",
        function(e, t) {
            e.subItemGroup = {}, e.displayStatus = {}, e.editItemPanel = function(t) {
                t && (e.activeItem = {}, e.activeItem = t, $(".js-edit-panel").modal())
            }, e.editItem = function() {
                t.post("./index.php?c=system&a=menu&do=post", e.activeItem).success(function(t) {
                    t.message.errno ? util.message(t.message.message) : (e.activeItem.isNew && e.subItemGroup[e.activeItem.group].push(e.activeItem), util.message("添加菜单成功"), $(".js-edit-panel").modal("hide"))
                })
            }, e.addSubItem = function(t, n) {
                e.subItemGroup[t] || (e.subItemGroup[t] = []);
                var n = {
                    title: n.title,
                    url: n.url,
                    permissionName: n.permissionName,
                    icon: n.icon,
                    displayorder: n.displayorder,
                    isDisplay: n.isDisplay,
                    isSystem: !1,
                    group: t,
                    isNew: !0
                };
                e.editItemPanel(n)
            }, e.selectMenuIcon = function() {
                util.iconBrowser(function(t) {
                    e.activeItem.icon = t, e.$apply("activeItem")
                })
            }, e.removeSubItem = function(n, a) {
                n && confirm("确认删除此菜单？") && (void 0 === a ? t.post("./index.php?c=system&a=menu&do=delete", {
                    permission_name: n
                }).success(function(e) {
                    e.message.errno ? util.message(e.message.message) : util.message(e.message.message, "refresh")
                }) : e.subItemGroup[n].splice(a, 1))
            }, e.changeDisplay = function(n) {
                1 == e.displayStatus[n] ? status = 0 : status = 1, t.post("./index.php?c=system&a=menu&do=display_status", {
                    status: status,
                    permission_name: n
                }).success(function(t) {
                    e.displayStatus[n] = !!parseInt(status)
                })
            }
        }
    ]), angular.module("systemApp").controller("WelcomeCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.loaderror = 0, e.last_modules = null, e.get_last_modules = function() {
                t.post("./index.php?c=home&a=welcome&do=get_last_modules").success(function(t) {
                    0 == t.message.errno ? e.last_modules = t.message.message : (e.last_modules = null, e.loaderror = 1)
                })
            }, e.account_uninstall_modules_nums = 0, e.wxapp_uninstall_modules_nums = 0, e.account_modules_total = 0, e.wxapp_modules_total = 0, e.get_module_statistics = function() {
                t({
                    url: n.moduleStatisticsUrl,
                    method: "POST",
                    data: {},
                    beforeSend: function() {
                        util.loading()
                    },
                    complete: function() {}
                }).success(function(t) {
                    if (0 == t.message.errno) {
                        var n = t.message.message;
                        e.account_uninstall_modules_nums = n.account_uninstall_modules_nums, e.wxapp_uninstall_modules_nums = n.wxapp_uninstall_modules_nums, e.account_modules_total = n.account_modules_total, e.wxapp_modules_total = n.wxapp_modules_total
                    }
                })
            }, e.upgrade_module_nums = [], e.upgrade_module_nums.account_upgrade_module_nums = 0, e.upgrade_module_nums.wxapp_upgrade_module_nums = 0, e.upgrade_module_list = [], e.get_upgrade_modules = function() {
                t({
                    url: n.upgradeModulesUrl,
                    method: "POST",
                    data: {},
                    beforeSend: function() {},
                    complete: function() {}
                }).success(function(t) {
                    if (0 == t.message.errno) {
                        var n = t.message.message;
                        e.upgrade_module_nums = n.upgrade_module_nums, e.upgrade_module_list = n.upgrade_module_list, 0 == e.upgrade_module_list.length && (e.upgrade_modules_show = 0)
                    }
                })
            }, e.upgrade_show = 0, e.get_system_upgrade = function() {
                t({
                    url: n.systemUpgradeUrl,
                    method: "POST",
                    data: {},
                    beforeSend: function() {},
                    complete: function() {
                        util.loaded()
                    }
                }).success(function(t) {
                    if (0 == t.message.errno) {
                        var n = t.message.message;
                        e.upgrade = n, (n.file_nums > 0 || n.database_nums > 0 || n.script_nums > 0) && (e.upgrade_show = 1)
                    }
                })
            }, e.get_module_statistics(), e.get_upgrade_modules(), e.get_system_upgrade()
        }
    ]), angular.module("userCardApp", ["wapeditorApp"]).controller("MainCtrl", ["$scope", "widget", "config", "serviceBase", "serviceUserCardBase", "serviceSubmit", "serviceCommon", "$sanitize",
        function(e, t, n, a, i, s, o, r) {
            e.modules = [], e.editors = [], e.activeModules = a.initActiveModules(n.activeModules), e.activeItem = {}, e.activeIndex = 0, e.index = n.activeModules ? n.activeModules.length : 0, e.submit = {
                params: {},
                html: ""
            }, e.newcard = n.newcard, e.fansFields = n.fansFields, e.$on("serviceBase.editors.update", function(t, n) {
                e.editors = n
            }), e.$on("serviceBase.activeItem.update", function(t, n) {
                e.activeItem = n
            }), e.$on("serviceBase.activeModules.update", function(t, n) {
                e.activeModules = n
            }), e.addItem = function(e) {
                a.addItem(e)
            }, e.editItem = function(e) {
                i.editItem(e)
            }, e.deleteItem = function(e) {
                a.deleteItem(e)
            }, e.init = function(t, n) {
                if (e.modules = a.setModules(t, n), e.activeModules.length > 0) {
                    var i = [];
                    angular.forEach(e.activeModules, function(e, t) {
                        e && i.push(e.id)
                    })
                }
                angular.forEach(e.modules, function(e, t) {
                    e.defaultshow && -1 == $.inArray(e.id, i) && a.addItem(e.id)
                })
            }, e.url = function(e) {
                return o.url(e)
            }, e.tomedia = function(e) {
                return o.tomedia(e)
            }, e.submit = function(t) {
                e.submit = s.submit(), e.$apply("submit"), $(t.target).parents("form").submit()
            }, e.addFields = function() {
                i.addFields()
            }, e.removeFields = function(e) {
                i.removeFields(e)
            }, e.addNums = function() {
                i.addNums()
            }, e.removeNums = function(e) {
                i.removeNums(e)
            }, e.addRecharges = function() {
                i.addRecharges()
            }, e.removeRecharges = function(e) {
                i.removeRecharges(e)
            }, e.addTimes = function() {
                i.addTimes()
            }, e.removeTimes = function(e) {
                i.removeTimes(e)
            }, e.selectCoupon = function() {
                i.selectCoupon()
            }, e.clearCoupon = function() {
                i.clearCoupon()
            }, e.addThumb = function(e) {
                i.addThumb(e)
            }, e.addBgThumb = function() {
                i.addBgThumb()
            }, $(".single-submit").on("click", function(t) {
                e.submit(t)
            }), e.init(null, ["cardBasic", "cardActivity", "cardNums", "cardTimes", "cardRecharge"]), e.activeModules[1].params.discounts = n.discounts, e.editItem(0)
        }
    ]), angular.module("userCardApp").service("serviceUserCardBase", ["$rootScope", "serviceBase",
        function(e, t) {
            var n = {};
            return n.triggerActiveItem = function(e) {
                $(".app-side .editor").css("marginTop", "0"), t.triggerActiveItem(e)
            }, n.editItem = function(e) {
                var n = t.getBaseData("activeModules");
                "string" == typeof e && angular.forEach(n, function(t) {
                    t.id == e && (e = t.index)
                }), t.editItem(e)
            }, n.addFields = function() {
                var n = t.getBaseData("activeItem");
                n.params.fields.push({
                    title: "",
                    require: 1,
                    bind: "",
                    issystem: 0
                }), t.setBaseData("activeItem", n), e.$broadcast("serviceBase.activeItem.update", n)
            }, n.removeFields = function(n) {
                if ("mobile" == n.bind || "realname" == n.bind) return !1;
                var a = t.getBaseData("activeItem");
                a.params.fields = _.without(a.params.fields, n), t.setBaseData("activeItem", a), e.$broadcast("serviceBase.activeItem.update", a)
            }, n.addNums = function() {
                t.getBaseData("activeItem").params.nums.push({
                    recharge: "",
                    num: ""
                })
            }, n.removeNums = function(n) {
                var a = t.getBaseData("activeItem");
                a.params.nums = _.without(a.params.nums, n), t.setBaseData("activeItem", a), e.$broadcast("serviceBase.activeItem.update", a)
            }, n.addRecharges = function() {
                var n = t.getBaseData("activeItem");
                n.params.recharges.push({
                    condition: "",
                    back: "",
                    backtype: "0",
                    backunit: "元"
                }), t.setBaseData("activeItem", n), e.$broadcast("serviceBase.activeItem.update", n)
            }, n.removeRecharges = function(n) {
                var a = t.getBaseData("activeItem");
                a.params.recharges = _.without(a.params.recharges, n), t.setBaseData("activeItem", a), e.$broadcast("serviceBase.activeItem.update", a)
            }, n.addTimes = function() {
                var n = t.getBaseData("activeItem");
                n.params.times.push({
                    recharge: "",
                    time: ""
                }), t.setBaseData("activeItem", n), e.$broadcast("serviceBase.activeItem.update", n)
            }, n.removeTimes = function(n) {
                var a = t.getBaseData("activeItem");
                a.params.times = _.without(a.params.times, n), t.setBaseData("activeItem", a), e.$broadcast("serviceBase.activeItem.update", a)
            }, n.selectCoupon = function() {
                var n = t.getBaseData("activeItem");
                util.coupon(function(a) {
                    n.params.grant.coupon = [], angular.forEach(a, function(e) {
                        n.params.grant.coupon.push({
                            couponTitle: e.title,
                            coupon: e.id
                        })
                    }), t.setBaseData("activeItem", n), e.$apply(), e.$broadcast("serviceBase.activeItem.update", n)
                }, {
                    multiple: !0
                })
            }, n.clearCoupon = function() {
                var n = t.getBaseData("activeItem");
                n.params.grant.coupon = [], t.setBaseData("activeItem", n), e.$broadcast("serviceBase.activeItem.update", n)
            }, n.addThumb = function(n) {
                var a = t.getBaseData("activeItem");
                require(["fileUploader"], function(i) {
                    i.show(function(i) {
                        a.params[n] = i.url, t.setBaseData("activeItem", a), e.$apply(), e.$broadcast("serviceBase.activeItem.update", a)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, n.addBgThumb = function() {
                var n = t.getBaseData("activeItem");
                require(["fileUploader"], function(a) {
                    a.show(function(a) {
                        n.params.background.image = a.url, t.setBaseData("activeItem", n), e.$apply(), e.$broadcast("serviceBase.activeItem.update", n)
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, n
        }
    ]), angular.module("userCardApp").controller("CardActivityCtrl", ["$scope",
        function(e) {
            e.$watch("activeItem.params.grant_rate", function(t, n) {
                (t += "").match(/^([1-9]\d*(\.(\d)?)?|0(\.(\d)?)?)?$/) ? e.activeItem.params.grant_rate = t : e.activeItem.params.grant_rate = n
            })
        }
    ]), angular.module("userCardApp").controller("CardBasicCtrl", ["$scope", "config",
        function(e, t) {
            e.creditnames = t.creditnames, e.siteroot = t.siteroot, e.recharge_src = e.siteroot + "/app/resource/images/sum-recharge.png", e.scanpay_src = e.siteroot + "/app/resource/images/scan-pay.png"
        }
    ]), angular.module("userCardApp").controller("CardNumsCtrl", ["$scope",
        function(e) {}
    ]), angular.module("userCardApp").controller("CardRechargeCtrl", ["$scope",
        function(e) {
            require(["bootstrap"], function(e) {
                e(".dropdown-toggle").dropdown()
            })
        }
    ]), angular.module("userCardApp").controller("CardTimesCtrl", ["$scope",
        function(e) {}
    ]), angular.module("userCenterApp", ["wapeditorApp"]), angular.module("userCenterApp").controller("MainCtrl", ["$scope", "$timeout", "widget", "config", "serviceCommon", "serviceSetStyle", "serviceBase", "serviceUcSubmit", "serviceUpwardCompatible",
        function(e, t, n, a, i, s, o, r, l) {
            e.modules = [], e.editors = [], e.activeModules = a.activeModules ? a.activeModules : [], e.activeMenus = a.activeMenus ? a.activeMenus : [], e.submit = {
                params: {},
                html: ""
            }, e.isNew = !0, e.siteroot = a.siteroot, e.logo_url = e.siteroot + "/app/resource/images/heading.jpg", _.isEmpty(e.activeModules) || 1 == e.activeModules[0].params.isnew || (e.isNew = !1), e.siteEntrance = a.links.murl, e.activeItem = {}, e.activeIndex = 0, e.index = e.activeModules.length ? e.activeModules.length : 0, o.setBaseData("index", e.index), o.setBaseData("activeModules", e.activeModules), e.pageLength = !_.isEmpty(e.activeModules) && e.activeModules[0].params.pageLength ? e.activeModules[0].params.pageLength : 1, e.isLongPage = !0, e.pageLengths = {
                1: 1,
                2: 2,
                3: 3,
                4: 4,
                5: 5
            }, e.lineHeights = {
                1: 1,
                1.25: 1.25,
                1.5: 1.5,
                2: 2,
                2.5: 2.5
            }, e.fontSizes = {
                12: 12,
                14: 14,
                16: 16,
                18: 18,
                20: 20,
                22: 22,
                24: 24,
                26: 26,
                28: 28,
                30: 30,
                32: 32,
                34: 34,
                36: 36,
                38: 38,
                40: 40
            }, e.isNew || (e.activeModules = l.compatibility(e.activeModules), e.activeModules[0].params.isnew = 1, void 0 === e.activeModules[0].params.pageLength && (e.activeModules[0].params.pageLength = Math.ceil(($(".modules").height() + 520) / 568)), e.activeModules[0].params.pageLength > 1 && (e.pageLength = e.activeModules[0].params.pageLength, o.setBaseData("pageLength", e.pageLength), t(function() {
                $(".app-content").css("height", 568 * e.pageLength + "px")
            }, 100)), t(function() {
                var t = 0,
                    n = height = "";
                $(".modules>div").each(function() {
                    var a = parseInt($(this).attr("index"));
                    if (n = $(this).find("div.ng-scope[ng-controller$='Ctrl']").css("width"), height = $(this).find("div.ng-scope[ng-controller$='Ctrl']").css("height"), a > 0) {
                        for (var i in e.activeModules) e.activeModules[i].index == a && (t += parseInt(e.activeModules[i].marginTop), e.activeModules[i].params.positionStyle.width = parseInt(n), e.activeModules[i].params.positionStyle.height = parseInt(height), e.activeModules[i].params.positionStyle.top = t, e.activeModules[i].positionStyle = "position:absolute;width:" + n + ";height:" + height + ";left:" + e.activeModules[i].params.positionStyle.left + "px;top:" + t + "px;", $(this).find("div[ng-controller]").attr("style", e.activeModules[i].positionStyle));
                        t += parseInt(height)
                    }
                    i++
                }), o.setBaseData("activeModules", e.activeModules)
            }, 1e3));
            for (var c in e.activeModules) e.activeModules[c].originParams = angular.copy(e.activeModules[c].params);
            e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10;width:90px;height:34px;line-height:28px;"><i class="fa fa-check-circle"></i> 复制成功</span>');
                i.copySuccess(e, t)
            }, e.$on("serviceBase.editors.update", function(t, n) {
                e.editors = n
            }), e.$on("serviceBase.activeItem.update", function(t, n) {
                e.activeItem = n
            }), e.$on("serviceBase.activeModules.update", function(t, n) {
                e.activeModules = n
            }), e.$on("serviceBase.activeItem.params.update", function(t, n) {
                e.activeItem.params = n
            }), e.$on("serviceBase.activeItem.animationName.update", function(t, n) {
                e.activeItem.params.animationStyle.animationName = n
            }), e.$on("serviceBase.activeItem.style.update", function(t, n, a, i, s) {
                e.activeItem.params[n] = a, e.activeItem[n] = i, void 0 !== s && (e.activeItem.transform = s)
            }), e.$on("updateScope", function(t, n) {
                angular.forEach(n, function(t, n) {
                    e[n] = t
                })
            }), e.addItem = function(e) {
                o.addItem(e, "uc")
            }, e.editItem = function(e) {
                o.editItem(e)
            }, e.deleteItem = function(e) {
                o.deleteItem(e)
            }, e.submit = function(t) {
                e.submit = r.submit(), e.$apply("submit"), $(t.target).parents("form").submit()
            }, e.init = function(t, n) {
                if (e.modules = o.setModules(t, n), e.activeModules.length > 0) {
                    var a = [];
                    angular.forEach(e.activeModules, function(e, t) {
                        e && a.push(e.id)
                    })
                }
                angular.forEach(e.modules, function(e, t) {
                    e.defaultshow && -1 == $.inArray(e.id, a) && o.addItem(e.id)
                })
            }, e.setModulePositionStyle = function(e) {
                s.setModulePositionStyle(e)
            }, e.eleAnimationIns = function(e) {
                s.eleAnimationIns(e)
            }, e.savePagePosition = function() {
                s.savePagePosition(e.activeModules)
            }, e.saveModulePosition = function() {
                s.saveModulePosition(e.activeItem)
            }, e.changeTextAlign = function(t) {
                s.changeTextAlign(e.activeItem, t)
            }, e.changeBorderWidth = function() {
                s.changeBorderWidth(e.activeItem)
            }, e.changeInnerHeight = function() {
                s.changeInnerHeight(e.activeItem)
            }, e.changePageLength = function(t) {
                if (angular.isString(t))
                    if ("minus" == t && e.pageLength > 1) t = e.pageLength - 1;
                    else {
                        if (!("plus" == t && e.pageLength < 5)) return !1;
                        t = e.pageLength + 1
                    }
                var n = s.changePageLength(t, e.activeModules);
                o.setBaseData({
                    pageLength: parseInt(t),
                    activeModules: n
                })
            }, e.clearModuleStyle = function() {
                s.clearModuleStyle(e.activeItem)
            }, e.addThumb = function(t) {
                require(["fileUploader"], function(n) {
                    n.show(function(n) {
                        e.activeItem.params[t] = n.url, e.$apply("activeItem")
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, e.showIconBrowser = function(t) {
                util.iconBrowser(function(n) {
                    t.css.icon.icon = n, e.$apply("activeMenus")
                })
            }, e.addMenu = function() {
                e.activeMenus.push({
                    icon: "",
                    css: {
                        icon: {
                            icon: "fa fa-external-link"
                        }
                    },
                    name: "",
                    url: ""
                })
            }, e.removeMenu = function(t) {
                e.activeMenus = _.without(e.activeMenus, t)
            }, $(".single-submit").on("click", function(t) {
                e.submit(t)
            }), e.init(null, ["UCheader"]), e.changePageLength(e.pageLength), e.editItem(0), e.$watch("activeItem.params.baseStyle", function(e) {
                e && s.setModuleBaseStyle(e)
            }, !0), e.$watch("activeItem.params.borderStyle", function(e) {
                e && s.setModuleBorderStyle(e)
            }, !0), e.$watch("activeItem.params.shadowStyle", function(e) {
                e && s.setModuleShadowStyle(e)
            }, !0), e.$watch("activeItem.params.animationStyle", function(e) {
                e && s.setModuleAnimationStyle(e)
            }, !0), e.$watch("activeItem.params.positionStyle", function(e) {
                e && s.setModulePositionStyle(e)
            }, !0)
        }
    ]), angular.module("userCenterApp").service("serviceUcSubmit", ["serviceBase", "serviceCommon",
        function(e, t) {
            var n = {};
            return n.submit = function() {
                var n = "",
                    a = {
                        params: {},
                        html: ""
                    },
                    i = $($(".modules").html()),
                    s = e.getBaseData("activeModules"),
                    o = $(".app-usercenter").height(),
                    r = $(".app-content").height() - o + "px";
                i.find("div.ng-scope[ng-controller$='Ctrl']").each(function() {
                    var e = _.findIndex(s, {
                            index: parseInt($(this).parent().parent().attr("index"))
                        }),
                        a = "",
                        i = angular.copy(s[e].params);
                    $(this).find(".js-default-content").remove();
                    var o = $(this).parent().parent().attr("name").toLowerCase(),
                        r = $(this).css("top"),
                        l = $(this).css("left"),
                        c = $(this).css("width"),
                        u = $(this).css("height"),
                        d = "position:absolute;top:" + r + ";left:" + l + ";width:" + c + ";height:" + u + ";";
                    switch (s[e].params.positionStyle.top = parseInt(r), s[e].params.positionStyle.left = parseInt(l), s[e].params.positionStyle.width = parseInt(c), s[e].params.positionStyle.height = parseInt(u), s[e].positionStyle = d, o) {
                        case "link":
                            var p = this;
                            angular.forEach(i.items, function(e, n) {
                                (e.selectCate.pid || e.selectCate.cid) && $(p).find(".list-group").children().eq(n).replaceWith("<div>" + t.buildDataTagBegin("link", e) + '<div class="list-group-item ng-scope"><a href="{$row[url]}" class="clearfix"><span class="app-nav-title"> {$row[title]}<i class="pull-right fa fa-angle-right"></i></span></a></div>' + t.buildDataTagEnd() + "</div>")
                            });
                            break;
                        case "richtext":
                            s[e] && (s[e].params.content = "")
                    }
                    if (a = $(this).html(), "header" != o) {
                        d = $(this).attr("style");
                        n += '<div type="' + o + '" style="' + d + '">' + a + "</div>"
                    }
                    e++
                });
                var l = s[0].params.bgColor ? s[0].params.bgColor : "";
                return n = '<div class="js-design-page" style="background-color:' + l + ";height:" + r + ';position:absolute;">' + n + "</div>", n = n.replace(/<\!\-\-([^-]*?)\-\->/g, ""), n = n.replace(/ ng\-[a-zA-Z-]+=\"[^\"]*\"/g, ""), n = n.replace(/ ng\-[a-zA-Z]+/g, ""), a.html = n, a.params = angular.copy(s), t.stripHaskey(a.params), a
            }, n
        }
    ]), angular.module("userGroup", ["app"]), angular.module("userGroup").controller("UserGroupDisplay", ["$scope", "config",
        function(e, t) {
            e.lists = t.lists, e.links = t.links, e.editGroup = function(t) {
                var t = parseInt(t);
                location.href = e.links.groupPost + "id=" + t
            }, e.delGroup = function(t) {
                var t = parseInt(t);
                location.href = e.links.groupDel + "id=" + t
            }
        }
    ]), angular.module("userGroup").controller("UserGroupPost", ["$scope", "config",
        function(e, t) {
            e.groupInfo = t.groupInfo, e.packages = t.packages, e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }
        }
    ]), angular.module("userManageApp", ["app"]), angular.module("userManageApp").controller("UserEditModulesTpl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.user = n.user, e.profile = n.profile, e.group_info = n.group_info, e.groups = n.groups, e.links = n.links, e.changeGroup = e.user.groupid, e.httpChange = function(n) {
                t.post(e.links.editGroup + "uid=" + e.user.uid, {
                    type: n,
                    groupid: e.changeGroup
                }).success(function(t) {
                    2 == t.message.errno || (-1 == t.message.errno ? util.message("抱歉，请求错误，请刷新页面重试！") : 1 == t.message.errno ? util.message("修改失败，请稍候重试！") : (e.group_info = t.message.message, util.message("修改成功！")))
                })
            }, e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }
        }
    ]), angular.module("userManageApp").controller("UserEditAccount", ["$scope", "config",
        function(e, t) {
            e.user = t.user, e.wechats = t.wechats, e.wxapps = t.wxapps, e.profile = t.profile
        }
    ]), angular.module("userManageApp").controller("UserCreate", ["$scope", "config",
        function(e, t) {
            e.groups = t.groups, e.user = {
                username: "",
                password: "",
                repassword: "",
                groupid: 0,
                remark: ""
            }, e.changeType = function(e) {
                var t = $(e)[0].target;
                $(t).attr("type", "password")
            }, e.checkSubmit = function(e) {
                return "" == $.trim($("#username").val()) ? (e.preventDefault(), util.message("请输入用户名.", "", "error"), !1) : "" == $("#password").val() ? (e.preventDefault(), util.message("没有输入密码.", "", "error"), !1) : $("#password").val().length < 8 ? (e.preventDefault(), util.message("密码长度不能小于8个字符.", "", "error"), !1) : $("#password").val() != $("#repassword").val() ? (e.preventDefault(), util.message("两次输入的密码不一致.", "", "error"), !1) : "vice_founder" == $("input[name='do']").val() || "" != $("#groupid").val() && 0 != $("#groupid").val() || (e.preventDefault(), util.message("请选择所属用户组.", "", "error"), !1)
            }
        }
    ]), angular.module("userManageApp").controller("UsersDisplay", ["$scope", "config",
        function(e, t) {
            e.do = t.do, e.users = t.users, e.usergroups = t.usergroups, e.links = t.links
        }
    ]), angular.module("userManageApp").controller("FieldsDisplay", ["$scope", "config",
        function(e, t) {
            e.fields = t.fields, e.links = t.links
        }
    ]), angular.module("userManageApp").controller("FieldsPost", ["$scope", "config",
        function(e, t) {
            e.item = t.item, null == e.item ? (e.available = !0, e.required = !0, e.unchangeable = !0, e.showinregister = !0) : (1 == e.item.available ? e.available = !0 : e.available = !1, 1 == e.item.required ? e.required = !0 : e.required = !1, 1 == e.item.unchangeable ? e.unchangeable = !0 : e.unchangeable = !1, 1 == e.item.showinregister ? e.showinregister = !0 : e.showinregister = !1), e.verifyField = function() {
                var e = $('input[name="field"]');
                field_value = e.val(), reg = /^[A-Za-z0-9_]*$/, reg.test(field_value) || (util.message("请使用字母或数字或下划线组合字段名！"), e.val(""))
            }
        }
    ]), angular.module("userManageApp").controller("RegistersetCtrl", ["$scope", "config",
        function(e, t) {
            e.settings = t.settings, e.groups = t.groups
        }
    ]), angular.module("userProfile", ["app"]), angular.module("userProfile").controller("UserProfileDisplay", ["$scope", "$window", "$http", "config",
        function(e, t, n, a) {
            e.user = a.user, e.profile = a.profile, null == e.profile && (e.profile = {
                avatar: "",
                realname: "",
                births: "",
                address: "",
                resides: ""
            }), e.links = a.links, e.group_info = a.group_info, e.groups = a.groups, e.changeGroup = e.user.groupid, e.wechats = a.wechats, e.wxapps = a.wxapps, e.changeAvatar = function() {
                require(["fileUploader"], function(t) {
                    t.init(function(t) {
                        e.profile.avatar = t.url, e.$apply(e.profile), e.httpChange("avatar")
                    }, {
                        direct: !0,
                        multiple: !1
                    })
                })
            }, $(".js-clip").each(function() {
                util.clip(this, $(this).attr("data-url"))
            }), e.editInfo = function(t, n) {
                e.userOriginal = {}, e.userOriginal[t] = n
            }, e.httpChange = function(a) {
                switch (a) {
                    case "avatar":
                        n.post(e.links.userPost, {
                            type: a,
                            avatar: e.profile.avatar,
                            uid: e.user.uid
                        }).success(function(e) {
                            0 == e.message.errno ? util.message("修改成功！") : (-1 == e.message.errno && util.message(e.message.message), 1 == e.message.errno && util.message(e.message.message), 40035 == e.message.errno && util.message(e.message.message))
                        });
                        break;
                    case "username":
                        $(".modal").modal("hide"), n.post(e.links.userPost, {
                            type: a,
                            username: e.userOriginal[a],
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.user[a] = e.userOriginal[a], util.message("修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 2 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        });
                        break;
                    case "vice_founder_name":
                        $(".modal").modal("hide"), n.post(e.links.userPost, {
                            type: a,
                            vice_founder_name: e.userOriginal[a],
                            uid: e.user.uid
                        }).success(function(t) {
                            if (0 != t.message.errno) return util.message(t.message.message), !1;
                            e.user[a] = e.userOriginal[a], util.message("修改成功！")
                        });
                        break;
                    case "qq":
                        $(".modal").modal("hide"), n.post(e.links.userPost, {
                            type: a,
                            qq: e.userOriginal[a],
                            uid: e.user.uid
                        }).success(function(t) {
                            if (0 != t.message.errno) return util.message(t.message.message), !1;
                            e.profile[a] = e.userOriginal[a], util.message("修改成功！")
                        });
                        break;
                    case "password":
                        if ($(".modal").modal("hide"), 0 == t.sysinfo.isfounder) {
                            var i = $(".old-password").val();
                            if (_.isEmpty(i)) return util.message("原密码不可为空！"), !1
                        }
                        var s = $(".new-password").val(),
                            o = $(".renew-password").val();
                        if (_.isEmpty(s)) return util.message("新密码不可为空！"), !1;
                        if (_.isEmpty(o)) return util.message("确认新密码不可为空！"), !1;
                        if (s != o) return util.message("两次密码不一致！"), !1;
                        n.post(e.links.userPost, {
                            type: a,
                            oldpwd: i,
                            newpwd: s,
                            renewpwd: o,
                            uid: e.user.uid
                        }).success(function(e) {
                            0 == e.message.errno ? util.message("密码修改成功！") : (-1 == e.message.errno && util.message("抱歉，用户不存在或是已经被删除！"), 1 == e.message.errno && util.message("密码修改失败，请稍后重试！"), 2 == e.message.errno && util.message("两次密码不一致！"), 3 == e.message.errno && util.message("原密码不正确！"), 40035 == e.message.errno && util.message("不合法的参数！"))
                        });
                        break;
                    case "endtime":
                        $(".modal").modal("hide");
                        var r = e.user.endtype,
                            l = $(':text[name="endtime"]').val();
                        n.post(e.links.userPost, {
                            type: a,
                            endtype: r,
                            endtime: l,
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.user.endtype = r, e.user.end = 1 == r ? "永久" : l, util.message("到期时间修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        });
                        break;
                    case "realname":
                        if ($(".modal").modal("hide"), _.isEmpty(e.userOriginal.realname)) return util.message("真实姓名不可为空！"), !1;
                        n.post(e.links.userPost, {
                            type: a,
                            realname: e.userOriginal.realname,
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.profile.realname = e.userOriginal.realname, util.message("真实姓名修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        });
                        break;
                    case "birth":
                        $(".modal").modal("hide");
                        var c = $(".tpl-year").val(),
                            u = $(".tpl-month").val(),
                            d = $(".tpl-day").val();
                        n.post(e.links.userPost, {
                            type: a,
                            year: c,
                            month: u,
                            day: d,
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.profile.births = c + "年" + u + "月" + d + "日", util.message("修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        });
                        break;
                    case "address":
                        if ($(".modal").modal("hide"), _.isEmpty(e.userOriginal.address)) return util.message("邮寄地址不可为空！"), !1;
                        n.post(e.links.userPost, {
                            type: a,
                            address: e.userOriginal.address,
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.profile.address = e.userOriginal.address, util.message("邮寄地址修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        });
                        break;
                    case "reside":
                        $(".modal").modal("hide");
                        var p = $(".tpl-province").val(),
                            m = $(".tpl-city").val(),
                            f = $(".tpl-district").val();
                        n.post(e.links.userPost, {
                            type: a,
                            province: p,
                            city: m,
                            district: f,
                            uid: e.user.uid
                        }).success(function(t) {
                            0 == t.message.errno ? (e.profile.resides = p + " " + m + " " + f, util.message("修改成功！")) : (-1 == t.message.errno && util.message(t.message.message), 1 == t.message.errno && util.message(t.message.message), 40035 == t.message.errno && util.message(t.message.message))
                        })
                }
            }, e.changeText = function(e) {
                var t = $(e)[0].target.text;
                $(e)[0].target.text = "展开" == t ? "收起" : "展开"
            }
        }
    ]), angular.module("wxApp", ["app"]), angular.module("wxApp").controller("MainCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.wxappinfo = {
                name: n.wxappinfo.name,
                version: "",
                select: {
                    modules: [],
                    template: 1
                },
                quickmenu: {
                    show: !0,
                    bottom: {
                        bgcolor: "#bebebe",
                        boundary: "#fff",
                        selectedColor: "#0f0",
                        color: "#428bca"
                    },
                    menus: [{
                        name: "首页",
                        defaultImage: "./resource/images/bottom-default.png",
                        selectedImage: "./resource/images/bottom-default.png",
                        module: {}
                    }, {
                        name: "首页",
                        defaultImage: "./resource/images/bottom-default.png",
                        selectedImage: "./resource/images/bottom-default.png",
                        module: {}
                    }]
                },
                submit: "yes",
                token: n.token,
                uniacid: n.uniacid
            }, e.apps = [], e.createStep = 1, e.version = n.version, e.designMethod = n.designMethod, e.moduleEntries = [], e.prevStep = function() {
                e.createStep <= 1 ? e.createStep = 1 : e.createStep -= 1, e.createStep < 4 && 3 == e.designMethod && (e.createStep = 1)
            }, e.nextStep = function() {
                e.createStep > 4 ? e.createStep = 4 : e.checkComplete() && (e.createStep += 1), 2 == e.createStep && 3 == e.designMethod && (e.createStep = 4)
            }, e.backToStep = function(t) {
                var n = parseInt(t);
                n < e.createStep && (n <= 2 && (e.type = 0), e.createStep = n)
            }, e.selectType = function(t) {
                e.type = parseInt(t), $(':hidden[name="type"]').val(t)
            }, e.changeType = function(t) {
                e.type = parseInt(t), $(':hidden[name="type"]').val(t)
            }, e.searchTpl = function() {
                var e = $(':text[id="searchtpl"]').val();
                "默认模版".match(e) ? ($(':hidden[name="template"]').val(1), $(".select-tem-list > ul").show()) : ($(':hidden[name="template"]').val(""), $(".select-tem-list > ul").hide())
            }, e.selectTpl = function(t) {
                e.wxappinfo.select.template = t
            }, e.getModuleEntries = function() {
                if (0 == e.moduleEntries.length && e.wxappinfo.select.modules)
                    for (i in e.wxappinfo.select.modules)
                        if (e.wxappinfo.select.modules[i].bindings)
                            for (j in e.wxappinfo.select.modules[i].bindings) e.moduleEntries.push({
                                title: e.wxappinfo.select.modules[i].bindings[j].title,
                                url: e.wxappinfo.select.modules[i].bindings[j].do,
                                module: e.wxappinfo.select.modules[i].title
                            })
            }, e.showMenu = function() {
                e.wxappinfo.quickmenu.show = !e.wxappinfo.quickmenu.show
            }, e.addMenu = function() {
                if (e.wxappinfo.quickmenu.menus.length >= 5) return !1;
                e.wxappinfo.quickmenu.menus.push({
                    name: "首页",
                    defaultImage: "./resource/images/bottom-default.png",
                    selectedImage: "./resource/images/bottom-default.png",
                    module: {}
                })
            }, e.delMenu = function(t) {
                e.wxappinfo.quickmenu.menus = _.without(e.wxappinfo.quickmenu.menus, e.wxappinfo.quickmenu.menus[t])
            }, e.addDefaultImg = function(t) {
                fileUploader.show(function(n) {
                    e.wxappinfo.quickmenu.menus[t].defaultImage = n.url, e.$apply(e.wxappinfo)
                }, {
                    direct: !0,
                    multiple: !1
                })
            }, e.addSelectedImg = function(t) {
                fileUploader.show(function(n) {
                    e.wxappinfo.quickmenu.menus[t].selectedImage = n.url, e.$apply(e.wxappinfo)
                }, {
                    direct: !0,
                    multiple: !1
                })
            }, e.checkComplete = function() {
                e.createStep;
                if (!e.wxappinfo.uniacid) {
                    if (!e.wxappinfo.name) return util.message("小程序名称不可为空！"), !1;
                    if (!e.wxappinfo.account) return util.message("小程序账号不可为空！"), !1;
                    if (!e.wxappinfo.original) return util.message("原始ID不可为空！"), !1;
                    if (!e.wxappinfo.appid) return util.message("AppId不可为空！"), !1;
                    if (!e.wxappinfo.appsecret) return util.message("AppSecret不可为空！"), !1
                }
                return e.wxappinfo.description ? e.wxappinfo.version && /^[a-zA-Z0-9\.]+$/.test(e.wxappinfo.version) ? (e.getModuleEntries(), !0) : (util.message("版本号错误，只能是字母、数字、点，例如 v1.0.1"), !1) : (util.message("请填写描述"), !1)
            }, e.package = function(a) {
                return !(0 == e.wxappinfo.select.modules.length && !confirm("添加小程序模块应用后才可进行打包操作，是否继续仅保存？")) && (t.post(n.wxappPostUrl, e.wxappinfo).success(function(e) {
                    e.message.errno ? util.message(e.message.message, "", "error") : util.message(e.message.message, e.redirect, "success")
                }), !1)
            }
        }
    ]), angular.module("wxApp").controller("WxappEditCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.uniacid = n.uniacid, e.multiid = n.multiid, e.success_url = n.success_url, e.account_list = [], e.current_module = "", e.category = {
                id: "",
                name: "",
                displayorder: "",
                linkurl: ""
            }, e.wxapp = n.wxapp, e.slideedit = function(t) {
                e.wxapp = "slideedit", e.slideid = t
            }, e.navedit = function(t) {
                e.wxapp = "navedit", e.navid = t
            }, e.recommendedit = function(t, n) {
                e.wxapp = "recommendedit", e.recommendid = t, e.recommendpid = n
            }, e.showAccount = function(a) {
                e.account_list = "", t.post(n.links.accountList, {
                    module: a
                }).success(function(t) {
                    e.account_list = t.message.message, e.current_module = a, console.dir(t)
                }), $("#show_account").modal("show")
            }, e.selectAccount = function(e, a) {
                var i = window.location.href;
                t.post(n.links.saveConnection, {
                    module: e,
                    uniacid: a
                }).success(function(t) {
                    0 == t.message.errno ? ($(".js-connection-img-" + e).attr("src", t.message.message.thumb), $(".js-connection-name-" + e).text(t.message.message.name), util.message("修改成功", i, "success")) : util.message(t.message.message, "", "error"), $("#show_account").modal("hide")
                })
            }, e.categoryedit = function(t, n) {
                e.wxapp = "categoryedit", e.categoryeditid = t, e.categoryparentid = n
            }, e.get_categorys = function() {
                t.post(n.links.getCategorys, {
                    uniacid: e.uniacid,
                    multiid: e.multiid
                }).success(function(t) {
                    e.categorys = t.message.message
                })
            }, e.get_categorys(), e.edit_category = function() {
                e.categorys.push({
                    name: "",
                    displayorder: "",
                    linkurl: ""
                })
            }, e.del_category = function(a) {
                void 0 != e.categorys[a].id ? (t.post(n.links.delCategory, {
                    id: e.categorys[a].id
                }).success(function() {}), e.get_categorys()) : e.categorys.splice(a, 1)
            }, e.save_category = function() {
                if (e.name_exist = !1, angular.forEach(e.categorys, function(t) {
                    "" == t.name && (util.message("请填写类名"), e.name_exist = !0)
                }), 1 == e.name_exist) return !1;
                t.post(n.links.saveCategory, {
                    post: e.categorys,
                    uniacid: uniacid,
                    multiid: n.multiid
                }).success(function(e) {}), e.get_categorys(), $("#myModal").modal("hide")
            }
        }
    ]), angular.module("wxApp").controller("AccountManageWxappCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.wxapp_version_lists = n.wxapp_version_lists, e.wxapp_modules = n.wxapp_modules, e.version_exist = n.version_exist, e.activeVersion = {}, e.showEditVersionInfoModal = function(t) {
                $("#modal_edit_versioninfo").modal("show"), e.activeVersion = t || {}, e.middleVersion = angular.copy(e.activeVersion), !_.isEmpty(e.activeVersion) && _.isEmpty(e.activeVersion.modules) && $(".wxapp-module-list .add").css("display", "")
            }, e.showEditModuleModal = function() {
                $("#modal_edit_module").modal("show"), e.newWxModule = {}
            }, e.selectedWxModule = function(t, n) {
                var a = $(n.target).parents(".select-module-wxapp");
                a.find("span").removeClass("hide"), a.siblings().find("span").addClass("hide"), e.newWxModule = t
            }, e.changeWxModules = function() {
                e.newWxModule || util.message("请选择一个应用模块！"), e.activeVersion.modules && 3 != e.activeVersion.design_method ? _.indexOf(e.activeVersion.modules, e.newWxModule) > -1 ? util.message("该应用模块已存在！") : e.activeVersion.modules.push(e.newWxModule) : (e.activeVersion.modules = [e.newWxModule], $(".wxapp-module-list .add").css("display", "none")), $("#modal_edit_module").modal("hide")
            }, e.editVersionInfo = function() {
                if (_.isEmpty(e.activeVersion.modules)) return util.message("应用模块不可为空！"), !1;
                t.post(n.links.edit_version, {
                    version_info: e.activeVersion
                }).success(function(e) {
                    $("#modal_edit_versioninfo").modal("hide"), 0 == e.message.errno ? util.message(e.message.message, e.redirect, "success") : util.message(e.message.message)
                })
            }, e.cancelVersionInfo = function() {
                e.middleVersion.modules ? e.activeVersion.modules = e.middleVersion.modules : e.activeVersion.modules = []
            }, e.delWxappVersion = function(e) {
                var e = parseInt(e);
                t.post(n.links.del_version, {
                    versionid: e
                }).success(function(e) {
                    0 == e.message.errno ? util.message(e.message.message, e.redirect, "success") : util.message(e.message.message)
                })
            }, e.delModule = function(t) {
                var n = _.indexOf(e.activeVersion.modules, t);
                n > -1 && (e.activeVersion.modules = _.without(e.activeVersion.modules, e.activeVersion.modules[n])), _.isEmpty(e.activeVersion.modules) && $(".wxapp-module-list .add").css("display", "")
            }
        }
    ]), angular.module("wxApp").controller("PaymentCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.config = n, e.paysetting = n.paysetting, e.saveEdit = function(n) {
                if ("wechat" == n) {
                    if ("" == e.paysetting.wechat.mchid) return util.message("请填写商户号", "", "info"), !1;
                    if ("" == e.paysetting.wechat.signkey) return util.message("请填写支付秘钥", "", "info"), !1
                }
                t.post(e.config.saveurl, {
                    type: n,
                    param: e.paysetting[n]
                }).success(function(e) {
                    0 == e.message.errno && $(".modal").modal("hide")
                })
            }, $(".modal").on("hide.bs.modal", function() {
                t.post(e.config.get_setting_url, {}).success(function(t) {
                    e.paysetting = t.message.message
                })
            }), e.tokenGen = function(t) {
                for (var n = "", a = 0; a < 32; a++) n += "abcdefghijklmnopqrstuvwxyz0123456789" [parseInt(32 * Math.random())];
                "wechat.signkey" == t && (e.paysetting.wechat.signkey = n)
            }
        }
    ]), angular.module("wxApp").controller("AccountDisplayWxappCtrl", ["$scope", "$http", "$timeout", "config",
        function(e, t, n, a) {
            e.wxapp_lists = a.wxapp_lists, e.links = a.links, e.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "#", "全部"], e.activeLetter = a.activeLetter, e.showVersions = function(e) {
                var t = $(e.target).parents(".mask").next(".cut-select");
                "none" == t.css("display") ? (t.css("display", "block"), t.parent(".wxapp-list-item").siblings().find(".cut-select").css("display", "none")) : t.css("display", "none")
            }, e.hideSelect = function(e) {
                $(e.target).css("display", "none")
            }, e.searchModule = function(t) {
                e.activeLetter = t, n(function() {
                    $(".button").click()
                }, 500)
            }
        }
    ]), angular.module("wxApp").controller("WxappWelcomeCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.notices = n.notices, e.loaderror = 0, e.last_modules = null, e.daily_visittrend = [], t({
                method: "POST",
                url: "./index.php?c=wxapp&a=version&do=get_daily_visittrend"
            }).success(function(t) {
                0 == t.message.errno && (e.daily_visittrend = t.message.message)
            }), e.get_last_modules = function() {
                t.post("./index.php?c=home&a=welcome&do=get_last_modules").success(function(t) {
                    if (0 == t.message.errno) {
                        var n = [];
                        angular.forEach(t.message.message, function(e, t) {
                            e.wxapp && n.push(e)
                        }), e.last_modules = n
                    } else e.last_modules = null, e.loaderror = 1
                })
            }, e.get_last_modules()
        }
    ]), angular.module("wxApp").controller("moduleLinkUniacidCtrl", ["$scope", "$http", "config",
        function(e, t, n) {
            e.versionInfo = n.version_info, e.module = "", e.searchLinkAccount = function(a) {
                e.module = a, $("#show-account").modal("show"), t.post(n.links.search_link_account, {
                    module_name: a
                }).success(function(t) {
                    e.linkAccounts = t.message.message
                })
            }, e.selectLinkAccount = function(t, n) {
                $(n.target).addClass("active"), $(n.target).parent().siblings().find(".item").removeClass("active"), e.selectedAccount = t
            }, e.moduleLinkUniacid = function() {
                $("#show-account").modal("hide"), t.post(n.links.module_link_uniacid, {
                    module_name: e.module,
                    submit: "yes",
                    token: n.token,
                    uniacid: e.selectedAccount.uniacid,
                    version_id: e.versionInfo.id
                }).success(function(e) {
                    0 == e.message.errno ? util.message("关联成功", "refresh", "success") : util.message(e.message.message)
                })
            }
        }
    ]), angular.module("wxApp").controller("WxappEntranceCtrl", ["$scope", "$http", "serviceCommon", "config",
        function(e, t, n, a) {
            e.moduleList = a.moduleList, e.success = function(e) {
                var e = parseInt(e),
                    t = $('<span class="label label-success" style="position:absolute;z-index:10;width:90px;height:34px;line-height:28px;"><i class="fa fa-check-circle"></i> 复制成功</span>');
                n.copySuccess(e, t)
            }
        }
    ]), angular.module("wxApp").directive("we7SelectMore", ["$http",
        function(e) {
            return {
                restrict: "EA",
                templateUrl: "directive-selectmore-module-item.html",
                scope: {
                    selectModules: "=we7Modules",
                    selectSingle: "=we7SelecteSingle"
                },
                link: function(t) {
                    t.selectMore = function() {
                        t.wxappModuleList && 0 != t.wxappModuleList.length ? $("#modules-Modal").modal("show") : e({
                            method: "POST",
                            url: "./index.php?c=wxapp&a=post&do=get_wxapp_modules",
                            cache: !0
                        }).success(function(e, n) {
                            t.wxappModuleList = e.message.message, $("#modules-Modal").modal("show")
                        })
                    }, t.selectModule = function(e) {
                        if (t.selectSingle) return t.selectModules = [], t.selectModules.push({
                            title: e.title,
                            module: e.name,
                            icon: e.logo,
                            version: e.version,
                            bindings: e.bindings
                        }), $("#modules-Modal").modal("hide"), $(".app-list .select-more").css("display", "none"), !1;
                        t.selectModules.push({
                            title: e.title,
                            module: e.name,
                            icon: e.logo,
                            version: e.version,
                            bindings: e.bindings
                        }), $("#modules-Modal").modal("hide")
                    }, t.delModule = function(e) {
                        _.indexOf(t.selectModules, e) > -1 && (t.selectModules = _.without(t.selectModules, e)), _.isEmpty(t.selectModules) && $(".app-list .select-more").css("display", "")
                    }
                }
            }
        }
    ]), angular.module("wxApp").service("serviceCommon", ["$rootScope",
        function(e) {
            var t = {};
            return t.copySuccess = function(e, t) {
                var e = parseInt(e),
                    t = t,
                    n = $("#copy-" + e).next().html();
                (!n || n.indexOf('<span class="label label-success" style="position:absolute;z-index:10"><i class="fa fa-check-circle"></i> 复制成功</span>') < 0) && $("#copy-" + e).after(t), setTimeout(function() {
                    t.remove()
                }, 2e3)
            }, t
        }
    ]);